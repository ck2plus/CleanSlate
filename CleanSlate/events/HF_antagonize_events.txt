# Written by Flavio

namespace = HF

# on_five_years pulse handling the AI picking a Antagonizing target
character_event = {
	id = HF.21997

	is_triggered_only = yes
	hide_window = yes

	only_playable = yes
	has_dlc = "Holy Fury"
	ai = yes
	min_age = 16
	only_capable = yes
	prisoner = no

	trigger = {
		is_landed = yes
		is_inaccessible_trigger = no

		NOT = {
			persistent_event_target:antagonize_target = {
				is_alive = yes
			}
		}
	}

	immediate = {
		if = {
			limit = { persistent_event_target:antagonize_target = { always = yes } }

			persistent_event_target:antagonize_target = {
				clr_character_flag = flag_character_being_antagonized
			}

			remove_special_interest = persistent_event_target:antagonize_target
			clear_persistent_event_target = antagonize_target
		}

		random_realm_lord = {
			limit = {
				is_adult = yes
				is_incapable = no
				is_inaccessible_trigger = no

				NOR = {
					is_lover = ROOT
					is_friend = ROOT
					is_child_of = ROOT
					has_character_flag = flag_character_being_swayed
					has_character_flag = flag_character_being_antagonized
				}
			}

			save_event_target_as = potential_antagonized

			random = {
				chance = 70

				mult_modifier = {
					factor = 5 # Liege of player more likely to pick on him

					vassal_of = ROOT
					ai = no

					ROOT = {
						OR = {
							trait = cruel
							trait = impaler
							trait = deceitful
							trait = master_schemer
							trait = paranoid
							trait = lunatic
							trait = possessed
						}
					}
				}

				# Soft modifiers
				mult_modifier = {
					factor = 0.25 # The average liege should probably not pick on his vassals

					vassal_of = ROOT
					religion = ROOT

					ROOT = {
						NOR = {
							trait = cruel
							trait = impaler
							trait = deceitful
							trait = master_schemer
							trait = paranoid
							trait = lunatic
							trait = possessed
						}
					}
				}

				mult_modifier = {
					factor = 0.25 # Zealous picking on the unbelievers

					ROOT = { trait = zealous }

					OR = {
						trait = cynical
						NOT = { religion = ROOT }

						trigger_if = {
							limit = { trait = sympathy_christendom }
							ROOT = { NOT = { religion_group = christian } }
						}

						trigger_if = {
							limit = { trait = sympathy_islam}
							ROOT = { NOT = { religion_group = muslim } }
						}

						trigger_if = {
							limit = { trait = sympathy_pagans}
							ROOT = { NOT = { religion_group = pagan_group } }
						}

						trigger_if = {
							limit = { trait = sympathy_zoroastrianism}
							ROOT = { NOT = { religion_group = zoroastrian_group } }
						}

						trigger_if = {
							limit = { trait = sympathy_judaism}
							ROOT = { NOT = { religion_group = jewish_group } }
						}

						trigger_if = {
							limit = { trait = sympathy_indian}
							ROOT = { NOT = { religion_group = indian_group } }
						}
					}
				}

				# Trait compatibility modifiers - Already so much in common, why fight?
				mult_modifier = {
					factor = 0.2

					calc_true_if = {
						amount >= 4

						AND = {
							trait = lustful
							ROOT = { trait = lustful }
						}

						AND = {
							trait = gluttonous
							ROOT = { trait = gluttonous }
						}

						AND = {
							trait = greedy
							ROOT = { trait = greedy }
						}

						AND = {
							trait = slothful
							ROOT = { trait = slothful }
						}

						AND = {
							trait = wroth
							ROOT = { trait = wroth }
						}

						AND = {
							trait = envious
							ROOT = { trait = envious }
						}

						AND = {
							trait = proud
							ROOT = { trait = proud }
						}

						AND = {
							trait = chaste
							ROOT = { trait = chaste }
						}

						AND = {
							trait = temperate
							ROOT = { trait = temperate }
						}

						AND = {
							trait = charitable
							ROOT = { trait = charitable }
						}

						AND = {
							trait = diligent
							ROOT = { trait = diligent }
						}

						AND = {
							trait = patient
							ROOT = { trait = patient }
						}

						AND = {
							trait = kind
							ROOT = { trait = kind }
						}

						AND = {
							trait = humble
							ROOT = { trait = humble }
						}

						AND = {
							trait = deceitful
							ROOT = { trait = deceitful }
						}

						AND = {
							trait = honest
							ROOT = { trait = honest }
						}

						AND = {
							trait = brave
							ROOT = { trait = brave }
						}

						AND = {
							trait = craven
							ROOT = { trait = craven }
						}

						AND = {
							trait = gregarious
							ROOT = { trait = gregarious }
						}

						AND = {
							trait = ambitious
							ROOT = { trait = ambitious }
						}

						AND = {
							trait = content
							ROOT = { trait = content }
						}

						AND = {
							trait = arbitrary
							ROOT = { trait = arbitrary }
						}

						AND = {
							trait = just
							ROOT = { trait = just }
						}

						AND = {
							trait = cynical
							ROOT = { trait = cynical }
						}

						AND = {
							trait = zealous
							ROOT = { trait = zealous }
						}

						AND = {
							trait = paranoid
							ROOT = { trait = paranoid }
						}

						AND = {
							trait = trusting
							ROOT = { trait = trusting }
						}

						AND = {
							trait = cruel
							ROOT = { trait = cruel }
						}

						AND = {
							trait = erudite
							ROOT = { trait = erudite }
						}

						AND = {
							trait = stubborn
							ROOT = { trait = stubborn }
						}

						AND = {
							trait = hedonist
							ROOT = { trait = hedonist }
						}

						AND = {
							trait = scholar
							ROOT = { trait = scholar }
						}

						AND = {
							trait = gardener
							ROOT = { trait = gardener }
						}

						AND = {
							trait = mystic
							ROOT = { trait = mystic }
						}

						AND = {
							trait = impaler
							ROOT = { trait = impaler }
						}

						AND = {
							trait = duelist
							ROOT = { trait = duelist }
						}

						AND = {
							trait = hunter
							ROOT = { trait = hunter }
						}

						AND = {
							trait = master_seducer
							ROOT = { trait = master_seducer }
						}

						AND = {
							trait = master_seductress
							ROOT = { trait = master_seductress }
						}

						AND = {
							trait = administrator
							ROOT = { trait = administrator }
						}

						AND = {
							trait = architect
							ROOT = { trait = architect }
						}

						AND = {
							trait = strategist
							ROOT = { trait = strategist }
						}

						AND = {
							trait = socializer
							ROOT = { trait = socializer }
						}

						AND = {
							trait = master_schemer
							ROOT = { trait = master_schemer }
						}

						AND = {
							trait = theologian
							religion = ROOT
							ROOT = { trait = theologian }
						}

						AND = {
							trait = game_master
							ROOT = { trait = game_master }
						}
					}
				}

				mult_modifier = {
					factor = 0.5
					is_married = ROOT
				}

				# Opinion modifiers
				mult_modifier = { # I hate you, you must hate me
					factor = 1.5

					reverse_opinion = {
						who = ROOT
						value < 0
					}

					opinion = {
						who = ROOT
						value >= 20
					}
				}

				mult_modifier = { # I hate you, you must hate me
					factor = 1.5

					reverse_opinion = {
						who = ROOT
						value < -20
					}

					opinion = {
						who = ROOT
						value >= 20
					}
				}

				mult_modifier = { # I hate you, you must hate me
					factor = 2

					reverse_opinion = {
						who = ROOT
						value < -40
					}

					opinion = {
						who = ROOT
						value >= 20
					}
				}

				mult_modifier = { # I hate you, you must hate me
					factor = 2

					reverse_opinion = {
						who = ROOT
						value < -60
					}

					opinion = {
						who = ROOT
						value >= 20
					}
				}

				set_character_flag = flag_character_being_antagonized # Only used for AI weights

				ROOT = {
					save_persistent_event_target = {
						name = antagonize_target
						scope = event_target:potential_antagonized
					}

					add_special_interest = {
						who = persistent_event_target:antagonize_target
						key = antagonizing_target_key
					}
				}
			}
		}
	}
}

character_event = {
	id = HF.22999

	is_triggered_only = yes # on_yearly_pulse
	hide_window = yes

	has_dlc = "Holy Fury"
	capable_only = yes
	prisoner = no

	trigger = {
		persistent_event_target:antagonize_target = { # If character has become incapable, out of reach or otherwise unable to be interacted with, a notification event will be sent.
			is_alive = yes
		}

		NOT = {
			has_opinion_modifier = {
				name = antagonize_stop_cooldown
				who = persistent_event_target:antagonize_target
			}
		}
	}

	immediate = {
		# Further delayed to prevent potential overlapping with Sway events.
		character_event = {
			id = HF.22000
			days = 90
			random = 120
		}
	}
}

# Giant yearly event firing all the events related to appeasement.
character_event = {
	id = HF.22000

	is_triggered_only = yes
	hide_window = yes

	capable_only = yes
	prisoner = no

	trigger = {
		# If character has become incapable, out of reach or otherwise unable to be interacted with, a notification event will be sent.
		persistent_event_target:antagonize_target = {
			is_alive = yes # HF.21001 is sent on_death
		}
		is_inaccessible_trigger = no
	}

	immediate = {
		################## CLEAN UP EVENTS ####################

		if = {
			limit = {
				trigger_if = {
					limit = { in_seclusion = yes }

					persistent_event_target:antagonize_target = {
						NAND = {
							in_seclusion = yes
							at_location = ROOT
						}
					}
				}
				trigger_else = {
					persistent_event_target:antagonize_target = {
						in_seclusion = yes
					}
				}
			}

			character_event = { id = HF.22006 } # You or your target have separately gone into Seclusion (somehow), clear target.
		}
		else_if = {
			limit = {
				persistent_event_target:antagonize_target = { prisoner = yes }
				NOT = { has_character_flag = flag_antagonized_prisoner_notification }
			}

			character_event = { id = HF.22005 } # Imprisoned, clear event target.
		}
		else_if = {
			limit = {
				persistent_event_target:antagonize_target = { is_incapable = yes }
			}

			character_event = { id = HF.22008 } # Incapable, clear event target.
		}
		else_if = {
			limit = {
				# Doesn't check for rivalry, because one event below can fire if already rivals
				OR = {
					is_friend = persistent_event_target:antagonize_target
					is_lover = persistent_event_target:antagonize_target
				}
			}

			character_event = { id = HF.22123 } # Antagonized has turned into a friend/lover, clear target.
		}
	#	else_if = {
	#		# Out of range, clear event target.
	#		limit = {
	#			NOT = { is_within_diplo_range = persistent_event_target:antagonize_target  }
	#		}
	#
	#		character_event = { id = HF.22003 }
	#	}
		else_if = {
			limit = {
				persistent_event_target:antagonize_target = {
					is_inaccessible_or_incapable_trigger = no
				}
			}
			random_list = {
				################## CLEAN UP EVENTS ####################

				100 = { # Antagonized has turned into a rival, clear target.
					trigger = { is_rival = persistent_event_target:antagonize_target }

					character_event = { id = HF.22123 }
				}

				10 = { # You have succeeded and gained a rival.
					trigger = {
						num_of_rivals < 5
						NOT = { is_rival = persistent_event_target:antagonize_target }

						opinion = {
							who = persistent_event_target:antagonize_target
							value < -10
						}

						persistent_event_target:antagonize_target = {
							num_of_rivals < 5

							opinion = {
								who = ROOT
								value < -25
							}
						}
					}

					mult_modifier = {
						factor = 1.5

						reverse_opinion = {
							who = persistent_event_target:antagonize_target
							value < -30
						}
					}

					mult_modifier = {
						factor = 1.5

						reverse_opinion = {
							who = persistent_event_target:antagonize_target
							value < -40
						}
					}

					mult_modifier = {
						factor = 1.5

						reverse_opinion = {
							who = persistent_event_target:antagonize_target
							value < -50
						}
					}

					mult_modifier = {
						factor = 1.5

						reverse_opinion = {
							who = persistent_event_target:antagonize_target
							value < -60
						}
					}

					persistent_event_target:antagonize_target = {
						character_event = { id = HF.22009 }
					}
				}

				################## TIER ONE EVENTS (Base, generic notifications) ####################

				1 = { # Prestige for prestige/opinion.
					trigger = {
						persistent_event_target:antagonize_target = {
							is_inaccessible_trigger = no
							NOT = { is_rival = ROOT }
						}
					}

					character_event = { id = HF.22012 }
				}

				1 = { # Generic Bad rumors.
					trigger = {
						persistent_event_target:antagonize_target = {
							is_inaccessible_trigger = no
							NOT = { is_rival = ROOT }
						}
					}

					character_event = { id = HF.22017 }
				}

				################## TIER TWO EVENTS (Main Slander event) ####################

				30 = { # Main slander event.
					trigger = { # Character must have at LEAST one trait.
						persistent_event_target:antagonize_target = {
							OR = {
								AND = {
									is_close_relative = ROOT
									dynasty = ROOT
								}

								NOT = { religion_group = ROOT }
								is_heresy_of = ROOT
								trait = dwarf
								trait = hunchback
								trait = kinslayer
								trait = familial_kinslayer
								trait = dynastic_kinslayer
								trait = excommunicated
								trait = eunuch
								trait = mystic
								trait = master_seducer
								trait = master_seductress
								trait = lovers_pox
								trait = master_schemer
								trait = impaler
								trait = hedonist
								trait = bastard
								trait = legit_bastard
								trait = child_of_consort
								trait = maimed
								trait = infirm
								trait = malnourished
								trait = fat
								trait = depressed
								trait = drunkard
								trait = lunatic
								trait = possessed
								has_ugly_trait_trigger = yes
								trait = chaste
								trait = temperate
								trait = diligent
								trait = patient
								trait = kind
								trait = humble
								trait = lustful
								trait = gluttonous
								trait = greedy
								trait = wroth
								trait = envious
								trait = ambitious
								trait = arbitrary
								trait = brave
								trait = content
								trait = craven
								trait = gregarious
								trait = deceitful
								trait = just
								trait = paranoid
								trait = dull
								trait = trusting
								trait = zealous

								AND = {
									trait = erudite
									religion_openly_hellenic_or_reformed_trigger = no
									ROOT = { religion_group = pagan_group }
								}

								AND = {
									trait = cynical
									religion = ROOT
								}
							}

							is_inaccessible_trigger = no
						}
					}

					persistent_event_target:antagonize_target = {
						character_event = { id = HF.22020 }
					}
				}

				################## TIER THREE EVENTS (Intrigue-locked events) ####################

				20 = { # Fund blackguard.
					trigger = {
						trigger_if = {
							limit = { is_rival = persistent_event_target:antagonize_target }
							intrigue >= 5
						}
						trigger_else = {
							intrigue >= 8
						}

						persistent_event_target:antagonize_target = {
							independent = yes
							is_ruler = yes
						}
					}

					mult_modifier = { # Should rarely fire as first event.
						factor = 0.1

						persistent_event_target:antagonize_target = {
							NOR = {
								has_opinion_modifier = { who = ROOT name = opinion_antagonized_1 }
								has_opinion_modifier = { who = ROOT name = opinion_antagonized_2 }
								has_opinion_modifier = { who = ROOT name = opinion_antagonized_3 }
							}
						}
					}

					mult_modifier = {
						factor = 0.5
						intrigue < 10
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 2
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 4
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 6
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 8
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 10
						}
					}

					character_event = { id = HF.22051 }
				}

				5 = { # Sins event - Lustful.
					trigger = {
						intrigue >= 10

						persistent_event_target:antagonize_target = {
							trait = lustful
							is_ruler = yes

							NOR = {
								trait = great_pox
								has_character_modifier = antagonize_sins_1_cooldown
							}
						}
					}

					mult_modifier = { # Should rarely fire as first event.
						factor = 0.5

						persistent_event_target:antagonize_target = {
							NOR = {
								has_opinion_modifier = { who = ROOT name = opinion_antagonized_1 }
								has_opinion_modifier = { who = ROOT name = opinion_antagonized_2 }
								has_opinion_modifier = { who = ROOT name = opinion_antagonized_3 }
							}
						}
					}

					mult_modifier = {
						factor = 0.1
						intrigue < 12
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 2
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 4
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 6
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 8
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 10
						}
					}

					persistent_event_target:antagonize_target = {
						add_character_modifier = {
							name = antagonize_sins_1_cooldown
							years = 20
							hidden = yes
						}
					}

					character_event = { id = HF.22070 }
				}

				5 = { # Sins event - Gluttonous.
					trigger = {
						intrigue >= 10

						persistent_event_target:antagonize_target = {
							trait = gluttonous
							is_ruler = yes

							NOR = {
								trait = food_poisoning
								trait = ill
								has_character_modifier = antagonize_sins_2_cooldown
							}
						}
					}

					mult_modifier = { # Should rarely fire as first event.
						factor = 0.5

						persistent_event_target:antagonize_target = {
							NOR = {
								has_opinion_modifier = { who = ROOT name = opinion_antagonized_1 }
								has_opinion_modifier = { who = ROOT name = opinion_antagonized_2 }
								has_opinion_modifier = { who = ROOT name = opinion_antagonized_3 }
							}
						}
					}

					mult_modifier = {
						factor = 0.1
						intrigue < 12
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 2
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 4
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 6
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 8
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 10
						}
					}

					persistent_event_target:antagonize_target = {
						add_character_modifier = {
							name = antagonize_sins_2_cooldown
							years = 20
							hidden = yes
						}
					}

					character_event = { id = HF.22076 }
				}

				5 = { # Sins event - Greedy.
					trigger = {
						intrigue >= 10

						persistent_event_target:antagonize_target = {
							trait = greedy
							is_ruler = yes
							NOT = { has_character_modifier = antagonize_sins_3_cooldown }
						}
					}

					mult_modifier = { # Should rarely fire as first event.
						factor = 0.5

						persistent_event_target:antagonize_target = {
							NOR = {
								has_opinion_modifier = { who = ROOT name = opinion_antagonized_1 }
								has_opinion_modifier = { who = ROOT name = opinion_antagonized_2 }
								has_opinion_modifier = { who = ROOT name = opinion_antagonized_3 }
							}
						}
					}

					mult_modifier = {
						factor = 0.1
						intrigue < 12
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 2
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 4
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 6
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 8
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 10
						}
					}

					persistent_event_target:antagonize_target = {
						add_character_modifier = {
							name = antagonize_sins_3_cooldown
							years = 20
							hidden = yes
						}
					}

					character_event = { id = HF.22082 }
				}

				5 = { # Sins event - Slothful.
					trigger = {
						intrigue >= 10

						persistent_event_target:antagonize_target = {
							trait = slothful
							is_ruler = yes
							NOT = { has_character_modifier = antagonize_sins_4_cooldown }
						}
					}

					mult_modifier = { # Should rarely fire as first event.
						factor = 0.5

						persistent_event_target:antagonize_target = {
							NOR = {
								has_opinion_modifier = { who = ROOT name = opinion_antagonized_1 }
								has_opinion_modifier = { who = ROOT name = opinion_antagonized_2 }
								has_opinion_modifier = { who = ROOT name = opinion_antagonized_3 }
							}
						}
					}

					mult_modifier = {
						factor = 0.1
						intrigue < 12
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 2
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 4
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 6
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 8
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 10
						}
					}

					persistent_event_target:antagonize_target = {
						add_character_modifier = {
							name = antagonize_sins_4_cooldown
							years = 20
							hidden = yes
						}
					}

					character_event = { id = HF.22088 }
				}

				5 = { # Sins event - Wroth.
					trigger = {
						intrigue >= 10

						persistent_event_target:antagonize_target = {
							trait = wroth
							is_ruler = yes
							NOT = { has_character_modifier = antagonize_sins_5_cooldown }
						}
					}

					mult_modifier = { # Should rarely fire as first event.
						factor = 0.5

						persistent_event_target:antagonize_target = {
							NOR = {
								has_opinion_modifier = { who = ROOT name = opinion_antagonized_1 }
								has_opinion_modifier = { who = ROOT name = opinion_antagonized_2 }
								has_opinion_modifier = { who = ROOT name = opinion_antagonized_3 }
							}
						}
					}

					mult_modifier = {
						factor = 0.1
						intrigue < 12
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 2
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 4
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 6
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 8
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 10
						}
					}

					persistent_event_target:antagonize_target = {
						add_character_modifier = {
							name = antagonize_sins_5_cooldown
							years = 20
							hidden = yes
						}
					}

					character_event = { id = HF.22094 }
				}

				5 = { # Sins event - Envious.
					trigger = {
						intrigue >= 10

						persistent_event_target:antagonize_target = {
							trait = envious
							is_ruler = yes
							NOT = { has_character_modifier = antagonize_sins_6_cooldown }
						}
					}

					mult_modifier = { # Should rarely fire as first event.
						factor = 0.5

						persistent_event_target:antagonize_target = {
							NOR = {
								has_opinion_modifier = { who = ROOT name = opinion_antagonized_1 }
								has_opinion_modifier = { who = ROOT name = opinion_antagonized_2 }
								has_opinion_modifier = { who = ROOT name = opinion_antagonized_3 }
							}
						}
					}

					mult_modifier = {
						factor = 0.1
						intrigue < 12
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 2
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 4
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 6
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 8
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 10
						}
					}

					persistent_event_target:antagonize_target = {
						add_character_modifier = {
							name = antagonize_sins_6_cooldown
							years = 20
							hidden = yes
						}
					}

					character_event = { id = HF.22100 }
				}

				5 = { # Sins event - Proud.
					trigger = {
						intrigue >= 10

						persistent_event_target:antagonize_target = {
							trait = proud
							is_ruler = yes
							NOT = { has_character_modifier = antagonize_sins_7_cooldown }
						}
					}

					mult_modifier = { # Should rarely fire as first event.
						factor = 0.5

						persistent_event_target:antagonize_target = {
							NOR = {
								has_opinion_modifier = { who = ROOT name = opinion_antagonized_1 }
								has_opinion_modifier = { who = ROOT name = opinion_antagonized_2 }
								has_opinion_modifier = { who = ROOT name = opinion_antagonized_3 }
							}
						}
					}

					mult_modifier = {
						factor = 0.1
						intrigue < 12
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 2
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 4
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 6
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 8
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 10
						}
					}

					persistent_event_target:antagonize_target = {
						add_character_modifier = {
							name = antagonize_sins_7_cooldown
							years = 20
							hidden = yes
						}
					}

					character_event = { id = HF.22106 }
				}

				50 = { # Sabotaging Antagonized Rival.
					trigger = {
						intrigue >= 10

						persistent_event_target:antagonize_target = {
							is_ruler = yes
							is_rival = ROOT
						}
					}

					mult_modifier = { # Should rarely fire as first event.
						factor = 0.5

						persistent_event_target:antagonize_target = {
							NOR = {
								has_opinion_modifier = { who = ROOT name = opinion_antagonized_1 }
								has_opinion_modifier = { who = ROOT name = opinion_antagonized_2 }
								has_opinion_modifier = { who = ROOT name = opinion_antagonized_3 }
							}
						}
					}

					mult_modifier = {
						factor = 0.5
						intrigue < 12
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 2
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 4
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 6
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 8
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							character = persistent_event_target:antagonize_target
							attribute = intrigue
							value >= 10
						}
					}

					character_event = { id = HF.22121 }
				}

				# MORE EVENTS HERE (OR ABOVE, DEPENDING ON CATEGORY)
			}
		}
	}
}

# Antagonizer: no longer within diplomatic range
# character_event = {
# 	id = HF.22003
# 	desc = EVTDESCHF22003
# 	picture = GFX_evt_upsetting_letter
#	portrait = persistent_event_target:antagonize_target
#
# 	is_triggered_only = yes
#
#	option = {
#		name = EVTOPTAHF22003
#
#		custom_tooltip = {
#			text = tooltip_22003_A
#
#			hidden_effect = {
#				persistent_event_target:antagonize_target = {
#					clr_character_flag = flag_character_being_antagonized
#				}
#
#				remove_special_interest = persistent_event_target:antagonize_target
#				clear_persistent_event_target = antagonize_target
#			}
#		}
#	}
# }

# Antagonized is imprisoned and can no longer be interacted with.
# Antagonized is notified, offered chance to clear target.
character_event = {
	id = HF.22005
	desc = EVTDESCHF22005
	picture = GFX_evt_into_the_dungeon
	portrait = persistent_event_target:antagonize_target

	is_triggered_only = yes

	option = { # Stop trying to antagonize him.
		name = EVTOPTAHF22005

		custom_tooltip = {
			text = tooltip_22005_A

			hidden_effect = {
				persistent_event_target:antagonize_target = {
					clr_character_flag = flag_character_being_antagonized
				}

				remove_special_interest = persistent_event_target:antagonize_target
				clear_persistent_event_target = antagonize_target
			}
		}
	}

	option = { # Keep at it.
		name = EVTOPTBHF22005

		custom_tooltip = {
			text = tooltip_22005_B
			set_character_flag = flag_antagonized_prisoner_notification
		}

		ai_chance = { factor = 0 }
	}
}


# Antagonizer: you or your target has gone into Seclusion, Antagonizing is canceled
character_event = {
	id = HF.22006
	picture = GFX_evt_woman_at_window_hf
	portrait = persistent_event_target:antagonize_target

	desc = {
		text = EVTDESCHFP22006_A # They are in Seclusion
		trigger = {
			in_seclusion = no
			persistent_event_target:antagonize_target = { in_seclusion = yes }
		}
	}
	desc = {
		text = EVTDESCHFP22006_B # I am in Seclusion (without them)
		trigger = {
			in_seclusion = yes

			persistent_event_target:antagonize_target = {
				in_seclusion = no
				NOT = { at_location = ROOT } # Just in case you somehow kicked them out of your own Seclusion
			}
		}
	}
	desc = {
		text = EVTDESCHFP22006_A_B # I am in Seclusion, and they are too (separately)
		trigger = {
			in_seclusion = yes

			persistent_event_target:antagonize_target = {
				in_seclusion = yes
				NOT = { at_location = ROOT }
			}
		}
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP22006

		custom_tooltip = {
			text = tooltip_stop_antagonizing

			hidden_effect = {
				persistent_event_target:antagonize_target = {
					clr_character_flag = flag_character_being_antagonized
				}

				remove_special_interest = persistent_event_target:antagonize_target
				clear_persistent_event_target = antagonize_target
			}
		}
	}
}

# Antagonizer: Antagonized became incapable
character_event = {
	id = HF.22008
	desc = EVTDESCHF22008
	picture = GFX_evt_upsetting_letter
	portrait = persistent_event_target:antagonize_target

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF22008

		custom_tooltip = {
			text = tooltip_22008_A

			hidden_effect = {
				persistent_event_target:antagonize_target = {
					clr_character_flag = flag_character_being_antagonized
				}

				remove_special_interest = persistent_event_target:antagonize_target
				clear_persistent_event_target = antagonize_target
			}
		}
	}
}

# Antagonized: he has become your rival.
character_event = {
	id = HF.22009
	desc = EVTDESCHF22009
	picture = GFX_evt_rival_rulers

	is_triggered_only = yes

	immediate = {
		FROM = {
			character_event = { id = HF.22010 }
		}
	}

	option = {
		name = EVTOPTAHF22009

		add_rival = FROM
	}
}

# Antagonizer notified. Become a rival. Offer chance to stop.
character_event = {
	id = HF.22010
	desc = EVTDESCHF22010
	picture = GFX_evt_rival_rulers

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF22010

		custom_tooltip = { text = tooltip_21010_A }
	}

	option = { # Stop Antagonizing
		name = EVTOPTBHF22010

		custom_tooltip = {
			text = tooltip_21010_B

			hidden_effect = {
				FROM = {
					clr_character_flag = flag_character_being_antagonized
				}

				remove_special_interest = FROM
				clear_persistent_event_target = antagonize_target
			}
		}
	}

	after = {
		add_rival = FROM
	}
}

# Antagonizer: has become rivals/friends/lovers with Antagonized
character_event = {
	id = HF.22123
	picture = GFX_evt_upsetting_letter
	portrait = persistent_event_target:antagonize_target

	desc = {
		text = EVTDESCAHFP22123
		trigger = { is_lover = persistent_event_target:antagonize_target }
	}
	desc = {
		text = EVTDESCBHFP22123
		trigger = { is_friend = persistent_event_target:antagonize_target }
	}
	desc = {
		text = EVTDESCCHFP22123
		trigger = { is_rival = persistent_event_target:antagonize_target }
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP22123

		custom_tooltip = {
			text = tooltip_22123_A

			hidden_effect = {
				persistent_event_target:antagonize_target = {
					clr_character_flag = flag_character_being_antagonized
				}

				remove_special_interest = persistent_event_target:antagonize_target
				clear_persistent_event_target = antagonize_target
			}
		}
	}
}


###############################
# Tier I Events - Generic events that only required the two characters to be living and within writing distance.
###############################

## Spend prestige to slander Antagonized.
# Antagonizer: spread ill rumors about Antagonized?
character_event = {
	id = HF.22012
	desc = EVTDESCHFP22012
	picture = GFX_evt_daughter_asking_father
	portrait = persistent_event_target:antagonize_target

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP22012

		set_character_flag = flag_antagonize_prestige_3

		persistent_event_target:antagonize_target = {
			show_scope_change = no

			character_event = {
				id = HF.22013
				tooltip = tooltip_22012_A
			}
		}

		prestige = -300

		ai_chance = { factor = 20 }
	}

	option = {
		name = EVTOPTBHFP22012

		set_character_flag = flag_antagonize_prestige_2

		persistent_event_target:antagonize_target = {
			show_scope_change = no

			character_event = {
				id = HF.22013
				tooltip = tooltip_22012_B
			}
		}

		prestige = -150

		ai_chance = { factor = 50 }
	}

	option = {
		name = EVTOPTCHFP22012

		set_character_flag = flag_antagonize_prestige_1

		persistent_event_target:antagonize_target = {
			show_scope_change = no

			character_event = {
				id = HF.22013
				tooltip = tooltip_22012_C
			}
		}

		prestige = -50

		ai_chance = { factor = 40 }
	}

	option = { # NO - better luck next pulse.
		name = EVTOPTDHFP22012

		ai_chance = { factor = 0 }
	}
}

# Antagonized: received a word of bad rumors.
character_event = {
	id = HF.22013
	picture = GFX_evt_upsetting_letter

	desc = {
		text = EVTDESCAHF22013
		trigger = {
			FROM = { has_character_flag = flag_antagonize_prestige_3 }
		}
	}
	desc = {
		text = EVTDESCBHF22013
		trigger = {
			FROM = { has_character_flag = flag_antagonize_prestige_2 }
		}
	}
	desc = {
		text = EVTDESCCHF22013
		trigger = {
			FROM = { has_character_flag = flag_antagonize_prestige_1 }
		}
	}

	is_triggered_only = yes

	trigger = {
		FROM = { is_alive = yes }
	}

	option = { # High Intrigue Counter, only negative opinion gained.
		name = EVTOPTAHF22013
		tooltip_info = intrigue

		trigger = { intrigue >= 12 }

		FROM = {
			show_scope_change = no

			character_event = {
				id = HF.22014
				days = 5
				tooltip = tooltip_22013_A
			}
		}

		opinion = {
			name = opinion_antagonized_1
			who = FROM
			years = 10
		}

		ai_chance = { factor = 80 }
	}

	option = {
		name = EVTOPTBHF22013

		custom_tooltip = { text = tooltip_22013_B }

		opinion = {
			name = opinion_antagonized_2
			who = FROM
			years = 10
		}

		if = {
			limit = {
				FROM = { has_character_flag = flag_antagonize_prestige_3 }
			}

			if = {
				limit = { higher_real_tier_than = FROM }
				prestige = -150
			}
			else = {
				prestige = -300
			}
		}

		else_if = {
			limit = {
				FROM = { has_character_flag = flag_antagonize_prestige_2 }
			}

			if = {
				limit = { higher_tier_than = FROM }
				prestige = -50
			}
			else = {
				prestige = -150
			}
		}

		else = {
			if = {
				limit = { higher_real_tier_than = FROM }
				prestige = -10
			}
			else = {
				prestige = -50
			}
		}

		FROM = {
			character_event = {
				id = HF.22015
				days = 5
			}
		}

		ai_chance = { factor = 10 }
	}
}

# Antagonizer: failure.
character_event = {
	id = HF.22014
	picture = GFX_evt_upsetting_letter

	desc = {
		text = EVTDESCAHF22014
		trigger = { has_character_flag = flag_antagonize_prestige_3 }
	}
	desc = {
		text = EVTDESCBHF22014
		trigger = { has_character_flag = flag_antagonize_prestige_2 }
	}
	desc = {
		text = EVTDESCCHF22014
		trigger = { has_character_flag = flag_antagonize_prestige_1 }
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF22014

		clr_character_flag = flag_antagonize_prestige_3
		clr_character_flag = flag_antagonize_prestige_2
		clr_character_flag = flag_antagonize_prestige_1

		tooltip = {
			reverse_opinion = {
				name = opinion_antagonized_1
				who = FROM
				years = 5
			}
		}
	}
}

# Antagonizer: success.
character_event = {
	id = HF.22015
	desc = EVTDESCAHF22015
	picture = GFX_evt_pleasing_letter

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF22015

		clr_character_flag = flag_antagonize_prestige_3
		clr_character_flag = flag_antagonize_prestige_2
		clr_character_flag = flag_antagonize_prestige_1

		tooltip = {
			reverse_opinion = {
				name = opinion_antagonized_2
				who = persistent_event_target:antagonize_target
				years = 5
			}
		}
	}
}

## Generic intrigue roll to antagonize character.
# Antagonizer: hidden ping.
character_event = {
	id = HF.22017

	is_triggered_only = yes
	hide_window = yes

	immediate = {
		random_list = {
			10 = { # Critical success
				trigger = {
					NOT = { trait = shy }
				}

				mult_modifier = {
					factor = 0.5
					trait = slow
				}

				mult_modifier = {
					factor = 0.2
					trait = imbecile
				}

				mult_modifier = {
					factor = 0.5
					intrigue < 6
				}
				set_character_flag = flag_generic_antagonize_crit_success
			}

			55 = { # Success
				set_character_flag = flag_generic_antagonize_success
			}

			34 = { # Failure
				mult_modifier = {
					factor = 0.5

					reverse_opinion = {
						who = persistent_event_target:antagonize_target
						value >= 50
					}
				}

				mult_modifier = {
					factor = 0.35

					reverse_opinion = {
						who = persistent_event_target:antagonize_target
						value < -50
					}
				}

				mult_modifier = {
					factor = 0.5
					trait = master_schemer
				}

				mult_modifier = {
					factor = 0.75
					trait = deceitful
				}

				mult_modifier = {
					factor = 0.75

					attribute_diff = {
						character = persistent_event_target:antagonize_target
						attribute = intrigue
						value >= 2
					}
				}

				mult_modifier = {
					factor = 0.75

					attribute_diff = {
						character = persistent_event_target:antagonize_target
						attribute = intrigue
						value >= 4
					}
				}

				mult_modifier = {
					factor = 0.5

					attribute_diff = {
						character = persistent_event_target:antagonize_target
						attribute = intrigue
						value >= 6
					}
				}

				mult_modifier = {
					factor = 0.5

					attribute_diff = {
						character = persistent_event_target:antagonize_target
						attribute = intrigue
						value >= 8
					}
				}

				mult_modifier = {
					factor = 0.5

					attribute_diff = {
						character = persistent_event_target:antagonize_target
						attribute = intrigue
						value >= 10
					}
				}

				mult_modifier = {
					factor = 0.5

					attribute_diff = {
						character = persistent_event_target:antagonize_target
						attribute = intrigue
						value >= 12
					}
				}

				set_character_flag = flag_generic_antagonize_failure
			}

			1 = { # Critical Failure
				trigger = {
					intrigue < 12

					NOR = {
						higher_tier_than = persistent_event_target:antagonize_target
						trait = deceitful
						trait = master_schemer
					}
				}

				mult_modifier = {
					factor = 2
					NOT = { vassal_of = persistent_event_target:antagonize_target }
				}

				set_character_flag = flag_generic_antagonize_crit_failure
			}
		}

		persistent_event_target:antagonize_target = {
			character_event = { id = HF.22018 }
		}
	}
}

# Antagonized: inform of Antagonizer's attempt to slander him.
character_event = {
	id = HF.22018

	desc = {
		text = EVTDESCAHF22018
		picture = GFX_evt_bad_news
		trigger = {
			FROM = { has_character_flag = flag_generic_antagonize_crit_success }
		}
	}
	desc = {
		text = EVTDESCBHF22018
		picture = GFX_evt_bad_news
		trigger = {
			FROM = { has_character_flag = flag_generic_antagonize_success }
		}
	}
	desc = {
		text = EVTDESCCHF22018
		picture = GFX_evt_upsetting_letter
		trigger = {
			FROM = { has_character_flag = flag_generic_antagonize_failure }
		}
	}
	desc = {
		text = EVTDESCDHF22018
		picture = GFX_evt_jugglers
		trigger = {
			FROM = { has_character_flag = flag_generic_antagonize_crit_failure }
		}
	}

	is_triggered_only = yes

	trigger = {
		FROM = { is_alive = yes }
	}

	option = { # Liking him less.
		name = EVTOPTAHF22018

		trigger = {
			FROM = { has_character_flag = flag_generic_antagonize_crit_success }
		}

		prestige = -30

		opinion = {
			name = opinion_antagonized_1
			who = FROM
			years = 10
		}
	}

	option = { # Liking him less.
		name = EVTOPTBHF22018

		trigger = {
			FROM = { has_character_flag = flag_generic_antagonize_success }
		}

		opinion = {
			name = opinion_antagonized_0
			who = FROM
			years = 5
		}
	}

	option = { # Neutral Failure
		name = EVTOPTCHF22018

		trigger = {
			OR = {
				FROM = { has_character_flag = flag_generic_sway_failure }

				trigger_if = {
					limit = { ai = no } # Player always allowed to deny appeasement.
					FROM = { NOT = { has_character_flag = flag_generic_antagonize_crit_failure } }
				}
			}
		}
	}

	option = { # Amused by him.
		name = EVTOPTDHF22018

		trigger = {
			FROM = { has_character_flag = flag_generic_antagonize_crit_failure }
		}

		opinion = {
			name = opinion_amused
			who = FROM
			years = 5
		}
	}

	after = {
		FROM = {
			character_event = { id = HF.22019 }
		}
	}
}

# Antagonizer: notified of roll's result.
character_event = {
	id = HF.22019

	desc = {
		text = EVTDESCAHF22019
		picture = GFX_evt_bad_news
		trigger = { has_character_flag = flag_generic_antagonize_crit_success }
	}
	desc = {
		text = EVTDESCBHF22019
		picture = GFX_evt_bad_news
		trigger = { has_character_flag = flag_generic_antagonize_success }
	}
	desc = {
		text = EVTDESCCHF22019
		picture = GFX_evt_upsetting_letter
		trigger = { has_character_flag = flag_generic_antagonize_failure }
	}
	desc = {
		text = EVTDESCDHF22019
		picture = GFX_evt_jugglers
		trigger = { has_character_flag = flag_generic_antagonize_crit_failure }
	}

	is_triggered_only = yes
	notification = yes

	option = {
		name = I_SEE

		clr_character_flag = flag_generic_antagonize_crit_success
		clr_character_flag = flag_generic_antagonize_success
		clr_character_flag = flag_generic_antagonize_failure
		clr_character_flag = flag_generic_antagonize_crit_failure
	}
}

###############################################################################
## Main Slander event.
# Antagonized: hidden ping, select a random trait to slander. If character has no traits from the list, just go for generic slander.
character_event = {
	id = HF.22020

	is_triggered_only = yes
	hide_window = yes

	immediate = {
		random_list = {
			10 = {
				trigger = {
					is_close_relative = FROM
					dynasty = FROM
					NOT = { has_character_flag = flag_antagonized_option_relative }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = cruel }
				}

				set_character_flag = flag_antagonized_option_relative
			}

			20 = {
				trigger = {
					NOR = {
						religion_group = FROM
						has_character_flag = flag_antagonized_option_infidel
					}
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = zealous }
				}

				set_character_flag = flag_antagonized_option_infidel
			}

			20 = {
				trigger = {
					is_heresy_of = FROM
					NOT = { has_character_flag = flag_antagonized_option_heretic }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = zealous }
				}

				set_character_flag = flag_antagonized_option_heretic
			}

			20 = {
				trigger = {
					OR = {
						trait = dwarf
						trait = hunchback
					}

					NOT = { has_character_flag = flag_antagonized_option_hunchback }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 0.5

					FROM = {
						OR = {
							trait = dwarf
							trait = hunchback
						}
					}
				}

				set_character_flag = flag_antagonized_option_hunchback
			}

			20 = {
				trigger = {
					OR = {
						trait = kinslayer
						trait = familial_kinslayer
						trait = dynastic_kinslayer
					}

					NOT = { has_character_flag = flag_antagonized_option_kinslayer }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 0.5

					FROM = {
						OR = {
							trait = kinslayer
							trait = familial_kinslayer
							trait = dynastic_kinslayer
						}
					}
				}

				set_character_flag = flag_antagonized_option_kinslayer
			}

			20 = {
				trigger = {
					excommunicated_for = FROM

					NOR = {
						has_character_flag = flag_antagonized_option_excommunicated
						FROM = { excommunicated_for = ROOT } # Try to pick opposite traits if any are available
					}
				}

				set_character_flag = flag_antagonized_option_excommunicated
			}

			20 = {
				trigger = {
					trait = eunuch

					NOR = {
						has_character_flag = flag_antagonized_option_eunuch
						FROM = { trait = eunuch } # Try to pick opposite traits if any are available
					}
				}

				set_character_flag = flag_antagonized_option_eunuch
			}
			20 = {
				trigger = {
					trait = mystic
					NOT = { has_character_flag = flag_antagonized_option_mystic }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = theologian }
				}

				set_character_flag = flag_antagonized_option_mystic
			}

			20 = {
				trigger = {
					OR = {
						trait = master_seducer
						trait = master_seductress
						trait = lovers_pox
					}

					NOT = { has_character_flag = flag_antagonized_option_seducer }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = chaste }
				}

				set_character_flag = flag_antagonized_option_seducer
			}

			20 = {
				trigger = {
					trait = master_schemer
					NOT = { has_character_flag = flag_antagonized_option_schemer }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = honest }
				}

				set_character_flag = flag_antagonized_option_schemer
			}

			20 = {
				trigger = {
					trait = impaler
					NOT = { has_character_flag = flag_antagonized_option_impaler }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = kind }
				}

				set_character_flag = flag_antagonized_option_impaler
			}

			20 = {
				trigger = {
					trait = hedonist
					NOT = { has_character_flag = flag_antagonized_option_hedonist }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = temperate }
				}

				set_character_flag = flag_antagonized_option_hedonist
			}

			20 = {
				trigger = {
					OR = {
						trait = bastard
						trait = legit_bastard
						trait = child_of_consort
					}

					NOT = { has_character_flag = flag_antagonized_option_bastard }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5

					FROM = {
						NOR = {
							trait = bastard
							trait = legit_bastard
							trait = child_of_consort
						}
					}
				}

				set_character_flag = flag_antagonized_option_bastard

			}
			20 = {
				trigger = {
					is_maimed_trigger = yes
					NOT = { has_character_flag = flag_antagonized_option_maimed }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { is_maimed_trigger = no }
				}

				set_character_flag = flag_antagonized_option_maimed
			}

			20 = {
				trigger = {
					trait = infirm
					NOT = { has_character_flag = flag_antagonized_option_infirm }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { NOT = { trait = infirm } }
				}

				set_character_flag = flag_antagonized_option_infirm
			}

			20 = {
				trigger = {
					trait = malnourished
					NOT = { has_character_flag = flag_antagonized_option_malnourished }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = fat }
				}

				set_character_flag = flag_antagonized_option_malnourished
			}

			20 = {
				trigger = {
					trait = fat
					NOT = { has_character_flag = flag_antagonized_option_fat }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = malnourished }
				}

				set_character_flag = flag_antagonized_option_fat
			}

			20 = {
				trigger = {
					trait = depressed
					NOT = { has_character_flag = flag_antagonized_option_depressed }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = gregarious }
				}

				set_character_flag = flag_antagonized_option_depressed
			}

			20 = {
				trigger = {
					trait = drunkard
					NOT = { has_character_flag = flag_antagonized_option_drunkard }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = temperate }
				}

				set_character_flag = flag_antagonized_option_drunkard
			}

			20 = {
				trigger = {
					trait = lunatic
					NOT = { has_character_flag = flag_antagonized_option_lunatic }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = kind }
				}

				set_character_flag = flag_antagonized_option_lunatic
			}

			20 = {
				trigger = {
					trait = possessed
					NOT = { has_character_flag = flag_antagonized_option_possessed }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = zealous }
				}

				set_character_flag = flag_antagonized_option_possessed
			}

			10 = {
				trigger = {
					OR = {
						has_ugly_trait_trigger = yes
						has_scarred_trait_trigger = yes
						trait = disfigured
						trait = blinded
						trait = one_eyed
						trait = leper
						trait = harelip
					}

					NOT = { has_character_flag = flag_antagonized_option_ugly }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { has_fair_trait_trigger = yes }
				}

				set_character_flag = flag_antagonized_option_ugly
			}

			5 = {
				trigger = {
					trait = chaste
					NOT = { has_character_flag = flag_antagonized_option_chaste }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = lustful }
				}

				set_character_flag = flag_antagonized_option_chaste
			}

			5 = {
				trigger = {
					trait = temperate
					NOT = { has_character_flag = flag_antagonized_option_temperate }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = gluttonous }
				}

				set_character_flag = flag_antagonized_option_temperate
			}

			5 = {
				trigger = {
					trait = charitable
					NOT = { has_character_flag = flag_antagonized_option_charitable }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = greedy }
				}

				set_character_flag = flag_antagonized_option_charitable
			}

			5 = {
				trigger = {
					trait = diligent
					NOT = { has_character_flag = flag_antagonized_option_diligent }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = slothful }
				}

				set_character_flag = flag_antagonized_option_diligent
			}

			5 = {
				trigger = {
					trait = patient
					NOT = { has_character_flag = flag_antagonized_option_patient }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = wroth }
				}

				set_character_flag = flag_antagonized_option_patient
			}

			5 = {
				trigger = {
					trait = kind
					NOT = { has_character_flag = flag_antagonized_option_kind }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = cruel }
				}

				set_character_flag = flag_antagonized_option_kind
			}

			5 = {
				trigger = {
					trait = humble
					NOT = { has_character_flag = flag_antagonized_option_humble }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = proud }
				}

				set_character_flag = flag_antagonized_option_humble
			}

			20 = {
				trigger = {
					trait = lustful
					NOT = { has_character_flag = flag_antagonized_option_lustful }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = chaste }
				}

				set_character_flag = flag_antagonized_option_lustful
			}

			20 = {
				trigger = {
					trait = gluttonous
					NOT = { has_character_flag = flag_antagonized_option_gluttonous }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = temperate }
				}

				set_character_flag = flag_antagonized_option_gluttonous
			}

			20 = {
				trigger = {
					trait = greedy
					NOT = { has_character_flag = flag_antagonized_option_greedy }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = charitable }
				}

				set_character_flag = flag_antagonized_option_greedy
			}

			20 = {
				trigger = {
					trait = slothful
					NOT = { has_character_flag = flag_antagonized_option_slothful }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = diligent }
				}

				set_character_flag = flag_antagonized_option_slothful
			}

			10 = {
				trigger = {
					trait = wroth
					NOT = { has_character_flag = flag_antagonized_option_wroth }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = patient }
				}

				set_character_flag = flag_antagonized_option_wroth
			}

			10 = {
				trigger = {
					trait = envious
					NOT = { has_character_flag = flag_antagonized_option_envious }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = kind }
				}

				set_character_flag = flag_antagonized_option_envious
			}

			10 = {
				trigger = {
					trait = proud
					NOT = { has_character_flag = flag_antagonized_option_proud }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = humble }
				}

				set_character_flag = flag_antagonized_option_proud
			}

			10 = {
				trigger = {
					trait = ambitious
					NOT = { has_character_flag = flag_antagonized_option_ambitious }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = content }
				}

				set_character_flag = flag_antagonized_option_ambitious
			}

			20 = {
				trigger = {
					trait = arbitrary
					NOT = { has_character_flag = flag_antagonized_option_arbitrary }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = just }
				}

				set_character_flag = flag_antagonized_option_arbitrary
			}

			5 = {
				trigger = {
					trait = brave
					NOT = { has_character_flag = flag_antagonized_option_brave }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = craven }
				}

				set_character_flag = flag_antagonized_option_brave
			}

			5 = {
				trigger = {
					trait = content
					NOT = { has_character_flag = flag_antagonized_option_content }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = ambitious }
				}

				set_character_flag = flag_antagonized_option_content
			}

			20 = {
				trigger = {
					trait = craven
					NOT = { has_character_flag = flag_antagonized_option_craven }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = brave }
				}

				set_character_flag = flag_antagonized_option_craven
			}

			20 = {
				trigger = {
					trait = cruel
					NOT = { has_character_flag = flag_antagonized_option_cruel }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = kind }
				}

				set_character_flag = flag_antagonized_option_cruel
			}

			20 = {
				trigger = {
					trait = cynical
					religion = FROM
					NOT = { has_character_flag = flag_antagonized_option_cynical }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = zealous }
				}

				set_character_flag = flag_antagonized_option_cynical
			}

			10 = {
				trigger = {
					trait = deceitful
					NOT = { has_character_flag = flag_antagonized_option_deceitful }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = honest }
				}

				set_character_flag = flag_antagonized_option_deceitful
			}

			5 = {
				trigger = {
					trait = erudite
					NOT = { has_character_flag = flag_antagonized_option_erudite }

					# Context
					FROM = {
						religion_group = pagan_group
						religion_openly_hellenic_or_reformed_trigger = no
					}
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = dull }
				}

				set_character_flag = flag_antagonized_option_erudite
			}

			10 = {
				trigger = {
					trait = gregarious
					NOT = { has_character_flag = flag_antagonized_option_gregarious }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = shy }
				}

				set_character_flag = flag_antagonized_option_gregarious
			}

			10 = {
				trigger = {
					trait = honest
					NOT = { has_character_flag = flag_antagonized_option_honest }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = deceitful }
				}

				set_character_flag = flag_antagonized_option_honest

			}
			5 = {
				trigger = {
					trait = just
					NOT = { has_character_flag = flag_antagonized_option_just }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = arbitrary }
				}

				set_character_flag = flag_antagonized_option_just
			}

			10 = {
				trigger = {
					trait = paranoid
					NOT = { has_character_flag = flag_antagonized_option_paranoid }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = trusting }
				}

				set_character_flag = flag_antagonized_option_paranoid
			}

			10 = {
				trigger = {
					trait = shy
					NOT = { has_character_flag = flag_antagonized_option_shy }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = gregarious }
				}

				set_character_flag = flag_antagonized_option_shy
			}

			10 = {
				trigger = {
					trait = dull
					NOT = { has_character_flag = flag_antagonized_option_dull }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = shrewd }
				}

				set_character_flag = flag_antagonized_option_dull
			}

			10 = {
				trigger = {
					trait = trusting
					NOT = { has_character_flag = flag_antagonized_option_trusting }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5
					FROM = { trait = paranoid }
				}

				set_character_flag = flag_antagonized_option_trusting
			}

			5 = {
				trigger = {
					trait = zealous
					NOT = { has_character_flag = flag_antagonized_option_zealous }
				}

				mult_modifier = { # Try to pick opposite traits if any are available
					factor = 1.5

					FROM = {
						trait = cynical
						religion = ROOT
					}
				}

				set_character_flag = flag_antagonized_option_zealous
			}
		}

		FROM = {
			character_event = { id = HF.22021 }
			character_event = { id = HF.22041 days = 55 } # Clean all flags on the Antagonizer.
		}

		character_event = { id = HF.22040 days = 55 } # Clean all flags on the Antagonized.
	}
}

# Antagonizer: spread ill rumors about Antagonized?
character_event = {
	id = HF.22021
	desc = EVTDESCHF22021 # Custom localization keys
	picture = GFX_evt_meeting_hf

	is_triggered_only = yes

	option = { # Special option. - Cruel vs deformed. Chance for depression/stress.
		name = EVTOPTBHF22021
		tooltip_info = cruel

		trigger = {
			trait = cruel

			FROM = {
				OR = {
					has_character_flag = flag_antagonized_option_eunuch
					has_character_flag = flag_antagonized_option_maimed
					has_character_flag = flag_antagonized_option_malnourished
					has_character_flag = flag_antagonized_option_ugly
					has_character_flag = flag_antagonized_option_hunchback
				}
			}
		}

		set_character_flag = flag_antagonize_slander_cruel

		FROM = {
			show_scope_change = no

			character_event = {
				id = HF.22022
				tooltip = tooltip_22021_B
			}
		}

		tiered_piety_negative_effect = yes
	}

	option = { # Special option. - Moralizer vs hedonist. Chance for depression/stress.
		name = EVTOPTCHF22021
		tooltip_info = temperate

		trigger = {
			trait = temperate

			FROM = {
				OR = {
					has_character_flag = flag_antagonized_option_seducer
					has_character_flag = flag_antagonized_option_hedonist
					has_character_flag = flag_antagonized_option_fat
					has_character_flag = flag_antagonized_option_drunkard
					has_character_flag = flag_antagonized_option_lustful
					has_character_flag = flag_antagonized_option_gluttonous
				}
			}
		}

		set_character_flag = flag_antagonize_slander_temperate

		FROM = {
			show_scope_change = no

			character_event = {
				id = HF.22022
				tooltip = tooltip_22021_C
			}
		}

		tiered_prestige_negative_effect = yes
	}

	option = { # Special option. - Moralizer vs infidel. Chance for depression/stress.
		name = EVTOPTDHF22021
		tooltip_info = zealous

		trigger = {
			trait = zealous
			FROM = {
				OR = {
					has_character_flag = flag_antagonized_option_cynical
					has_character_flag = flag_antagonized_option_heretic
					has_character_flag = flag_antagonized_option_possessed
					has_character_flag = flag_antagonized_option_infidel
				}
			}
		}

		set_character_flag = flag_antagonize_slander_zealous

		FROM = {
			show_scope_change = no

			character_event = {
				id = HF.22022
				tooltip = tooltip_22021_D
			}
		}

		tiered_prestige_negative_effect = yes
	}

	option = { # Generic antagonizing.
		name = EVTOPTEHF22021

		set_character_flag = flag_antagonize_slander_generic

		FROM = {
			show_scope_change = no

			character_event = {
				id = HF.22022
				tooltip = tooltip_22021_E
			}
		}
	}

	option = { # Do nothing - better luck next pulse.
		name = EVTOPTFHF22021

		hidden_effect = {
			FROM = {
				clr_character_flag = flag_antagonized_option_kinslayer
				clr_character_flag = flag_antagonized_option_excommunicated
				clr_character_flag = flag_antagonized_option_eunuch
				clr_character_flag = flag_antagonized_option_mystic
				clr_character_flag = flag_antagonized_option_seducer
				clr_character_flag = flag_antagonized_option_schemer
				clr_character_flag = flag_antagonized_option_impaler
				clr_character_flag = flag_antagonized_option_hedonist
				clr_character_flag = flag_antagonized_option_bastard
				clr_character_flag = flag_antagonized_option_maimed
				clr_character_flag = flag_antagonized_option_infirm
				clr_character_flag = flag_antagonized_option_malnourished
				clr_character_flag = flag_antagonized_option_fat
				clr_character_flag = flag_antagonized_option_depressed
				clr_character_flag = flag_antagonized_option_drunkard
				clr_character_flag = flag_antagonized_option_lunatic
				clr_character_flag = flag_antagonized_option_possessed
				clr_character_flag = flag_antagonized_option_ugly
				clr_character_flag = flag_antagonized_option_chaste
				clr_character_flag = flag_antagonized_option_temperate
				clr_character_flag = flag_antagonized_option_charitable
				clr_character_flag = flag_antagonized_option_diligent
				clr_character_flag = flag_antagonized_option_patient
				clr_character_flag = flag_antagonized_option_kind
				clr_character_flag = flag_antagonized_option_humble
				clr_character_flag = flag_antagonized_option_lustful
				clr_character_flag = flag_antagonized_option_gluttonous
				clr_character_flag = flag_antagonized_option_greedy
				clr_character_flag = flag_antagonized_option_slothful
				clr_character_flag = flag_antagonized_option_wroth
				clr_character_flag = flag_antagonized_option_envious
				clr_character_flag = flag_antagonized_option_proud
				clr_character_flag = flag_antagonized_option_ambitious
				clr_character_flag = flag_antagonized_option_arbitrary
				clr_character_flag = flag_antagonized_option_brave
				clr_character_flag = flag_antagonized_option_content
				clr_character_flag = flag_antagonized_option_craven
				clr_character_flag = flag_antagonized_option_cruel
				clr_character_flag = flag_antagonized_option_cynical
				clr_character_flag = flag_antagonized_option_deceitful
				clr_character_flag = flag_antagonized_option_erudite
				clr_character_flag = flag_antagonized_option_gregarious
				clr_character_flag = flag_antagonized_option_honest
				clr_character_flag = flag_antagonized_option_just
				clr_character_flag = flag_antagonized_option_paranoid
				clr_character_flag = flag_antagonized_option_shy
				clr_character_flag = flag_antagonized_option_dull
				clr_character_flag = flag_antagonized_option_trusting
				clr_character_flag = flag_antagonized_option_zealous
				clr_character_flag = flag_antagonized_option_hunchback
				clr_character_flag = flag_antagonized_option_relative
				clr_character_flag = flag_antagonized_option_infidel
				clr_character_flag = flag_antagonized_option_heretic
			}
		}

		ai_chance = { factor = 0 }
	}
}

# Antagonized: notified of bad publicity.
character_event = {
	id = HF.22022
	desc = EVTDESCHF22022 # Custom localization keys
	picture = GFX_evt_upsetting_letter

	is_triggered_only = yes

	trigger = {
		FROM = { is_alive = yes }
	}

	# Lunatic special options:
	# Attack
	# Appreciate honesty (not evil)
	# Dub Knight of turnips (liege, rare)

	option = { # Special option. - Lunatic character starts duel!
		name = EVTOPTLUAHF22022
		tooltip_info = lunatic

		trigger = {
			trait = lunatic
			this_can_duel_with_from_trigger = yes
		}

		custom_tooltip = { text = tooltip_22022_Y }

		opinion = {
			name = opinion_antagonized_3
			who = FROM
			years = 15
		}

		# Used to prevent Merciless from being applied in case you win and decide to kill the opponent, given that it's a honor duel.
		# Removed in the clean_up_after_duel_effect.
		set_character_flag = flag_antagonizer_duel
		save_event_target_as = combatant_1 # The person issuing the duel...

		FROM = {
			show_scope_change = no

			set_character_flag = flag_antagonizer_duel
			save_event_target_as = combatant_2  # The target of the duel...
			apply_degree_of_dishonorable_duel_effect = yes # Checks a bunch of age and health statuses...
		}

		pacifists_lose_piety_effect = yes

		add_character_modifier = {
			name = recent_duel_timer
			years = 1
			hidden = yes
		}

		FROM = {
			character_event = {
				id = HFP.10095 # Duel evaluation (hidden) + result event as follow-up.
				days = 1
			}
		}

		ai_chance = {
			factor = 40

			mult_modifier = {
				factor = 0.1
				trait = craven
			}

			mult_modifier = {
				factor = 1.5
				trait = brave
			}

			mult_modifier = {
				factor = 0.75
				is_tribal = no
				is_nomadic = no
			}

			mult_modifier = {
				factor = 1.25

				combat_rating_diff = {
					character = FROM
					value >= 5
				}
			}

			mult_modifier = {
				factor = 1.25

				combat_rating_diff = {
					character = FROM
					value >= 10
				}
			}

			mult_modifier = {
				factor = 1.5

				combat_rating_diff = {
					character = FROM
					value >= 15
				}
			}

			mult_modifier = {
				factor = 1.75

				combat_rating_diff = {
					character = FROM
					value >= 20
				}
			}
		}
	}

	option = { # Special option. - Lunatic is impressed. Avoid Antagonizer from getting special boons and stop his Antagonizing for a set amount of time.
		name = EVTOPTLUBHF22022
		tooltip_info = lunatic

		trigger = {
			trait = lunatic
			is_evil_trigger = no
		}

		FROM = {
			show_scope_change = no

			character_event = {
				id = HF.22131
				tooltip = tooltip_22022_LUB
			}

			opinion = {
				name = opinion_swayed_0
				who = ROOT
				years = 10
			}
		}

		ai_chance = { factor = 60 }
	}

	option = { # Special option. - Lunatic liege gives title. Avoid Antagonizer from getting special boons and stop his Antagonizing for a set amount of time.
		name = EVTOPTLUCHF22022
		tooltip_info = lunatic

		trigger = {
			trait = lunatic
			is_evil_trigger = no

			FROM = {
				is_vassal_or_below_of = ROOT
				NOT = { has_nickname = nick_the_knight_of_turnips }
			}
		}

		tiered_prestige_reward_effect = yes

		FROM = {
			show_scope_change = no

			character_event = {
				id = HF.22133
				tooltip = tooltip_22022_LUC
			}

			tooltip = {
				give_nickname = nick_the_knight_of_turnips
			}

			opinion = {
				name = opinion_swayed_0
				who = ROOT
				years = 10
			}
		}

		ai_chance = {
			factor = 10

			mult_modifier = {
				factor = 0.25
				FROM = { ai = yes }
			}
		}
	}

	## Regular options:

	option = { # Special option. - Rival character starts duel!
		name = EVTOPTYHF22022

		trigger = {
			is_rival = FROM
			this_can_duel_with_from_trigger = yes

			NOR = {
				trait = lunatic
				trait = wroth # Give priority to the option for Wroth characters.
			}
		}

		custom_tooltip = { text = tooltip_22022_Y }


		opinion = {
			name = opinion_antagonized_3
			who = FROM
			years = 15
		}

		# Used to prevent Merciless from being applied in case you win and decide to kill the opponent, given that it's a honor duel.
		# Removed in the clean_up_after_duel_effect.
		set_character_flag = flag_antagonizer_duel
		save_event_target_as = combatant_1 # The person issuing the duel...

		FROM = {
			show_scope_change = no

			set_character_flag = flag_antagonizer_duel
			save_event_target_as = combatant_2 # The target of the duel...
			apply_degree_of_dishonorable_duel_effect = yes # Checks a bunch of age and health statuses...
		}

		pacifists_lose_piety_effect = yes

		add_character_modifier = {
			name = recent_duel_timer
			years = 1
			hidden = yes
		}

		FROM = {
			character_event = {
				id = HFP.10095 # Duel evaluation (hidden) + result event as follow-up.
				days = 1
			}
		}

		ai_chance = {
			factor = 40

			mult_modifier = {
				factor = 0.1
				trait = craven
			}

			mult_modifier = {
				factor = 1.5
				trait = brave
			}

			mult_modifier = {
				factor = 0.75

				is_tribal = no
				is_nomadic = no
			}

			mult_modifier = {
				factor = 1.25

				combat_rating_diff = {
					character = FROM
					value >= 5
				}
			}

			mult_modifier = {
				factor = 1.25

				combat_rating_diff = {
					character = FROM
					value >= 10
				}
			}

			mult_modifier = {
				factor = 1.5

				combat_rating_diff = {
					character = FROM
					value >= 15
				}
			}

			mult_modifier = {
				factor = 1.75

				combat_rating_diff = {
					character = FROM
					value >= 20
				}
			}
		}
	}

	option = { # Special option. - Wroth character starts duel!
		name = EVTOPTYHF22022
		tooltip_info = wroth

		trigger = {
			trait = wroth
			this_can_duel_with_from_trigger = yes
			NOT = { trait = lunatic }
		}

		custom_tooltip = { text = tooltip_22022_Y }

		opinion = {
			name = opinion_antagonized_3
			who = FROM
			years = 15
		}

		# Used to prevent Merciless from being applied in case you win and decide to kill the opponent, given that it's a honor duel.
		# Removed in the clean_up_after_duel_effect.
		set_character_flag = flag_antagonizer_duel
		save_event_target_as = combatant_1 # The person issuing the duel...

		FROM = {
			show_scope_change = no

			set_character_flag = flag_antagonizer_duel
			save_event_target_as = combatant_2 # The target of the duel...
			apply_degree_of_dishonorable_duel_effect = yes # checks a bunch of age and health statuses...
		}

		pacifists_lose_piety_effect = yes

		add_character_modifier = {
			name = recent_duel_timer
			years = 1
			hidden = yes
		}

		FROM = {
			character_event = {
				id = HFP.10095 # Duel evaluation (hidden) + result event as follow-up.
				days = 1
			}
		}

		ai_chance = {
			factor = 40

			mult_modifier = {
				factor = 0.1
				trait = craven
			}

			mult_modifier = {
				factor = 1.5
				trait = brave
			}

			mult_modifier = {
				factor = 0.75

				is_tribal = no
				is_nomadic = no
			}

			mult_modifier = {
				factor = 1.25

				combat_rating_diff = {
					character = FROM
					value >= 5
				}
			}

			mult_modifier = {
				factor = 1.25

				combat_rating_diff = {
					character = FROM
					value >= 10
				}
			}

			mult_modifier = {
				factor = 1.5

				combat_rating_diff = {
					character = FROM
					value >= 15
				}
			}

			mult_modifier = {
				factor = 1.75

				combat_rating_diff = {
					character = FROM
					value >= 20
				}
			}
		}
	}

	option = { # Special option. - Diplomacy. Avoid Antagonizer from getting special boons and stop his Antagonizing for a set amount of time.
		name = EVTOPTZHF22022
		tooltip_info = diplomacy

		trigger = {
			attribute_diff = {
				character = FROM
				attribute = diplomacy
				value >= 12
			}

			NOT = { trait = lunatic }
		}


		FROM = {
			show_scope_change = no

			character_event = {
				id = HF.22111
				tooltip = tooltip_22022_Z
			}

			opinion = {
				name = opinion_swayed_0
				who = ROOT
				years = 10
			}
		}

		ai_chance = { factor = 100 }
	}

	option = { # Special option. - Intrigue. Avoid Antagonizer from getting special boons or adding negative traits.
		name = EVTOPTAHF22022
		tooltip_info = intrigue

		trigger = {
			attribute_diff = {
				character = FROM
				attribute = intrigue
				value >= 5
			}

			NOT = { trait = lunatic }
		}

		FROM = {
			show_scope_change = no

			character_event = {
				id = HF.22023
				tooltip = tooltip_22022_A
			}
		}

		opinion = {
			name = opinion_antagonized_1
			who = FROM
			years = 10
		}

		ai_chance = { factor = 100 }
	}

	option = { # Special option. - Humble character accepts criticism.
		name = EVTOPTBHF22022
		tooltip_info = humble

		trigger = {
			trait = humble
			FROM = { has_character_flag = flag_antagonize_slander_temperate }
			NOT = { trait = lunatic }
		}

		custom_tooltip = {
			text = tooltip_22022_B

			FROM = { character_event = { id = HF.22024 } }
			random_antagonizer_slander_roll_effect = yes
		}

		tiered_piety_negative_effect = yes

		ai_chance = { factor = 60 }
	}

	option = { # Special option. - Kind character forgives Antagonizer.
		name = EVTOPTCHF22022
		tooltip_info = kind

		trigger = {
			NOT = { trait = lunatic }
			trait = kind
			FROM = {
				has_character_flag = flag_antagonize_slander_cruel
			}
		}

		custom_tooltip = {
			text = tooltip_22022_C

			FROM = { character_event = { id = HF.22025 } }
			random_antagonizer_slander_roll_effect = yes
		}

		tiered_prestige_negative_effect = yes

		ai_chance = { factor = 40 }
	}

	option = { # Special option. - Cynical character is unimpressed.
		name = EVTOPTDHF22022
		tooltip_info = cynical

		trigger = {
			trait = cynical
			FROM = { has_character_flag = flag_antagonize_slander_zealous }
			NOT = { trait = lunatic }
		}

		custom_tooltip = {
			text = tooltip_22022_D

			FROM = { character_event = { id = HF.22026 } }
			random_antagonizer_slander_roll_effect = yes
		}

		opinion = {
			name = opinion_antagonized_0
			who = FROM
			years = 10
		}

		tiered_piety_negative_effect = yes
		ai_chance = { factor = 40 }
	}

	option = { # Take in slander.
		name = EVTOPTEHF22022

		opinion = {
			name = opinion_antagonized_2
			who = FROM
			years = 10
		}

		if = {
			limit = {
				FROM = {
					OR = {
						has_character_flag = flag_antagonize_slander_temperate
						has_character_flag = flag_antagonize_slander_zealous
					}
				}
			}

			if = {
				limit = { trait = stressed }
				tiered_piety_negative_effect = yes
			}
			else = {
				add_trait_stressed_effect = yes

				FROM = {
					character_event = {
						id = HF.22028 # Notify Antagonizer as well.
						days = 7
					}
				}
			}
		}

		if = {
			limit = {
				FROM = {
					has_character_flag = flag_antagonize_slander_cruel
				}
			}

			if = {
				limit = { trait = depressed }
				tiered_prestige_negative_effect = yes
			}
			else = {
				random = {
					chance = 30
					add_trait_depressed_effect = yes

					FROM = {
						character_event = {
							id = HF.22029 # Notify Antagonizer as well.
							days = 7
						}
					}
				}
			}
		}

		hidden_effect = {
			FROM = { character_event = { id = HF.22027 } }
			random_antagonizer_slander_roll_effect = yes
		}

		ai_chance = { factor = 30 }
	}

	after = {
		clr_character_flag = flag_antagonized_option_kinslayer
		clr_character_flag = flag_antagonized_option_excommunicated
		clr_character_flag = flag_antagonized_option_eunuch
		clr_character_flag = flag_antagonized_option_mystic
		clr_character_flag = flag_antagonized_option_seducer
		clr_character_flag = flag_antagonized_option_schemer
		clr_character_flag = flag_antagonized_option_impaler
		clr_character_flag = flag_antagonized_option_hedonist
		clr_character_flag = flag_antagonized_option_bastard
		clr_character_flag = flag_antagonized_option_maimed
		clr_character_flag = flag_antagonized_option_infirm
		clr_character_flag = flag_antagonized_option_malnourished
		clr_character_flag = flag_antagonized_option_fat
		clr_character_flag = flag_antagonized_option_depressed
		clr_character_flag = flag_antagonized_option_drunkard
		clr_character_flag = flag_antagonized_option_lunatic
		clr_character_flag = flag_antagonized_option_possessed
		clr_character_flag = flag_antagonized_option_ugly
		clr_character_flag = flag_antagonized_option_chaste
		clr_character_flag = flag_antagonized_option_temperate
		clr_character_flag = flag_antagonized_option_charitable
		clr_character_flag = flag_antagonized_option_diligent
		clr_character_flag = flag_antagonized_option_patient
		clr_character_flag = flag_antagonized_option_kind
		clr_character_flag = flag_antagonized_option_humble
		clr_character_flag = flag_antagonized_option_lustful
		clr_character_flag = flag_antagonized_option_gluttonous
		clr_character_flag = flag_antagonized_option_greedy
		clr_character_flag = flag_antagonized_option_slothful
		clr_character_flag = flag_antagonized_option_wroth
		clr_character_flag = flag_antagonized_option_envious
		clr_character_flag = flag_antagonized_option_proud
		clr_character_flag = flag_antagonized_option_ambitious
		clr_character_flag = flag_antagonized_option_arbitrary
		clr_character_flag = flag_antagonized_option_brave
		clr_character_flag = flag_antagonized_option_content
		clr_character_flag = flag_antagonized_option_craven
		clr_character_flag = flag_antagonized_option_cruel
		clr_character_flag = flag_antagonized_option_cynical
		clr_character_flag = flag_antagonized_option_deceitful
		clr_character_flag = flag_antagonized_option_erudite
		clr_character_flag = flag_antagonized_option_gregarious
		clr_character_flag = flag_antagonized_option_honest
		clr_character_flag = flag_antagonized_option_just
		clr_character_flag = flag_antagonized_option_paranoid
		clr_character_flag = flag_antagonized_option_shy
		clr_character_flag = flag_antagonized_option_dull
		clr_character_flag = flag_antagonized_option_trusting
		clr_character_flag = flag_antagonized_option_zealous
		clr_character_flag = flag_antagonized_option_hunchback
		clr_character_flag = flag_antagonized_option_relative
		clr_character_flag = flag_antagonized_option_infidel
		clr_character_flag = flag_antagonized_option_heretic


		FROM = {
			clr_character_flag = flag_antagonize_slander_zealous
			clr_character_flag = flag_antagonize_slander_cruel
			clr_character_flag = flag_antagonize_slander_temperate
			clr_character_flag = flag_antagonize_slander_generic
		}
	}
}

# Antagonizer: notified of high intrigue reaction.
character_event = {
	id = HF.22023
	desc = EVTDESCHF22023
	picture = GFX_evt_meeting_hf

	is_triggered_only = yes

	ai = no

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22023

		tooltip = {
			reverse_opinion = {
				name = opinion_antagonized_1
				who = FROM
				years = 10
			}
		}
	}
}

# Antagonizer: notified of humble reaction.
character_event = {
	id = HF.22024
	desc = EVTDESCHF22024
	picture = GFX_evt_upsetting_letter

	is_triggered_only = yes

	ai = no

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22024
	}
}

# Antagonizer: notified of kind reaction.
character_event = {
	id = HF.22025
	desc = EVTDESCHF22025
	picture = GFX_evt_upsetting_letter

	is_triggered_only = yes

	ai = no

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22025
	}
}

# Antagonizer: notified of cynical reaction.
character_event = {
	id = HF.22026
	desc = EVTDESCHF22026
	picture = GFX_evt_upsetting_letter

	is_triggered_only = yes

	ai = no

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22026

		tooltip = {
			reverse_opinion = {
				name = opinion_antagonized_0
				who = FROM
				years = 10
			}
		}
	}
}

# Antagonizer: notified of default reaction.
character_event = {
	id = HF.22027
	desc = EVTDESCHF22027
	picture = GFX_evt_upsetting_letter

	is_triggered_only = yes

	ai = no

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = PERFECT

		tooltip = {
			reverse_opinion = {
				name = opinion_antagonized_2
				who = FROM
				years = 10
			}
		}
	}
}

# Antagonizer: notified Antagonized became stressed.
character_event = {
	id = HF.22028
	desc = EVTDESCHF22028
	picture = GFX_evt_pleasing_letter

	is_triggered_only = yes

	ai = no

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22028
	}
}

# Antagonizer: notified Antagonized became depressed.
character_event = {
	id = HF.22029
	desc = EVTDESCHF22029
	picture = GFX_evt_pleasing_letter

	is_triggered_only = yes

	ai = no

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22029
	}
}

# Antagonized: becoming a rival.
character_event = {
	id = HF.22030
	desc = EVTDESCHF22030
	picture = GFX_evt_scandal

	is_triggered_only = yes # random_antagonizer_slander_effect
	show_from_from = yes

	trigger = {
		FROMFROM = {
			is_alive = yes
		}
	}

	immediate = {
		FROMFROM = {
			character_event = { id = HF.22031 }
		}
	}

	option = {
		name = EVTOPTAHF22030

		add_rival = FROMFROM
	}
}

# Antagonizer: notification.
character_event = {
	id = HF.22031
	desc = EVTDESCHF22031
	picture = GFX_evt_scandal

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF22031

		add_rival = FROM

		hidden_effect = {
			FROM = {
				clr_character_flag = flag_character_being_antagonized
			}

			remove_special_interest = FROM
			clear_persistent_event_target = antagonize_target
		}
	}
}

# Random character: notice that Antagonizer hates Antagonized.
character_event = {
	id = HF.22032
	desc = EVTDESCHF22032
	picture = GFX_evt_scandal

	is_triggered_only = yes # random_antagonizer_slander_effect

	trigger = {
		FROMFROM = { is_alive = yes }
	}

	option = { # Become friend.
		name = EVTOPTAHF22032

		trigger = {
			num_of_friends < 3
			FROMFROM = { num_of_friends < 3 }
		}

		add_friend = FROMFROM

		FROMFROM = {
			character_event = { id = HF.22033 }
		}

		ai_chance = {
			factor = 60

			trigger = {
				opinion = {
					who = FROMFROM
					value >= 20
				}
			}
		}
	}

	option = { # Approve of his actions.
		name = EVTOPTBHF22032

		opinion = {
			name = opinion_swayed_2
			who = FROMFROM
			years = 10
		}

		FROMFROM = {
			character_event = { id = HF.22034 }
		}

		ai_chance = {
			factor = 40

			mult_modifier = {
				factor = 0.1

				opinion = {
					who = FROMFROM
					value >= 20
				}
			}
		}
	}
}

# Antagonizer: notification of friendship.
character_event = {
	id = HF.22033
	desc = EVTDESCHF22033
	picture = GFX_evt_meeting_hf

	is_triggered_only = yes

	ai = no

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22033

		tooltip = {
			add_friend = FROM
		}
	}
}

# Antagonizer: notification of approval.
character_event = {
	id = HF.22034
	desc = EVTDESCHF22034
	picture = GFX_evt_meeting_hf

	is_triggered_only = yes

	ai = no

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22034

		tooltip = {
			reverse_opinion = {
				name = opinion_swayed_2
				who = FROM
				years = 10
			}
		}
	}
}

# Antagonizer: gain prestige for antagonizing powerful ruler.
character_event = {
	id = HF.22035
	desc = EVTDESCHF22035
	picture = GFX_evt_meeting_hf

	is_triggered_only = yes # random_antagonizer_slander_effect

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22035

		random = {
			chance = 10
			add_trait_partially_brave_effect = yes
		}

		if = {
			limit = {
				FROM = {
					OR = {
						real_tier = EMPEROR
						any_spouse = { real_tier = EMPEROR }
					}
				}
			}

			prestige = 150
		}

		else_if = {
			limit = {
				FROM = {
					OR = {
						real_tier = KING
						any_spouse = { real_tier = KING }
					}
				}
			}

			prestige = 100
		}
		else_if = {
			limit = {
				FROM = {
					OR = {
						real_tier = DUKE
						any_spouse = { real_tier = DUKE }
					}
				}
			}

			prestige = 75
		}
	}
}

# Landless Claimant: move to Antagonizer's court.
character_event = {
	id = HF.22036
	desc = EVTDESCHF22036
	picture = GFX_evt_meeting_hf

	is_triggered_only = yes # random_antagonizer_slander_effect

	trigger = {
		FROMFROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22036

		move_character = FROMFROM

		any_spouse = {
			show_scope_change = no

			limit = { is_ruler = no }

			move_character = FROMFROM
		}

		any_child = {
			show_scope_change = no

			limit = {
				is_ruler = no
				is_adult = no
			}

			move_character = FROMFROM
		}

		FROMFROM = {
			character_event = { id = HF.22037 }
		}
	}
}

# Antagonizer notified.
character_event = {
	id = HF.22037
	desc = EVTDESCHF22037
	picture = GFX_evt_meeting_hf

	is_triggered_only = yes

	ai = no

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22037
	}
}

# Antagonizer gets random county claim. - Given as a reward for high-intrigue-locked events.
# character_event = {
#	id = HF.22038
#	desc = EVTDESCHF22038
#	picture = GFX_evt_scandal
#
#	is_triggered_only = yes # random_antagonizer_slander_effect
#
#	trigger = {
#		FROM = { is_alive = yes }
#	}
#
#	option = {
#		name = EVTOPTAHF22038
#
#		persistent_event_target:antagonize_target = {
#			show_scope_change = no
#
#			random_demesne_title = {
#				show_scope_change = no
#
#				limit = { lower_tier_than = DUKE }
#
#				add_claim = ROOT
#				save_event_target_as = scoped_claim # For localization use only.
#			}
#
#			character_event = { id = HF.22039 days = 6 }
#		}
#	}
# }

# Antagonized notified.
# character_event = {
#	id = HF.22039
#	desc = EVTDESCHF22039
#	picture = GFX_evt_scandal
#
#	is_triggered_only = yes
#
#	ai = no
#
#	trigger = {
#		FROM = { is_alive = yes }
#	}
#
#	option = {
#		name = EVTOPTAHF22039
#	}
# }

# Antagonized: Safety cleanup check for all flags in case somebody dies before the chain is over.
character_event = {
	id = HF.22040

	is_triggered_only = yes
	hide_window = yes

	immediate = {
		clr_character_flag = flag_antagonized_option_kinslayer
		clr_character_flag = flag_antagonized_option_excommunicated
		clr_character_flag = flag_antagonized_option_eunuch
		clr_character_flag = flag_antagonized_option_mystic
		clr_character_flag = flag_antagonized_option_seducer
		clr_character_flag = flag_antagonized_option_schemer
		clr_character_flag = flag_antagonized_option_impaler
		clr_character_flag = flag_antagonized_option_hedonist
		clr_character_flag = flag_antagonized_option_bastard
		clr_character_flag = flag_antagonized_option_maimed
		clr_character_flag = flag_antagonized_option_infirm
		clr_character_flag = flag_antagonized_option_malnourished
		clr_character_flag = flag_antagonized_option_fat
		clr_character_flag = flag_antagonized_option_depressed
		clr_character_flag = flag_antagonized_option_drunkard
		clr_character_flag = flag_antagonized_option_lunatic
		clr_character_flag = flag_antagonized_option_possessed
		clr_character_flag = flag_antagonized_option_ugly
		clr_character_flag = flag_antagonized_option_chaste
		clr_character_flag = flag_antagonized_option_temperate
		clr_character_flag = flag_antagonized_option_charitable
		clr_character_flag = flag_antagonized_option_diligent
		clr_character_flag = flag_antagonized_option_patient
		clr_character_flag = flag_antagonized_option_kind
		clr_character_flag = flag_antagonized_option_humble
		clr_character_flag = flag_antagonized_option_lustful
		clr_character_flag = flag_antagonized_option_gluttonous
		clr_character_flag = flag_antagonized_option_greedy
		clr_character_flag = flag_antagonized_option_slothful
		clr_character_flag = flag_antagonized_option_wroth
		clr_character_flag = flag_antagonized_option_envious
		clr_character_flag = flag_antagonized_option_proud
		clr_character_flag = flag_antagonized_option_ambitious
		clr_character_flag = flag_antagonized_option_arbitrary
		clr_character_flag = flag_antagonized_option_brave
		clr_character_flag = flag_antagonized_option_content
		clr_character_flag = flag_antagonized_option_craven
		clr_character_flag = flag_antagonized_option_cruel
		clr_character_flag = flag_antagonized_option_cynical
		clr_character_flag = flag_antagonized_option_deceitful
		clr_character_flag = flag_antagonized_option_erudite
		clr_character_flag = flag_antagonized_option_gregarious
		clr_character_flag = flag_antagonized_option_honest
		clr_character_flag = flag_antagonized_option_just
		clr_character_flag = flag_antagonized_option_paranoid
		clr_character_flag = flag_antagonized_option_shy
		clr_character_flag = flag_antagonized_option_dull
		clr_character_flag = flag_antagonized_option_trusting
		clr_character_flag = flag_antagonized_option_zealous
		clr_character_flag = flag_antagonized_option_hunchback
		clr_character_flag = flag_antagonized_option_relative
		clr_character_flag = flag_antagonized_option_infidel
		clr_character_flag = flag_antagonized_option_heretic
	}
}

# Antagonized: Safety cleanup check for all flags in case somebody dies before the chain is over.
character_event = {
	id = HF.22041

	is_triggered_only = yes
	hide_window = yes

	immediate = {
		clr_character_flag = flag_antagonize_slander_zealous
		clr_character_flag = flag_antagonize_slander_cruel
		clr_character_flag = flag_antagonize_slander_temperate
		clr_character_flag = flag_antagonize_slander_generic
	}
}

# Antagonizer: Slander resulted in prestige hit for Antagonized.
character_event = {
	id = HF.22042
	desc = EVTDESCHF22042
	picture = GFX_evt_pleasing_letter

	is_triggered_only = yes # random_antagonizer_slander_effect

	trigger = {
		FROM = { is_alive = yes }
	}

	immediate = {
		FROM = {
			character_event = { id = HF.22043 }
		}
	}

	option = {
		name = EVTOPTAHF22042

		tooltip = {
			FROM = {
				show_scope_change = no

				tiered_prestige_negative_effect = yes
			}
		}
	}
}

# Antagonized: notify of prestige hit.
character_event = {
	id = HF.22043
	desc = EVTDESCHF22043
	picture = GFX_evt_scandal

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF22043

		tiered_prestige_negative_effect = yes
	}
}

# Antagonizer: Slander resulted in piety hit for Antagonized.
character_event = {
	id = HF.22044
	desc = EVTDESCHF22044
	picture = GFX_evt_pleasing_letter

	is_triggered_only = yes # random_antagonizer_slander_effect

	trigger = {
		FROM = { is_alive = yes }
	}

	immediate = {
		FROM = {
			character_event = { id = HF.22045 }
		}
	}

	option = {
		name = EVTOPTAHF22044

		tooltip = {
			FROM = {
				show_scope_change = no

				tiered_piety_negative_effect = yes
			}
		}
	}
}

# Antagonized: notify of piety hit.
character_event = {
	id = HF.22045
	desc = EVTDESCHF22045
	picture = GFX_evt_scandal

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF22045

		tiered_piety_negative_effect = yes
	}
}

# Antagonizer: Slander resulted in general opinion malus for Antagonized.
character_event = {
	id = HF.22046
	desc = EVTDESCHF22046
	picture = GFX_evt_pleasing_letter

	is_triggered_only = yes # random_antagonizer_slander_effect

	trigger = {
		FROM = { is_alive = yes }
	}

	immediate = {
		FROM = {
			character_event = { id = HF.22047 }
		}
	}

	option = {
		name = EVTOPTAHF22046

		tooltip = {
			FROM = {
				show_scope_change = no

				add_character_modifier = {
					name = vicious_rumors
					years = 1
					stacking = yes
				}
			}
		}
	}
}

# Antagonized: notify of opinion malus.
character_event = {
	id = HF.22047
	desc = EVTDESCHF22047
	picture = GFX_evt_scandal

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF22047

		add_character_modifier = {
			name = vicious_rumors
			years = 1
			stacking = yes
		}
	}
}

# Antagonizer: Slander resulted in depressed Antagonized losing his mind.
character_event = {
	id = HF.22048
	desc = EVTDESCHF22048
	picture = GFX_evt_pleasing_letter

	is_triggered_only = yes # random_antagonizer_slander_effect

	trigger = {
		FROM = { is_alive = yes }
	}

	immediate = {
		FROM = {
			character_event = { id = HF.22049 }
		}
	}

	option = {
		name = EVTOPTAHF22048

		tooltip = {
			FROM = {
				show_scope_change = no

				add_trait = lunatic
			}
		}
	}
}

# Antagonized: notify of lunacy.
character_event = {
	id = HF.22049
	desc = EVTDESCHF22049
	picture = GFX_evt_bad_news

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF22049

		add_trait = lunatic
	}
}

##### TIER III events (Intrigue-locked) ######

# Caught the attention of a random criminal in the Antagonized's demesne.
# Decide what to do.
character_event = {
	id = HF.22051
	desc = EVTDESCHF22051
	picture = GFX_evt_meeting_hf
	portrait = persistent_event_target:antagonize_target

	is_triggered_only = yes

	# Fabricate vassalization/county claim.
	option = {
		name = EVTOPTAHF22051
		tooltip_info = intrigue

		trigger = {
			intrigue >= 14

			# Needs to be able to gain either of the two positive outcomes.
			OR = {
				NOT = {
					any_claim = {
						holder = persistent_event_target:antagonize_target
					}
				}

				# can_use from force_vassalization CB
				trigger_if = {
					limit = { has_dlc = "Jade Dragon" }

					NOT = {
						has_game_rule = {
							name = jade_dragon_cbs
							value = off
						}
					}

					# Attacker
					higher_real_tier_than = COUNT
					is_nomadic = no
					mercenary = no

					NOR = {
						same_realm = persistent_event_target:antagonize_target
						is_vassal_or_below_of = persistent_event_target:antagonize_target
					}

					# Defender
					persistent_event_target:antagonize_target = {
						shares_realm_border_with = ROOT
						lower_real_tier_than = ROOT

						OR = {
							religion = ROOT
							culture_group = ROOT
						}

						realm_size <= 31
						in_revolt = no
						is_nomadic = no
						controls_religion = no
						holy_order = no
					}
				}
			}
		}

		set_character_flag = flag_antagonize_fabricate_claim

		character_event = {
			id = HF.22052
			tooltip = tooltip_22051_A
		}

		if = {
			limit = { ai = no }

			scaled_wealth = {
				value = -2.5
				min = -150
				max = -450
			}
		}

		ai_chance = { factor = 80 }
	}

	# Cause province unrest.
	option = {
		name = EVTOPTBHF22051

		set_character_flag = flag_antagonize_cause_unrest

		character_event = {
			id = HF.22052
			tooltip = tooltip_22051_B
		}

		if = {
			limit = { ai = no }

			scaled_wealth = {
				value = -1.5
				min = -100
				max = -250
			}
		}

		ai_chance = { factor = 40 }
	}

	# Sow dissent.
	option = {
		name = EVTOPTCHF22051

		trigger = {
			persistent_event_target:antagonize_target = {
				OR = {
					is_married = yes
					any_dynasty_member = { is_adult = yes }
					any_vassal = { is_adult = yes }
				}
			}
		}

		set_character_flag = flag_antagonize_sow_dissent

		character_event = {
			id = HF.22052
			tooltip = tooltip_22051_C
		}

		if = {
			limit = { ai = no }

			scaled_wealth = {
				value = -1.5
				min = -10
				max = -50
			}
		}

		ai_chance = { factor = 20 }
	}

	# Do nothing.
	option = {
		name = EVTOPTDHF22051

		ai_chance = { factor = 0 }
	}
}

# Hidden check to determine outcome.
character_event = {
	id = HF.22052

	is_triggered_only = yes
	hide_window = yes

	immediate = {
		random_list = {
			# Gain County Claim.
			# Unlock Vassalization cb.

			# Increased revolt risk in capital.
			# Reduced tax rate in capital.

			# Opinion malus with vassals.
			# Opinion malus with relatives.
			# Opinion malus with spouse.

			30 = { # Gain County Claim.
				trigger = {
					has_character_flag = flag_antagonize_fabricate_claim

					NOT = {
						any_claim = {
							holder = persistent_event_target:antagonize_target
						}
					}
				}

				character_event = {
					id = HF.22053
					days = 4
				}
			}

			30 = { # Gain Vassalization Claim.
				trigger = {
					has_character_flag = flag_antagonize_fabricate_claim

					# can_use from force_vassalization CB
					has_dlc = "Jade Dragon"

					NOT = {
						has_game_rule = {
							name = jade_dragon_cbs
							value = off
						}
					}

					# Attacker
					higher_real_tier_than = COUNT
					is_nomadic = no
					mercenary = no

					NOR = {
						same_realm = persistent_event_target:antagonize_target
						is_vassal_or_below_of = persistent_event_target:antagonize_target
					}

					# Defender
					persistent_event_target:antagonize_target = {
						shares_realm_border_with = ROOT
						lower_real_tier_than = ROOT

						OR = {
							religion = ROOT
							culture_group = ROOT
						}

						realm_size <= 31
						in_revolt = no
						is_nomadic = no
						controls_religion = no
						holy_order = no
					}
				}

				character_event = {
					id = HF.22055
					days = 4
				}
			}

			30 = { # Revolt risk has increased in Antagonized's capital.
				trigger = { has_character_flag = flag_antagonize_cause_unrest }

				character_event = {
					id = HF.22057
					days = 4
				}
			}

			30 = { # Tax revenue has been reduced in Antagonized's capital.
				trigger = { has_character_flag = flag_antagonize_cause_unrest  }

				character_event = {
					id = HF.22059
					days = 4
				}
			}

			25 = { # Opinion malus with Antagonized's vassals.
				trigger = {
					has_character_flag = flag_antagonize_sow_dissent

					persistent_event_target:antagonize_target = {
						any_vassal = {
							is_adult = yes
						}
					}
				}

				character_event = {
					id = HF.22061
					days = 4
				}
			}

			25 = { # Opinion malus with Antagonized's relatives.
				trigger = {
					has_character_flag = flag_antagonize_sow_dissent

					persistent_event_target:antagonize_target = {
						any_dynasty_member = {
							is_adult = yes
						}
					}
				}

				character_event = {
					id = HF.22063
					days = 4
				}
			}

			25 = { # Opinion malus with Antagonized's spouse.
				trigger = {
					has_character_flag = flag_antagonize_sow_dissent

					persistent_event_target:antagonize_target = {
						is_married = yes

						NOR = {
							is_lover = spouse
							is_friend = spouse
							is_rival = spouse
						}
					}
				}

				character_event = {
					id = HF.22065
					days = 4
				}
			}

			25 = { # Failure. - Antagonized is notified.
				trigger = {
					persistent_event_target:antagonize_target = {
						is_incapable = no
					}
				}

				mult_modifier = {
					factor = 0.85
					attribute_diff = { character = persistent_event_target:antagonize_target attribute = intrigue value >= 10 }
				}

				mult_modifier = {
					factor = 0.85
					attribute_diff = { character = persistent_event_target:antagonize_target attribute = intrigue value >= 8 }
				}

				mult_modifier = {
					factor = 0.85
					attribute_diff = { character = persistent_event_target:antagonize_target attribute = intrigue value >= 6 }
				}

				mult_modifier = {
					factor = 0.85
					attribute_diff = { character = persistent_event_target:antagonize_target attribute = intrigue value >= 4 }
				}

				mult_modifier = {
					factor = 0.85
					attribute_diff = { character = persistent_event_target:antagonize_target attribute = intrigue value >= 2 }
				}

				mult_modifier = {
					factor = 1.25
					attribute_diff = { character = persistent_event_target:antagonize_target attribute = intrigue value <= -2 }
				}

				mult_modifier = {
					factor = 1.25
					attribute_diff = { character = persistent_event_target:antagonize_target attribute = intrigue value <= -4 }
				}

				mult_modifier = {
					factor = 1.25
					attribute_diff = { character = persistent_event_target:antagonize_target attribute = intrigue value <= -6 }
				}

				mult_modifier = {
					factor = 1.25
					attribute_diff = { character = persistent_event_target:antagonize_target attribute = intrigue value <= -8 }
				}

				mult_modifier = {
					factor = 1.25
					attribute_diff = { character = persistent_event_target:antagonize_target attribute = intrigue value <= -10 }
				}

				persistent_event_target:antagonize_target = {
					character_event = {
						id = HF.22067
						days = 4
					}
				}
			}
		}

		clr_character_flag = flag_antagonize_fabricate_claim
		clr_character_flag = flag_antagonize_cause_unrest
		clr_character_flag = flag_antagonize_sow_dissent
	}
}

# Antagonizer: Blackguard fabricated a county claim.
character_event = {
	id = HF.22053
	desc = EVTDESCHF22053
	picture = GFX_evt_meeting_hf
	portrait = persistent_event_target:antagonize_target

	is_triggered_only = yes

	immediate = {
		persistent_event_target:antagonize_target = {
			random_demesne_title = {
				limit = { lower_real_tier_than = DUKE }
				save_event_target_as = scoped_claim
			}
		}
	}

	option = {
		name = EVTOPTAHF22053

		add_claim = event_target:scoped_claim

		persistent_event_target:antagonize_target = {
			show_scope_change = no

			opinion = {
				name = opinion_antagonized_2
				who = ROOT
				years = 10
			}

			character_event = { id = HF.22054 }
		}
	}
}

# Antagonized: notify of claim.
character_event = {
	id = HF.22054
	desc = EVTDESCHF22054
	picture = GFX_evt_meeting_hf

	is_triggered_only = yes

	ai = no

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22054

		tooltip = {
			event_target:scoped_claim = {
				show_scope_change = no

				add_claim = FROM
			}

			opinion = {
				name = opinion_antagonized_2
				who = FROM
				years = 10
			}
		}
	}
}

# Antagonizer: Blackguard fabricated a vassalization reason.
character_event = {
	id = HF.22055
	desc = EVTDESCHF22055
	picture = GFX_evt_meeting_hf
	portrait = persistent_event_target:antagonize_target

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF22055

		persistent_event_target:antagonize_target = {
			show_scope_change = no

			character_event = {
				id = HF.22056
				tooltip = tooltip_HF22055_A
			}

			opinion = {
				name = opinion_antagonized_2
				who = ROOT
				years = 10
			}

			hidden_effect = {
				reverse_opinion = {
					name = opinion_antagonize_vassalize_claim
					who = ROOT
					years = 100
				}
			}

		}
	}
}

# Antagonized: notify of claim.
character_event = {
	id = HF.22056
	desc = EVTDESCHF22056
	picture = GFX_evt_meeting_hf

	is_triggered_only = yes

	ai = no

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22056

		custom_tooltip = { text = tooltip_HF22056_A }

		tooltip = {
			opinion = {
				name = opinion_antagonized_2
				who = FROM
				years = 10
			}
		}
	}
}

# Antagonizer: Blackguard upset the peasants.
character_event = {
	id = HF.22057
	desc = EVTDESCHF22057
	picture = GFX_evt_meeting_hf
	portrait = persistent_event_target:antagonize_target

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF22057

		persistent_event_target:antagonize_target = {
			show_scope_change = no

			capital_scope = {
				show_scope_change = no

				add_province_modifier = {
					name = peasants_scorned
					years = 4
				}
			}

			opinion = {
				name = opinion_antagonized_2
				who = ROOT
				years = 10
			}

			character_event = { id = HF.22058 }
		}
	}
}

# Antagonized: notify of peasants upset.
character_event = {
	id = HF.22058
	desc = EVTDESCHF22058
	picture = GFX_evt_riders_night_hf

	is_triggered_only = yes

	ai = no

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22058

		tooltip = {
			opinion = {
				name = opinion_antagonized_2
				who = FROM
				years = 10
			}

			capital_scope = {
				show_scope_change = no

				add_province_modifier = {
					name = peasants_scorned
					years = 4
				}
			}
		}
	}
}

# Antagonizer: Blackguard created thieves' guild.
character_event = {
	id = HF.22059
	desc = EVTDESCHF22059
	picture = GFX_evt_sleeping_town_hf
	portrait = persistent_event_target:antagonize_target

	is_triggered_only = yes

	option = {
		name = GOOD

		persistent_event_target:antagonize_target = {
			show_scope_change = no

			capital_scope = {
				show_scope_change = no

				add_province_modifier = {
					name = thieves_guild
					years = 4
				}
			}

			opinion = {
				name = opinion_antagonized_2
				who = ROOT
				years = 10
			}

			character_event = { id = HF.22060 }
		}
	}
}

# Antagonized: notify of thieves' guild.
character_event = {
	id = HF.22060
	desc = EVTDESCHF22060
	picture = GFX_evt_sleeping_town_hf

	is_triggered_only = yes

	ai = no

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22060

		tooltip = {
			opinion = {
				name = opinion_antagonized_2
				who = FROM
				years = 10
			}

			capital_scope = {
				show_scope_change = no

				add_province_modifier = {
					name = thieves_guild
					years = 4
				}
			}
		}
	}
}

# Antagonizer: Blackguard sew dissent amongst the vassals.
character_event = {
	id = HF.22061
	desc = EVTDESCHF22061
	picture = GFX_evt_mountaintop_castle_hf
	portrait = persistent_event_target:antagonize_target

	is_triggered_only = yes

	option = {
		name = PERFECT

		persistent_event_target:antagonize_target = {
			show_scope_change = no

			add_character_modifier = {
				name = antagonize_slandering_vassals
				years = 10
			}

			opinion = {
				name = opinion_antagonized_2
				who = ROOT
				years = 10
			}

			character_event = { id = HF.22062 }
		}
	}
}

# Antagonized: notify of vassal opinion.
character_event = {
	id = HF.22062
	desc = EVTDESCHF22062
	picture = GFX_evt_mountaintop_castle_hf

	is_triggered_only = yes

	ai = no

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22062

		tooltip = {
			add_character_modifier = {
				name = antagonize_slandering_vassals
				years = 10
			}

			opinion = {
				name = opinion_antagonized_2
				who = FROM
				years = 10
			}
		}
	}
}

# Antagonizer: Blackguard sew dissent amongst the relatives.
character_event = {
	id = HF.22063
	desc = EVTDESCHF22063
	picture = GFX_evt_meeting_hf
	portrait = persistent_event_target:antagonize_target

	is_triggered_only = yes

	option = {
		name = GOOD

		persistent_event_target:antagonize_target = {
			show_scope_change = no

			add_character_modifier = {
				name = antagonize_slandering_relatives
				years = 10
			}

			opinion = {
				name = opinion_antagonized_2
				who = ROOT
				years = 10
			}

			character_event = { id = HF.22064 }
		}
	}
}

# Antagonized: notify of relative opinion.
character_event = {
	id = HF.22064
	desc = EVTDESCHF22064
	picture = GFX_evt_meeting_hf

	is_triggered_only = yes

	ai = no

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22064

		tooltip = {
			add_character_modifier = {
				name  = antagonize_slandering_relatives
				years = 10
			}

			opinion = {
				name = opinion_antagonized_2
				who = FROM
				years = 10
			}
		}
	}
}

# Antagonizer: Blackguard sew dissent between spouses.
character_event = {
	id = HF.22065
	desc = EVTDESCHF22065
	picture = GFX_evt_meeting_hf
	portrait = persistent_event_target:antagonize_target

	is_triggered_only = yes

	option = {
		name = EXCELLENT

		persistent_event_target:antagonize_target = {
			show_scope_change = no

			reverse_opinion = {
				name = opinion_antagonize_slandering_spouse
				who = spouse
				years = 10
			}

			opinion = {
				name = opinion_antagonized_2
				who = ROOT
				years = 10
			}

			character_event = { id = HF.22066 }
		}
	}
}

# Antagonized: notify of spouse opinion.
character_event = {
	id = HF.22066
	desc = EVTDESCHF22066
	picture = GFX_evt_quarrel

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTAHF22066

		tooltip = {
			reverse_opinion = {
				name = opinion_antagonize_slandering_spouse
				who = spouse
				years = 10
			}

			opinion = {
				name = opinion_antagonized_2
				who = FROM
				years = 10
			}
		}
	}
}

# Antagonized: managed to outsmart the blackguard.
character_event = {
	id = HF.22067
	desc = EVTDESCHF22067
	picture = GFX_evt_sway_hf

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF22067
		tooltip_info = intrigue

		FROM = {
			show_scope_change = no

			tiered_prestige_negative_effect = yes
			character_event = { id = HF.22068 }
		}
	}
}

# Antagonizer: notification.
character_event = {
	id = HF.22068
	desc = EVTDESCHF22068
	picture = GFX_evt_sway_hf

	is_triggered_only = yes

	ai = no

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22068

		tooltip = {
			tiered_prestige_negative_effect = yes
		}
	}
}

################################################

## Deadly sins gifts.
# Antagonizer: send special gift to Lustful Antagonized.
character_event = {
	id = HF.22070
	desc = EVTDESCHF22070
	picture = GFX_evt_eavesdropping
	portrait = persistent_event_target:antagonize_target

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF22070
		tooltip_info = intrigue

		persistent_event_target:antagonize_target = {
			show_scope_change = no

			character_event = {
				id = HF.22071
				days = 12
				tooltip = tooltip_HF22070_A
			}
		}

		random = {
			chance = 25
			add_trait_partially_cruel_effect = yes
		}

		ai_chance = { factor = 90 }
	}

	option = { # Do nothing.
		name = EVTOPTBHF22070

		ai_chance = { factor = 10 }
	}
}

# Antagonized: receive present.
character_event = {
	id = HF.22071
	picture = GFX_evt_dancing

	desc = { # Male courtesan
		text = EVTDESCHFA22071
		trigger = { prefers_men_trigger = yes }
	}
	desc = { # Female courtesan
		text = EVTDESCHFB22071
		trigger = { prefers_men_trigger = no }
	}

	is_triggered_only = yes
	hide_from = yes
	hide_new = yes

	trigger = {
		FROM = { is_alive = yes }
	}

	option = { # Plot discovered.
		name = EVTOPTAHF22071
		tooltip_info = paranoid

		trigger = { trait = paranoid }

		FROM = {
			show_scope_change = no

			character_event = {
				id = HF.22072
				tooltip = tooltip_HF22071_A
			}
		}
	}

	option = { # Courtesan accepted.
		name = EVTOPTBHF22071
		tooltip_info = lustful

		character_event = {
			id = HF.22073
			days = 4
			tooltip = tooltip_HF22071_B
		}

		random = {
			chance = 25
			remove_trait_paranoid_effect = yes
		}

		tooltip = {
			random = {
				chance = 50
				change_diplomacy = 1
			}
		}

		hidden_effect = { # Silly player, those aren't the real odds.
			random = {
				chance = 15
				change_diplomacy = 1
			}
		}
	}
}


# Antagonizer: courtesan was refused.
character_event = {
	id = HF.22072
	desc = EVTDESCHF22072
	picture = GFX_evt_whispers

	is_triggered_only = yes

	ai = no

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22072
	}
}

# Antagonized: courtesan was great_pox.
character_event = {
	id = HF.22073
	picture = GFX_evt_bad_news

	desc = { # Male courtesan
		text = EVTDESCHFA22073
		trigger = { prefers_men_trigger = yes }
	}
	desc = { # Female courtesan
		text = EVTDESCHFB22073
		trigger = { prefers_men_trigger = no }
	}

	is_triggered_only = yes
	show_from_from = yes

	option = {
		name = EVTOPTAHF22073

		add_trait = great_pox

		opinion = {
			name = opinion_antagonized_3
			who = FROMFROM
			years = 10
		}

		FROMFROM = {
			character_event = { id = HF.22074 }
		}
	}
}

# Antagonizer: Notified.
character_event = {
	id = HF.22074
	desc = EVTDESCHF22074
	picture = GFX_evt_whispers

	is_triggered_only = yes

	ai = no

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22074

		tooltip = {
			reverse_opinion = {
				name = opinion_antagonized_3
				who = FROM
				years = 10
			}
		}
	}
}

# Antagonizer: chance to hurt Antagonized.
character_event = {
	id = HF.22076
	desc = EVTDESCHF22076
	picture = GFX_evt_eavesdropping
	portrait = persistent_event_target:antagonize_target

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF22076
		tooltip_info = intrigue

		persistent_event_target:antagonize_target = {
			show_scope_change = no

			character_event = {
				id = HF.22077
				days = 12
				tooltip = tooltip_HF22076_A
			}
		}

		random = {
			chance = 25
			add_trait_partially_cruel_effect = yes
		}

		ai_chance = { factor = 90 }
	}

	option = { # Do nothing.
		name = EVTOPTBHF22076

		ai_chance = { factor = 10 }
	}
}

# Antagonized: receive present.
character_event = {
	id = HF.22077
	desc = EVTDESCHFA22077
	picture = GFX_evt_fancy_feast

	is_triggered_only = yes
	hide_from = yes
	hide_new = yes

	trigger = {
		FROM = { is_alive = yes }
	}

	option = { # Plot discovered.
		name = EVTOPTAHF22077
		tooltip_info = wroth

		trigger = { trait = wroth }

		FROM = {
			show_scope_change = no

			character_event = {
				id = HF.22078
				tooltip = tooltip_HF22077_A
			}
		}
	}

	option = { # Present accepted.
		name = EVTOPTBHF22077
		tooltip_info = gluttonous

		character_event = {
			id = HF.22079
			days = 4
			tooltip = tooltip_HF22077_B
		}

		random = {
			chance = 25
			remove_trait_wroth_effect = yes
		}

		tiered_prestige_reward_effect = yes
	}
}

# Antagonizer: gift was refused.
character_event = {
	id = HF.22078
	desc = EVTDESCHF22078
	picture = GFX_evt_whispers

	is_triggered_only = yes

	ai = no

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22078
	}
}

# Antagonized: gift caused food poisoning.
character_event = {
	id = HF.22079
	desc = EVTDESCHFA22079
	picture = GFX_evt_bad_news

	is_triggered_only = yes
	show_from_from = yes

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22079

		if = {
			limit = { has_dlc = "Reapers" }

			add_trait = food_poisoning
			set_character_flag = manifest_food_poisoning
			add_disease_level_effect = yes
			blessing_removes_disease_effect = yes
			deaths_gift_removes_disease_effect = yes
			scrying_omen_fulfilled_by_gaining_disease_effect = yes
		}
		else = {
			add_trait = ill
		}

		opinion = {
			name = opinion_antagonized_3
			who = FROMFROM
			years = 10
		}

		FROMFROM = {
			character_event = { id = HF.22080 }
		}
	}
}

# Antagonizer: Notified.
character_event = {
	id = HF.22080
	desc = EVTDESCHF22080
	picture = GFX_evt_whispers

	is_triggered_only = yes

	ai = no

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22080

		tooltip = {
			reverse_opinion = {
				name = opinion_antagonized_3
				who = FROM
				years = 10
			}
		}
	}
}

# Antagonizer: send special gift to Greedy Antagonized.
character_event = {
	id = HF.22082
	desc = EVTDESCHF22082
	picture = GFX_evt_eavesdropping
	portrait = persistent_event_target:antagonize_target

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF22082
		tooltip_info = intrigue

		persistent_event_target:antagonize_target = {
			show_scope_change = no

			character_event = {
				id = HF.22083
				days = 12
				tooltip = tooltip_HF22082_A
			}
		}

		random = {
			chance = 25
			add_trait_partially_cruel_effect = yes
		}

		ai_chance = { factor = 90 }
	}

	option = { # Do nothing.
		name = EVTOPTBHF22082

		ai_chance = { factor = 10 }
	}
}

# Antagonized: receive present.
character_event = {
	id = HF.22083
	desc = EVTDESCHFA22083
	picture = GFX_evt_emissary

	is_triggered_only = yes
	hide_from = yes
	hide_new = yes

	trigger = {
		FROM = { is_alive = yes }
	}

	option = { # Plot discovered.
		name = EVTOPTAHF22083
		tooltip_info = humble

		trigger = { trait = humble }

		custom_tooltip = { text = tooltip_HF22083_A }

		FROM = { character_event = { id = HF.22084 } }
	}

	option = { # Crown accepted.
		name = EVTOPTBHF22083
		tooltip_info = greedy

		random = {
			chance = 25
			remove_trait_humble_effect = yes
		}

		add_character_modifier = {
			name = luxurious_crown_modifier
			duration = -1
		}

		character_event = {
			id = HF.22085
			days = 4
		}
	}
}

# Antagonizer: crown was refused.
character_event = {
	id = HF.22084
	desc = EVTDESCHF22084
	picture = GFX_evt_whispers

	is_triggered_only = yes

	ai = no

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22084
	}
}

# Antagonized: crown was fake.
character_event = {
	id = HF.22085
	desc = EVTDESCHFA22085
	picture = GFX_evt_bad_news

	is_triggered_only = yes
	show_from_from = yes

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22085

		remove_character_modifier = luxurious_crown_modifier
		tiered_prestige_negative_effect = yes
		add_trait_silently_stressed_effect = yes

		opinion = {
			name = opinion_antagonized_3
			who = FROMFROM
			years = 10
		}

		FROMFROM = {
			character_event = { id = HF.22086 }
		}
	}
}

# Antagonizer: Notified.
character_event = {
	id = HF.22086
	desc = EVTDESCHF22086
	picture = GFX_evt_whispers

	is_triggered_only = yes

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22086

		tooltip = {
			reverse_opinion = {
				name = opinion_antagonized_3
				who = FROM
				years = 10
			}
		}
	}
}

# Antagonizer: send special gift to Slothful Antagonized.
character_event = {
	id = HF.22088
	desc = EVTDESCHF22088
	picture = GFX_evt_eavesdropping
	portrait = persistent_event_target:antagonize_target

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF22088
		tooltip_info = intrigue

		persistent_event_target:antagonize_target = {
			show_scope_change = no

			character_event = {
				id = HF.22089
				days = 12
				tooltip = tooltip_HF22088_A
			}
		}

		random = {
			chance = 25
			add_trait_partially_cruel_effect = yes
		}

		ai_chance = { factor = 90 }
	}

	option = { # Do nothing.
		name = EVTOPTBHF22088

		ai_chance = { factor = 10 }
	}
}

# Antagonized: receive present.
character_event = {
	id = HF.22089
	desc = EVTDESCHFA22089
	picture = GFX_evt_emissary

	is_triggered_only = yes
	hide_from = yes
	hide_new = yes

	trigger = {
		FROM = { is_alive = yes }
	}

	option = { # Plot discovered.
		name = EVTOPTAHF22089
		tooltip_info = arbitrary

		trigger = { trait = arbitrary }

		custom_tooltip = { text = tooltip_HF22089_A }

		FROM = { character_event = { id = HF.22090 } }
	}

	option = { # Missive accepted.
		name = EVTOPTBHF22089
		tooltip_info = slothful

		custom_tooltip = { text = tooltip_HF22089_B }

		random = {
			chance = 25
			remove_trait_arbitrary_effect = yes
		}

		tooltip = {
			random = {
				chance = 50
				change_stewardship = 1
			}
		}

		hidden_effect = { # Silly player, those aren't the real odds.
			random = {
				chance = 15
				change_stewardship = 1
			}
		}

		character_event = {
			id = HF.22091
			days = 4
		}
	}
}

# Antagonizer: gift was refused.
character_event = {
	id = HF.22090
	desc = EVTDESCHF22090
	picture = GFX_evt_whispers

	is_triggered_only = yes

	ai = no

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22090
	}
}

# Antagonized: border redrawing goes poorly.
character_event = {
	id = HF.22091
	desc = EVTDESCHFA22091
	picture = GFX_evt_bad_news

	is_triggered_only = yes
	show_from_from = yes

	trigger = {
		FROMFROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22091

		tiered_prestige_negative_effect = yes
		add_trait_silently_stressed_effect = yes

		opinion = {
			name = opinion_antagonized_3
			who = FROMFROM
			years = 10
		}

		FROMFROM = {
			character_event = { id = HF.22092 }
		}
	}
}

# Antagonizer: Notified.
character_event = {
	id = HF.22092
	desc = EVTDESCHF22092
	picture = GFX_evt_whispers

	is_triggered_only = yes

	ai = no

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22092

		tooltip = {
			reverse_opinion = {
				name = opinion_antagonized_3
				who = FROM
				years = 10
			}
		}
	}
}

# Antagonizer: send special gift to Wroth Antagonized.
character_event = {
	id = HF.22094
	desc = EVTDESCHF22094
	picture = GFX_evt_eavesdropping

	is_triggered_only = yes

	trigger = {
		persistent_event_target:antagonize_target = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22094
		tooltip_info = intrigue

		persistent_event_target:antagonize_target = {
			show_scope_change = no

			character_event = {
				id = HF.22095
				days = 12
				tooltip = tooltip_HF22094_A
			}
		}

		random = {
			chance = 25
			add_trait_partially_cruel_effect = yes
		}

		ai_chance = { factor = 90 }
	}

	option = { # Do nothing.
		name = EVTOPTBHF22094

		ai_chance = { factor = 10 }
	}
}

# Antagonized: parade ruined.
character_event = {
	id = HF.22095
	desc = EVTDESCHFA22095
	picture = GFX_evt_peasants

	is_triggered_only = yes
	hide_from = yes
	hide_new = yes

	trigger = {
		FROM = { is_alive = yes }
	}

	option = { # Plot discovered.
		name = EVTOPTAHF22095
		tooltip_info = kind

		trigger = { trait = kind }

		custom_tooltip = { text = tooltip_HF22095_A }

		FROM = { character_event = { id = HF.22096 } }
	}

	option = { # Thugs pursued.
		name = EVTOPTBHF22095
		tooltip_info = wroth

		custom_tooltip = { text = tooltip_HF22095_B }

		random = {
			chance = 25
			remove_trait_kind_effect = yes
		}

		tooltip = {
			random = {
				chance = 50
				change_martial = 1
			}
		}

		hidden_effect = { # Silly player, those aren't the real odds.
			random = {
				chance = 15
				change_martial = 1
			}
		}

		character_event = {
			id = HF.22097
			days = 4
		}
	}
}

# Antagonizer: taunting ignored.
character_event = {
	id = HF.22096
	desc = EVTDESCHF22096
	picture = GFX_evt_whispers

	is_triggered_only = yes

	ai = no

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22096
	}
}

# Antagonized: taunting caused depression.
character_event = {
	id = HF.22097
	desc = EVTDESCHFA22097
	picture = GFX_evt_bad_news

	is_triggered_only = yes
	show_from_from = yes

	trigger = {
		FROMFROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22097

		add_trait = depressed

		opinion = {
			name = opinion_antagonized_3
			who = FROMFROM
			years = 10
		}

		FROMFROM = {
			character_event = { id = HF.22098 }
		}
	}
}

# Antagonizer: Notified.
character_event = {
	id = HF.22098
	desc = EVTDESCHF22098
	picture = GFX_evt_whispers

	is_triggered_only = yes
	show_from_from = yes

	option = {
		name = EXCELLENT

		tooltip = {
			reverse_opinion = {
				name = opinion_antagonized_3
				who = FROM
				years = 10
			}
		}
	}
}

# Antagonizer: send special gift to Envious Antagonized.
character_event = {
	id = HF.22100
	desc = EVTDESCHF22100
	picture = GFX_evt_eavesdropping
	portrait = persistent_event_target:antagonize_target

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF22100
		tooltip_info = intrigue

		random = {
			chance = 25
			add_trait_partially_cruel_effect = yes
		}

		persistent_event_target:antagonize_target = {
			show_scope_change = no

			character_event = {
				id = HF.22101
				days = 12
				tooltip = tooltip_HF22100_A
			}
		}

		ai_chance = { factor = 90 }
	}

	option = { # Do nothing.
		name = EVTOPTBHF22100

		ai_chance = { factor = 10 }
	}
}

# Antagonized: receive present.
character_event = {
	id = HF.22101
	desc = EVTDESCHFA22101
	picture = GFX_evt_emissary

	is_triggered_only = yes
	hide_from = yes
	hide_new = yes

	trigger = {
		FROM = { is_alive = yes }
	}

	immediate = {
		random_neighbor_independent_ruler = {
			limit = { NOT = { character = FROM } }

			random_demesne_title = {
				save_event_target_as = scoped_title
			}
		}
	}

	option = { # Plot discovered.
		name = EVTOPTAHF22101
		tooltip_info = content

		trigger = { trait = content }

		FROM = {
			show_scope_change = no

			character_event = {
				id = HF.22102
				tooltip = tooltip_HF22101_A
			}
		}
	}

	option = { # Claim accepted.
		name = EVTOPTBHF22101
		tooltip_info = envious

		random = {
			chance = 25
			remove_trait_content_effect = yes
		}

		tooltip = { # Fake claim.
			add_claim = event_target:scoped_title
		}

		character_event = {
			id = HF.22103
			days = 4
		}
	}
}

# Antagonizer: claim was refused.
character_event = {
	id = HF.22102
	desc = EVTDESCHF22102
	picture = GFX_evt_whispers

	is_triggered_only = yes

	ai = no

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22102
	}
}

# Antagonized: claim was false.
character_event = {
	id = HF.22103
	desc = EVTDESCHFA22103
	picture = GFX_evt_bad_news

	is_triggered_only = yes
	show_from_from = yes

	trigger = {
		FROMFROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22103

		tiered_prestige_negative_effect = yes
		add_trait_silently_stressed_effect = yes

		opinion = {
			name = opinion_antagonized_3
			who = FROMFROM
			years = 10
		}

		FROMFROM = {
			character_event = { id = HF.22104 }
		}
	}
}

# Antagonizer: Notified.
character_event = {
	id = HF.22104
	desc = EVTDESCHF22104
	picture = GFX_evt_whispers

	is_triggered_only = yes
	show_from_from = yes

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22104

		tooltip = {
			reverse_opinion = {
				name = opinion_antagonized_3
				who = FROM
				years = 10
			}
		}
	}
}

# Antagonizer: send special gift to Proud Antagonized.
character_event = {
	id = HF.22106
	desc = EVTDESCHF22106
	picture = GFX_evt_eavesdropping
	portrait = persistent_event_target:antagonize_target

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF22106
		tooltip_info = intrigue

		random = {
			chance = 25
			add_trait_partially_cruel_effect = yes
		}

		persistent_event_target:antagonize_target = {
			show_scope_change = no

			character_event = {
				id = HF.22107
				days = 12
				tooltip = tooltip_HF22106_A
			}
		}

		ai_chance = { factor = 90 }
	}

	option = { # Do nothing.
		name = EVTOPTBHF22106
		ai_chance = { factor = 10 }
	}
}

# Antagonized: receive painting.
character_event = {
	id = HF.22107
	desc = EVTDESCHFA22107
	picture = GFX_evt_emissary

	is_triggered_only = yes

	trigger = {
		FROM = { is_alive = yes }
	}

	option = { # Plot discovered.
		name = EVTOPTAHF22107
		tooltip_info = shy

		trigger = { trait = shy }

		FROM = {
			show_scope_change = no

			character_event = {
				id = HF.22108
				tooltip = tooltip_HF22107_A
			}
		}
	}

	option = { # Painting accepted.
		name = EVTOPTBHF22107
		tooltip_info = proud

		character_event = {
			id = HF.22109
			days = 4
			tooltip = tooltip_HF22107_B
		}

		random = {
			chance = 25
			remove_trait_shy_effect = yes
		}

		tooltip = {
			tiered_prestige_reward_effect = yes
		}
	}
}

# Antagonizer: painting was refused.
character_event = {
	id = HF.22108
	desc = EVTDESCHF22108
	picture = GFX_evt_whispers

	is_triggered_only = yes

	ai = no

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22108
	}
}

# Antagonized: painting is rotting.
character_event = {
	id = HF.22109
	desc = EVTDESCHFA22109
	picture = GFX_evt_bad_news

	is_triggered_only = yes
	show_from_from = yes

	trigger = {
		FROMFROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22109

		tiered_prestige_negative_effect = yes
		add_trait_stressed_effect = yes

		opinion = {
			name = opinion_antagonized_3
			who = FROMFROM
			years = 10
		}

		FROMFROM = {
			character_event = { id = HF.22110 }
		}
	}
}

# Antagonizer: Notified.
character_event = {
	id = HF.22110
	desc = EVTDESCHF22110
	picture = GFX_evt_whispers

	is_triggered_only = yes
	show_from_from = yes

	ai = no

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22110

		tooltip = {
			reverse_opinion = {
				name = opinion_antagonized_3
				who = FROM
				years = 10
			}
		}
	}
}

# Antagonizer: notified of high diplomacy reaction from slander causing you to stop antagonizing for some time.
character_event = {
	id = HF.22111
	desc = EVTDESCHF22111
	picture = GFX_evt_upsetting_letter

	is_triggered_only = yes

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22111
		tooltip_info = arbitrary

		trigger = { trait = arbitrary }

		FROM = {
			show_scope_change = no

			character_event = {
				id = HF.22112
				tooltip = tooltip_EVTOPTAHF22111
			}
		}

		tiered_prestige_negative_effect = yes

		ai_chance = { factor = 30 }
	}

	option = {
		name = EVTOPTBHF22111

		custom_tooltip = {
			text = tooltip_EVTOPTBHF22111

			opinion = {
				name = antagonize_stop_cooldown
				who = FROM
				years = 2
			}
		}

		reverse_opinion = {
			name = opinion_swayed_0
			who = FROM
			years = 10
		}

		ai_chance = { factor = 70 }
	}
}

# Antagonized: notified of arbitrary response.
character_event = {
	id = HF.22112
	desc = EVTDESCHF22112
	picture = GFX_evt_lunatic

	is_triggered_only = yes

	ai = no

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = UNFORTUNATE
	}
}

# Antagonizer: loses depressed.
character_event = {
	id = HF.22113
	desc = EVTDESCHF22113
	picture = GFX_evt_hooded_figure_hf

	is_triggered_only = yes

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22113

		remove_trait = depressed
	}
}

# Antagonizer: loses stressed.
character_event = {
	id = HF.22114
	desc = EVTDESCHF22114
	picture = GFX_evt_hooded_figure_hf

	is_triggered_only = yes

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22114

		remove_trait = stressed
	}
}

# Antagonizer: gains Good Mood modifier.
character_event = {
	id = HF.22115
	desc = EVTDESCHF22115
	picture = GFX_evt_hooded_figure_hf

	is_triggered_only = yes

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22115

		add_character_modifier = {
			name = antagonizer_good_mood
			years = 2
		}
	}
}

# Antagonizer: gains intrigue.
character_event = {
	id = HF.22116
	desc = EVTDESCHF22116
	picture = GFX_evt_hooded_figure_hf

	is_triggered_only = yes

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22116

		change_intrigue = 1
	}
}

# Antagonizer: gains deceitful/loses honest.
character_event = {
	id = HF.22117
	desc = EVTDESCHF22116 # Same as above.
	picture = GFX_evt_hooded_figure_hf

	trigger = {
		FROM = { is_alive = yes }
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF22117

		add_trait_partially_silently_deceitful_effect = yes
	}
}

# Antagonizer: gains patient/loses wroth.
character_event = {
	id = HF.22118
	desc = EVTDESCHF22118
	picture = GFX_evt_hooded_figure_hf

	trigger = {
		FROM = { is_alive = yes }
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF22118

		add_trait_partially_silently_patient_effect = yes
	}
}

# on_death of antagonize_target, clear persistent event target.
character_event = {
	id = HF.22119

	is_triggered_only = yes
	hide_window = yes

	has_character_flag = flag_character_being_antagonized

	immediate = {
		any_playable_ruler = {
			limit = {
				persistent_event_target:antagonize_target = {
					character = ROOT
				}
			}

			persistent_event_target:antagonize_target = {
				clr_character_flag = flag_character_being_antagonized
			}

			remove_special_interest = persistent_event_target:antagonize_target
			clear_persistent_event_target = antagonize_target
			character_event = { id = HF.21138 }
		}
	}
}

# Antagonizer notified of death of Antagonized.
character_event = {
	id = HF.21138
	desc = EVTDESCAHF21138
	picture = GFX_evt_upsetting_letter

	is_triggered_only = yes
	notification = yes

	ai = no

	option = {
		name = EVTOPTAHF21138
	}
}

# Sabotaging Antagonized rival.
character_event = {
	id = HF.22121
	desc = EVTDESCHF22121
	picture = GFX_evt_meeting_hf
	portrait = persistent_event_target:antagonize_target

	is_triggered_only = yes

	# Decrease plot defence.
	# Spread vicious rumors.
	# Cause mental problems.

	option = { # Undermine spy network - Low intrigue
		name = EVTOPTAHF22121

		trigger = { intrigue < 12 }

		tiered_prestige_negative_effect = yes

		persistent_event_target:antagonize_target = {
			show_scope_change = no

			tooltip = {
				add_character_modifier = {
					name = undermined_spy_network_1
					years = 2
					stacking = yes
				}
			}

			character_event = { id = HF.22129 }
		}

		ai_chance = { factor = 40 }
	}

	option = { # Undermine spy network - High intrigue
		name = EVTOPTAHF22121
		tooltip_info = intrigue

		trigger = { intrigue >= 12 }

		tiered_prestige_negative_effect = yes

		persistent_event_target:antagonize_target = {
			show_scope_change = no

			tooltip = {
				add_character_modifier = {
					name = undermined_spy_network_2
					years = 2
					stacking = yes
				}
			}

			character_event = { id = HF.22130 }
		}

		ai_chance = { factor = 90 }
	}

	option = { # Spread Vicious Rumors - Low intrigue
		name = EVTOPTBHF22121

		trigger = { intrigue < 14 }

		tiered_prestige_negative_effect = yes

		persistent_event_target:antagonize_target = {
			show_scope_change = no

			tooltip = {
				add_character_modifier = {
					name = vicious_rumors
					years = 2
					stacking = yes
				}
			}

			character_event = { id = HF.22124 }
		}

		ai_chance = { factor = 40 }
	}

	option = { # Spread Vicious Rumors - High intrigue
		name = EVTOPTBHF22121
		tooltip_info = intrigue

		trigger = { intrigue >= 14 }

		tiered_prestige_negative_effect = yes

		persistent_event_target:antagonize_target = {
			show_scope_change = no

			tooltip = {
				add_character_modifier = {
					name = vicious_rumors_2
					years = 2
					stacking = yes
				}
			}

			character_event = { id = HF.22125 }
		}

		ai_chance = { factor = 90 }
	}

	option = { # Psychological Warfare - Low intrigue
		name = EVTOPTCHF22121

		trigger = { intrigue < 16 }

		tiered_prestige_negative_effect = yes

		persistent_event_target:antagonize_target = {
			show_scope_change = no

			tooltip = {
				random = {
					chance = 25

					if = {
						limit = { NOT = { trait = stressed } }
						add_trait = stressed
					}
					else_if = {
						limit = { NOT = { trait = depressed } }
						add_trait = depressed
					}
					else_if = {
						limit = { NOT = { trait = lunatic } }
						add_trait = lunatic
					}
					else = {
						add_character_modifier = {
							name = tormented_modifier
							years = 4
							stacking = yes
						}
					}
				}
			}

			character_event = { id = HF.22126 }
		}

		random = {
			chance = 25
			add_trait_partially_cruel_effect = yes
		}

		ai_chance = { factor = 40 }
	}

	option = { # Psychological Warfare - High intrigue
		name = EVTOPTCHF22121
		tooltip_info = intrigue

		trigger = { intrigue >= 16 }

		tiered_prestige_negative_effect = yes

		persistent_event_target:antagonize_target = {
			show_scope_change = no

			tooltip = {
				if = {
					limit = { NOT = { trait = stressed } }
					add_trait = stressed
				}
				else_if = {
					limit = { NOT = { trait = depressed } }
					add_trait = depressed
				}
				else_if = {
					limit = { NOT = { trait = lunatic } }

					random = {
						chance = 50
						add_trait = lunatic
					}
				}
				else = {
					add_character_modifier = {
						name = tormented_modifier
						years = 4
						stacking = yes
					}
				}
			}

			character_event = { id = HF.22127 }
		}

		random = {
			chance = 25
			add_trait_partially_cruel_effect = yes
		}

		ai_chance = { factor = 90 }
	}

	option = { # Do nothing.
		name = EVTOPTDHF22121

		ai_chance = { factor = 10 }
	}
}

# Antagonized: Spy Network compromised.
character_event = {
	id = HF.22129
	desc = EVTDESCHF22129
	picture = GFX_evt_bad_news

	is_triggered_only = yes

	trigger = {
		FROM = { is_alive = yes }
	}

	# Counterespionage.
	# Nothing.

	option = { # Counterespionage
		name = EVTOPTAHF22129

		trigger = { intrigue >= 14 }

		add_character_modifier = {
			name = undermined_spy_network_1
			years = 2
			stacking = yes
		}

		FROM = {
			show_scope_change = no

			tooltip = {
				add_character_modifier = {
					name = counterespionage_modifier
					years = 2
					stacking = yes
				}
			}

			character_event = {
				id = HF.22128
				days = 12
				random = 5
			}
		}

		ai_chance = { factor = 100 }
	}

	option = { # Take modifier
		name = EVTOPTBHF22129

		add_character_modifier = {
			name = undermined_spy_network_1
			years = 2
			stacking = yes
		}

		ai_chance = { factor = 10 }
	}
}

# Antagonized: Spy Network compromised.
character_event = {
	id = HF.22130
	desc = EVTDESCHF22129
	picture = GFX_evt_outside_tavern_hf

	is_triggered_only = yes

	trigger = {
		FROM = { is_alive = yes }
	}

	# Counterespionage.
	# Nothing.

	option = { # Counterespionage
		name = EVTOPTAHF22129

		trigger = { intrigue >= 14 }

		add_character_modifier = {
			name = undermined_spy_network_2
			years = 2
			stacking = yes
		}

		FROM = {
			show_scope_change = no

			tooltip = {
				add_character_modifier = {
					name = counterespionage_modifier
					years = 2
					stacking = yes
				}
			}

			character_event = {
				id = HF.22128
				days = 12
				random = 5
			}
		}

		ai_chance = { factor = 100 }
	}

	option = { # Take modifier
		name = EVTOPTBHF22129

		add_character_modifier = {
			name = undermined_spy_network_2
			years = 2
			stacking = yes
		}

		ai_chance = { factor = 10 }
	}
}

# Antagonized: Vicious Rumors. - Low Intrigue
character_event = {
	id = HF.22124
	desc = EVTDESCHF22124
	picture = GFX_evt_outside_tavern_hf

	is_triggered_only = yes

	trigger = {
		FROM = { is_alive = yes }
	}

	# Duel.
	# Nothing.

	option = { # Special option. - Rival character starts duel!
		name = EVTOPTYHF22022

		trigger = {
			is_rival = FROM
			this_can_duel_with_from_trigger = yes
		}

		custom_tooltip = { text = tooltip_22022_Y }

		add_character_modifier = {
			name = vicious_rumors
			years = 2
			stacking = yes
		}

		opinion = {
			name = opinion_antagonized_3
			who = FROM
			years = 15
		}

		# Used to prevent Merciless from being applied in case you win and decide to kill the opponent, given that it's a honor duel.
		# Removed in the clean_up_after_duel_effect.
		set_character_flag = flag_antagonizer_duel
		save_event_target_as = combatant_1 # The person issuing the duel...

		FROM = {
			show_scope_change = no

			set_character_flag = flag_antagonizer_duel
			save_event_target_as = combatant_2 # The target of the duel...
			apply_degree_of_dishonorable_duel_effect = yes # Checks a bunch of age and health statuses...
			character_event = { id = HFP.10095 days = 1 } # Duel evaluation (hidden) + result event as follow-up.
		}

		pacifists_lose_piety_effect = yes

		add_character_modifier = {
			name = recent_duel_timer
			years = 1
			hidden = yes
		}

		ai_chance = {
			factor = 40

			mult_modifier = {
				factor = 0.1
				trait = craven
			}

			mult_modifier = {
				factor = 1.5
				trait = brave
			}

			mult_modifier = {
				factor = 0.75

				is_tribal = no
				is_nomadic = no
			}

			mult_modifier = {
				factor = 1.25

				combat_rating_diff = {
					character = FROM
					value >= 5
				}
			}

			mult_modifier = {
				factor = 1.25

				combat_rating_diff = {
					character = FROM
					value >= 10
				}
			}

			mult_modifier = {
				factor = 1.5

				combat_rating_diff = {
					character = FROM
					value >= 15
				}
			}

			mult_modifier = {
				factor = 1.75

				combat_rating_diff = {
					character = FROM
					value >= 20
				}
			}
		}
	}

	option = { # Take modifier
		name = EVTOPTBHF22124

		add_character_modifier = {
			name = vicious_rumors
			years = 2
			stacking = yes
		}

		ai_chance = { factor = 40 }
	}
}

# Antagonized: Vicious Rumors. - High Intrigue
character_event = {
	id = HF.22125
	desc = EVTDESCHF22124
	picture = GFX_evt_outside_tavern_hf

	is_triggered_only = yes

	trigger = {
		FROM = { is_alive = yes }
	}

	# Duel.
	# Nothing.

	option = { # Special option. - Rival character starts duel!
		name = EVTOPTYHF22022

		trigger = {
			is_rival = FROM
			this_can_duel_with_from_trigger = yes
		}

		custom_tooltip = { text = tooltip_22022_Y }

		add_character_modifier = {
			name = vicious_rumors_2
			years = 2
			stacking = yes
		}

		opinion = {
			name = opinion_antagonized_3
			who = FROM
			years = 15
		}

		# Used to prevent Merciless from being applied in case you win and decide to kill the opponent, given that it's a honor duel.
		# Removed in the clean_up_after_duel_effect.
		set_character_flag = flag_antagonizer_duel
		save_event_target_as = combatant_1 # The person issuing the duel...

		FROM = {
			show_scope_change = no

			set_character_flag = flag_antagonizer_duel
			save_event_target_as = combatant_2 # The target of the duel...
			apply_degree_of_dishonorable_duel_effect = yes # Checks a bunch of age and health statuses...
			character_event = { id = HFP.10095 days = 1 } # Duel evaluation (hidden) + result event as follow-up.
		}

		pacifists_lose_piety_effect = yes

		add_character_modifier = {
			name = recent_duel_timer
			years = 1
			hidden = yes
		}

		ai_chance = {
			factor = 40

			mult_modifier = {
				factor = 0.1
				trait = craven
			}

			mult_modifier = {
				factor = 1.5
				trait = brave
			}

			mult_modifier = {
				factor = 0.75

				is_tribal = no
				is_nomadic = no
			}

			mult_modifier = {
				factor = 1.25

				combat_rating_diff = {
					character = FROM
					value >= 5
				}
			}

			mult_modifier = {
				factor = 1.25

				combat_rating_diff = {
					character = FROM
					value >= 10
				}
			}

			mult_modifier = {
				factor = 1.5

				combat_rating_diff = {
					character = FROM
					value >= 15
				}
			}

			mult_modifier = {
				factor = 1.75

				combat_rating_diff = {
					character = FROM
					value >= 20
				}
			}
		}
	}

	option = { # Take modifier
		name = EVTOPTBHF22124

		add_character_modifier = {
			name = vicious_rumors_2
			years = 2
			stacking = yes
		}

		ai_chance = { factor = 40 }
	}
}

# Antagonized: Psychological warfare. - Low Intrigue
character_event = {
	id = HF.22126
	desc = EVTDESCHF22126
	picture = GFX_evt_bad_news

	is_triggered_only = yes

	trigger = {
		FROM = { is_alive = yes }
	}

	# Duel.
	# Nothing.

	option = { # Special option. - Rival character starts duel!
		name = EVTOPTYHF22022

		trigger = {
			is_rival = FROM
			this_can_duel_with_from_trigger = yes
		}

		custom_tooltip = { text = tooltip_22022_Y }

		random = {
			chance = 25

			if = {
				limit = { NOT = { trait = stressed } }
				add_trait_stressed_effect = yes
			}
			else_if = {
				limit = { NOT = { trait = depressed } }
				add_trait_depressed_effect = yes
			}
			else_if = {
				limit = { NOT = { trait = lunatic } }
				add_trait_lunatic_effect = yes
			}
			else = {
				add_character_modifier = {
					name = tormented_modifier
					years = 4
					stacking = yes
				}
			}
		}

		opinion = {
			name = opinion_antagonized_3
			who = FROM
			years = 15
		}

		# Used to prevent Merciless from being applied in case you win and decide to kill the opponent, given that it's a honor duel.
		# Removed in the clean_up_after_duel_effect.
		set_character_flag = flag_antagonizer_duel
		save_event_target_as = combatant_1 # The person issuing the duel...

		FROM = {
			show_scope_change = no

			set_character_flag = flag_antagonizer_duel
			save_event_target_as = combatant_2 # The target of the duel...
			apply_degree_of_dishonorable_duel_effect = yes # Checks a bunch of age and health statuses...
			character_event = { id = HFP.10095 days = 1 } # Duel evaluation (hidden) + result event as follow-up.
		}

		pacifists_lose_piety_effect = yes

		add_character_modifier = {
			name = recent_duel_timer
			years = 1
			hidden = yes
		}

		ai_chance = {
			factor = 40

			mult_modifier = {
				factor = 0.1
				trait = craven
			}

			mult_modifier = {
				factor = 1.5
				trait = brave
			}

			mult_modifier = {
				factor = 0.75

				is_tribal = no
				is_nomadic = no
			}

			mult_modifier = {
				factor = 1.25

				combat_rating_diff = {
					character = FROM
					value >= 5
				}
			}

			mult_modifier = {
				factor = 1.25

				combat_rating_diff = {
					character = FROM
					value >= 10
				}
			}

			mult_modifier = {
				factor = 1.5

				combat_rating_diff = {
					character = FROM
					value >= 15
				}
			}

			mult_modifier = {
				factor = 1.75

				combat_rating_diff = {
					character = FROM
					value >= 20
				}
			}
		}
	}

	option = { # Take modifier
		name = EVTOPTBHF22126

		random = {
			chance = 25

			if = {
				limit = { NOT = { trait = stressed } }
				add_trait_stressed_effect = yes
			}
			else_if = {
				limit = { NOT = { trait = depressed } }
				add_trait_depressed_effect = yes
			}
			else_if = {
				limit = { NOT = { trait = lunatic } }
				add_trait_lunatic_effect = yes
			}
			else = {
				add_character_modifier = {
					name = tormented_modifier
					years = 4
					stacking = yes
				}
			}
		}

		ai_chance = { factor = 40 }
	}
}

# Antagonized: Psychological warfare. - High Intrigue
character_event = {
	id = HF.22127
	desc = EVTDESCHF22126
	picture = GFX_evt_bad_news

	is_triggered_only = yes

	trigger = {
		FROM = { is_alive = yes }
	}

	# Duel.
	# Nothing.

	option = { # Special option. - Rival character starts duel!
		name = EVTOPTYHF22022

		trigger = {
			is_rival = FROM
			this_can_duel_with_from_trigger = yes
		}

		custom_tooltip = { text = tooltip_22022_Y }

		if = {
			limit = { NOT = { trait = stressed } }
			add_trait = stressed
		}
		else_if = {
			limit = { NOT = { trait = depressed } }
			add_trait = depressed
		}
		else_if = {
			limit = { NOT = { trait = lunatic } }

			random = {
				chance = 50
				add_trait_lunatic_effect = yes
			}
		}
		else = {
			add_character_modifier = {
				name = tormented_modifier
				years = 4
				stacking = yes
			}
		}

		opinion = {
			name = opinion_antagonized_3
			who = FROM
			years = 15
		}

		# Used to prevent Merciless from being applied in case you win and decide to kill the opponent, given that it's a honor duel.
		# Removed in the clean_up_after_duel_effect.
		set_character_flag = flag_antagonizer_duel
		save_event_target_as = combatant_1 # The person issuing the duel...

		FROM = {
			show_scope_change = no

			set_character_flag = flag_antagonizer_duel
			save_event_target_as = combatant_2 # The target of the duel...
			apply_degree_of_dishonorable_duel_effect = yes # Checks a bunch of age and health statuses...
			character_event = { id = HFP.10095 days = 1 } # Duel evaluation (hidden) + result event as follow-up.
		}

		pacifists_lose_piety_effect = yes

		add_character_modifier = {
			name = recent_duel_timer
			years = 1
			hidden = yes
		}

		ai_chance = {
			factor = 40

			mult_modifier = {
				factor = 0.1
				trait = craven
			}

			mult_modifier = {
				factor = 1.5
				trait = brave
			}

			mult_modifier = {
				factor = 0.75

				is_tribal = no
				is_nomadic = no
			}

			mult_modifier = {
				factor = 1.25

				combat_rating_diff = {
					character = FROM
					value >= 5
				}
			}

			mult_modifier = {
				factor = 1.25

				combat_rating_diff = {
					character = FROM
					value >= 10
				}
			}

			mult_modifier = {
				factor = 1.5

				combat_rating_diff = {
					character = FROM
					value >= 15
				}
			}

			mult_modifier = {
				factor = 1.75

				combat_rating_diff = {
					character = FROM
					value >= 20
				}
			}
		}
	}

	option = { # Take modifier
		name = EVTOPTBHF22126

		if = {
			limit = { NOT = { trait = stressed } }
			add_trait = stressed
		}
		else_if = {
			limit = { NOT = { trait = depressed } }
			add_trait = depressed
		}
		else_if = {
			limit = { NOT = { trait = lunatic } }

			random = {
				chance = 50
				add_trait_lunatic_effect = yes
			}
		}
		else = {
			add_character_modifier = {
				name = tormented_modifier
				years = 4
				stacking = yes
			}
		}

		ai_chance = { factor = 40 }
	}
}

# Counterespionage on Antagonizer.
character_event = {
	id = HF.22128
	desc = EVTDESCHF22128
	picture = GFX_evt_outside_tavern_hf

	is_triggered_only = yes

	trigger = {
		FROM = { is_alive = yes }
	}

	option = { # Take modifier
		name = UNFORTUNATE

		add_character_modifier = {
			name = counterespionage_modifier
			years = 2
			stacking = yes
		}
	}
}

# HF.22129 HF.22130 taken by double event.

# Antagonizer: Lunatic is impressed.
character_event = {
	id = HF.22131
	desc = EVTDESCHF22131
	picture = GFX_evt_upsetting_letter

	trigger = {
		FROM = { is_alive = yes }
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF22131
		tooltip_info = lunatic

		trigger = { trait = lunatic }

		FROM = {
			show_scope_change = no

			character_event = {
				id = HF.22132
				tooltip = tooltip_EVTOPTAHF22131
			}
		}

		tiered_prestige_reward_effect = yes

		ai_chance = { factor = 30 }
	}

	option = {
		name = EVTOPTBHF22131
		tooltip_info = arbitrary

		trigger = { trait = arbitrary }

		FROM = {
			show_scope_change = no

			character_event = {
				id = HF.22132
				tooltip = tooltip_EVTOPTAHF22131
			}
		}

		tiered_prestige_negative_effect = yes

		ai_chance = { factor = 30 }
	}

	option = {
		name = EVTOPTCHF22131

		custom_tooltip = {
			text = tooltip_EVTOPTBHF22111

			opinion = {
				name = antagonize_stop_cooldown
				who = FROM
				years = 2
			}
		}

		reverse_opinion = {
			name = opinion_swayed_0
			who = FROM
			years = 10
		}

		ai_chance = { factor = 70 }
	}
}

# Lunatic on lunatic antagonizing.
character_event = {
	id = HF.22132
	desc = EVTDESCHF22132
	picture = GFX_evt_lunatic

	is_triggered_only = yes

	ai = no

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF22132
		tooltip_info = lunatic
	}
}

# Antagonizer: Lunatic gave title.
character_event = {
	id = HF.22133
	desc = EVTDESCHF22133
	picture = GFX_evt_upsetting_letter

	trigger = {
		FROM = { is_alive = yes }
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF22133
		tooltip_info = lunatic

		trigger = { trait = lunatic }

		custom_tooltip = { text = tooltip_EVTOPTAHF22133 }

		tiered_prestige_reward_effect = yes

		ai_chance = { factor = 30 }
	}

	option = {
		name = EVTOPTBHF22133
		tooltip_info = arbitrary

		trigger = { trait = arbitrary }

		FROM = {
			show_scope_change = no

			character_event = {
				id = HF.22132
				tooltip = tooltip_EVTOPTAHF22133
			}
		}

		tiered_prestige_negative_effect = yes

		ai_chance = { factor = 30 }
	}

	option = {
		name = EVTOPTCHF22131

		custom_tooltip = {
			text = tooltip_EVTOPTBHF22111

			opinion = {
				name = antagonize_stop_cooldown
				who = FROM
				years = 2
			}
		}

		reverse_opinion = {
			name = opinion_swayed_0
			who = FROM
			years = 10
		}

		ai_chance = { factor = 70 }
	}

	after = {
		give_nickname = nick_the_knight_of_turnips
	}
}