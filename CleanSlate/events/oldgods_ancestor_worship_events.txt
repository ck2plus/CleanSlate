###################################
#
# THE OLD GODS
# - Defensive pagan events
#
###################################

# Written by Mathilda Bjarnehed & Milla Isaksson

namespace = TOG

###ANCESTOR WORSHIP DECISION EVENTS###

# Make a request
character_event = {
	id = TOG.7000
	desc = EVTDESC_TOG_7000
	border = GFX_event_normal_frame_religion
	picture = GFX_evt_tribal_shrine

	is_triggered_only = yes # ancestor_worship in minor_decisions.txt

	# Health
	option = {
		name = EVTOPTA_TOG_7000

		trigger = {
			OR = {
				is_ill = yes
				health < 4
				has_character_flag = developing_illness
			}
		}

		set_character_flag = ancestors_health

		ai_chance = {
			factor = 100

			mult_modifier = {
				factor = 2
				health < 3
			}

			mult_modifier = {
				factor = 2
				trait = paranoid
			}
		}
	}

	# Relationships - family, friends & love
	option = {
		name = EVTOPTB_TOG_7000

		trigger = {
			NOT = { trait = cruel }
		}

		set_character_flag = ancestors_relationships

		ai_chance = {
			factor = 33

			mult_modifier = {
				factor = 2
				trait = kind
			}

			mult_modifier = {
				factor = 2
				trait = gregarious
			}

			mult_modifier = {
				factor = 2
				trait = lustful
			}

			mult_modifier = {
				factor = 2
				trait = socializer
			}
		}
	}

	# War
	option = {
		name = EVTOPTC_TOG_7000

		trigger = {
			NOT = { trait = craven }
		}

		set_character_flag = ancestors_war

		ai_chance = {
			factor = 33

			mult_modifier = {
				factor = 2
				trait = brave
			}

			mult_modifier = {
				factor = 2
				is_strong_trigger = yes
			}

			mult_modifier = {
				factor = 2
				trait = ambitious
			}

			mult_modifier = {
				factor = 2
				trait = strategist
			}
		}
	}

	# Prosperity
	option = {
		name = EVTOPTD_TOG_7000

		trigger = {	is_nomadic = no }

		set_character_flag = ancestors_prosperity

		ai_chance = {
			factor = 33

			mult_modifier = {
				factor = 2
				trait = diligent
			}

			mult_modifier = {
				factor = 2
				trait = patient
			}

			mult_modifier = {
				factor = 2
				trait = content
			}

			mult_modifier = {
				factor = 2
				trait = gardener
			}
		}
	}

	# Wisdom
	option = {
		name = EVTOPTE_TOG_7000

		trigger = { is_dumb_trigger = no }

		set_character_flag = ancestors_wisdom

		ai_chance = {
			factor = 33

			mult_modifier = {
				factor = 2
				trait = erudite
			}

			mult_modifier = {
				factor = 2
				is_smart_trigger = yes
			}

			mult_modifier = {
				factor = 2
				trait = humble
			}

			mult_modifier = {
				factor = 2
				trait = scholar
			}
		}
	}

	after = {
		character_event = {
			id = TOG.7001
			days = 3
		}
	}
}

# Make a Sacrifice
character_event = {
	id = TOG.7001
	border = GFX_event_normal_frame_religion
	picture = GFX_evt_tribal_shrine

	desc = {
		text = EVTDESC_TOG_7001_health
		trigger = { has_character_flag = ancestors_health }
	}
	desc = {
		text = EVTDESC_TOG_7001_relationships
		trigger = { has_character_flag = ancestors_relationships }
	}
	desc = {
		text = EVTDESC_TOG_7001_war
		trigger = { has_character_flag = ancestors_war }
	}
	desc = {
		text = EVTDESC_TOG_7001_prosperity
		trigger = { has_character_flag = ancestors_prosperity }
	}
	desc = {
		text = EVTDESC_TOG_7001_wisdom
		trigger = { has_character_flag = ancestors_wisdom }
	}

	is_triggered_only = yes
	hide_from = yes

	immediate = {
		random_courtier = {
			limit = {
				prisoner = yes
				practical_age >= 12
				host = { character = ROOT }
			}

			save_event_target_as = human_sacrifice_prisoner
		}

		random_courtier = {
			limit = {
				practical_age >= 12
				is_unimportant_trigger = yes
				prisoner = no
				host = { character = ROOT }
			}

			save_event_target_as = human_sacrifice_courtier
		}
	}

	# Sacrifice limb
	option = {
		name = EVTOPTA_TOG_7001

		trigger = {
			# Can still sacrifice a body part
			trigger_if = {
				limit = { has_dlc = "Reapers" }

				NAND = {
					trait = one_handed
					trait = one_legged

					OR = {
						trait = one_eyed
						trait = blinded
					}
				}
			}
			trigger_else = {
				NOT = { trait = maimed }
			}
		}

		custom_tooltip = { text = EVTOPTA_TOG_7001_TOOLTIP }

		piety = 100

		set_character_flag = ancestors_limb

		# Shows the right body part in tooltip
		if = {
			limit = { has_dlc = "Reapers" }

			if = {
				limit = {
					NOT = { trait = one_legged }
				}

				tooltip = {
					add_trait = one_legged
					add_trait = severely_injured
					resolve_severely_injured_effect = yes
				}

				set_character_flag = ancestors_leg
			}
			else_if = {
				limit = {
					NOT = { trait = one_handed }
				}

				tooltip = {
					add_trait = one_handed
					add_trait = severely_injured
					resolve_severely_injured_effect = yes
				}

				set_character_flag = ancestors_hand
			}
			else = {
				tooltip = {
					add_trait = one_eyed
					add_trait = severely_injured
					resolve_severely_injured_effect = yes
				}

				set_character_flag = ancestors_eye
			}
		}
		else = {
			tooltip = {
				add_trait = maimed
			}

			set_character_flag = ancestors_maimed
		}

		ai_chance = {
			factor = 300

			trigger = {
				OR = {
					trait = zealous
					trait = lunatic
					trait = possessed
				}
			}

			mult_modifier = {
				factor = 0.5

				OR = {
					trait = one_eyed
					trait = blinded
				}
			}

			mult_modifier = {
				factor = 0.5
				trait = one_handed
			}

			mult_modifier = {
				factor = 0.5
				trait = one_legged
			}

			mult_modifier = {
				factor = 0.01
				trait = severely_injured
			}

			mult_modifier = {
				factor = 0.01
				trait = maimed
			}
		}
	}

	# Sacrifice prisoner
	option = {
		name = EVTOPTB_TOG_7001

		trigger = {
			event_target:human_sacrifice_prisoner = { always = yes }
		}

		custom_tooltip = { text = EVTOPTB_TOG_7001_TOOLTIP }

		piety = 60

		set_character_flag = ancestors_human

		event_target:human_sacrifice_prisoner = {
			show_scope_change = no

			death = {
				death_reason = death_sacrificed_ancestors
				killer = ROOT
			}

			save_event_target_as = kinslayer_target
			save_event_target_as = portrait_target
		}

		add_kinslayer_trait_effect = yes

		ai_chance = {
			factor = 80

			mult_modifier = {
				factor = 2
				trait = cruel
			}

			mult_modifier = {
				factor = 2
				trait = arbitrary
			}
		}
	}

	# Sacrifice courtier
	option = {
		name = EVTOPTE_TOG_7001

		custom_tooltip = { text = EVTOPTE_TOG_7001_TOOLTIP }

		piety = 60

		trigger = {
			NOT = { event_target:human_sacrifice_prisoner = { always = yes } }
			event_target:human_sacrifice_courtier = { always = yes }
		}

		set_character_flag = ancestors_human

		event_target:human_sacrifice_courtier = {
			show_scope_change = no

			death = {
				death_reason = death_sacrificed_ancestors
				killer = ROOT
			}

			save_event_target_as = kinslayer_target
			save_event_target_as = portrait_target
		}

		add_kinslayer_trait_effect = yes

		ai_chance = {
			factor = 80

			mult_modifier = {
				factor = 2
				trait = cruel
			}

			mult_modifier = {
				factor = 2
				trait = arbitrary
			}
		}
	}

	# Great feast Sacrifice
	option = {
		name = EVTOPTC_TOG_7001

		custom_tooltip = { text = EVTOPTC_TOG_7001_TOOLTIP }

		piety = 40

		scaled_wealth = {
			value = -1
			min = -25
		}

		set_character_flag = ancestors_feast

		ai_chance = {
			factor = 10

			mult_modifier = {
				factor = 0.5
				NOT = { trait = greedy }
			}
		}
	}

	# Minor Sacrifice
	option = {
		name = EVTOPTD_TOG_7001

		custom_tooltip = { text = EVTOPTD_TOG_7001_TOOLTIP }

		piety = 10

		wealth = -5
		set_character_flag = ancestors_carving

		ai_chance = {
			factor = 10

			mult_modifier = {
				factor = 2
				trait = greedy
			}
		}
	}

	after = {
		character_event = {
			id = TOG.7002
			days = 3
		}
	}
}

# End of Sacrifice
character_event = {
	id = TOG.7002
	border = GFX_event_normal_frame_religion
	picture = GFX_evt_tribal_shrine
	portrait = event_target:portrait_target

	desc = {
		text = EVTDESC_TOG_7002_limb
		picture = GFX_evt_torture
		trigger = { has_character_flag = ancestors_limb }
	}
	desc = {
		text = EVTDESC_TOG_7002_human
		picture = GFX_evt_torture
		trigger = { has_character_flag = ancestors_human }
	}
	desc = {
		text = EVTDESC_TOG_7002_feast
		trigger = { has_character_flag = ancestors_feast }
	}
	desc = {
		text = EVTDESC_TOG_7002_carving
		trigger = { has_character_flag = ancestors_carving }
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTA_TOG_7002

		clr_character_flag = do_not_disturb

		# REMOVES LIMBS
		trigger_switch = {
			on_trigger = has_character_flag

			ancestors_eye = { add_trait = one_eyed }
			ancestors_leg = { add_trait = one_legged }
			ancestors_hand = { add_trait = one_handed }
			ancestors_maimed = { add_trait = maimed }
		}

		if = {
			limit = {
				OR = {
					has_character_flag = ancestors_leg
					has_character_flag = ancestors_hand
					has_character_flag = ancestors_eye
				}
			}

			add_trait = severely_injured
			resolve_severely_injured_effect = yes
		}

		clr_character_flag = ancestors_leg
		clr_character_flag = ancestors_hand
		clr_character_flag = ancestors_eye
		clr_character_flag = ancestors_maimed

		# OUTCOMES
		hidden_effect = {
			# Health
			if = {
				limit = { has_character_flag = ancestors_health }

				# Limb
				if = {
					limit = { has_character_flag = ancestors_limb }

					hidden_effect = {
						random_list = {
							10 = {
								character_event = {
									id = TOG.7010 # Remove disease/blessing of health
									days = 30
								}
							}

							15 = {
								trigger = { is_strong_trigger = no }

								character_event = {
									id = TOG.7011 # Robust
									days = 300
								}
							}

							30 = {
								character_event = {
									id = TOG.7012 # Health bonus
									days = 200
								}
							}

							5 = {
								character_event = {
									id = TOG.7013 # Illness
									days = 150
								}
							}

							35 = { } # Nothing
						}
					}
				}

				# Human Sacrifice
				else_if = {
					limit = { has_character_flag = ancestors_human }

					hidden_effect = {
						random_list = {
							5 = {
								character_event = {
									id = TOG.7010 # Remove disease/blessing of health
									days = 30
								}
							}

							10 = {
								trigger = { is_strong_trigger = no }

								character_event = {
									id = TOG.7011 # Robust
									days = 300
								}
							}

							30 = {
								character_event = {
									id = TOG.7012 # Health bonus
									days = 200
								}
							}

							5 = {
								character_event = {
									id = TOG.7013 # Illness
									days = 150
								}
							}

							30 = { } # Nothing
						}
					}
				}

				# Big gift
				else_if = {
					limit = { has_character_flag = ancestors_feast }

					hidden_effect = {
						random_list = {
							1 = {
								character_event = {
									id = TOG.7010 # Remove disease/blessing of health
									days = 30
								}
							}

							1 = {
								trigger = { is_strong_trigger = no }

								character_event = {
									id = TOG.7011 # Robust
									days = 300
								}
							}

							50 = {
								character_event = {
									id = TOG.7012 # Health bonus
									days = 200
								}
							}

							10 = {
								character_event = {
									id = TOG.7013 # Illness
									days = 150
								}
							}

							50 = { } # Nothing
						}
					}
				}

				# Small gift
				else = {
					hidden_effect = {
						random_list = {
							1 = {
								character_event = {
									id = TOG.7010 # Remove disease/blessing of health
									days = 30
								}
							}

							1 = {
								trigger = { is_strong_trigger = no }

								character_event = {
									id = TOG.7011 # Robust
									days = 300
								}
							}

							15 = {
								character_event = {
									id = TOG.7012 # Health bonus
									days = 200
								}
							}

							15 = {
								character_event = {
									id = TOG.7013 # Illness
									days = 150
								}
							}

							20 = { } # Nothing
						}
					}
				}
			}

			# Relationships
			else_if = {
				limit = { has_character_flag = ancestors_relationships }

				clr_character_flag = ancestors_relationships

				# Limb
				if = {
					limit = { has_character_flag = ancestors_limb }

					random_list = {
						10 = { character_event = { id = TOG.7024 days = 350 } } # Good with people
						15 = { character_event = { id = TOG.7020 days = 100 } } # Lover
						15 = { character_event = { id = TOG.7021 days = 150 } } # Friend
						10 = { character_event = { id = TOG.7022 days = 300 } } # Diplomacy bonus
						10 = { character_event = { id = TOG.7025 days = 100 } } # Cat
						5 = { character_event = { id = TOG.7023 days = 150 } } # Rival
						35 = { } #Nothing
					}
				}

				# Human Sacrifice
				else_if = {
					limit = { has_character_flag = ancestors_human }

					random_list = {
						5 = { character_event = { id = TOG.7024 days = 350 } } # Good with people
						15 = { character_event = { id = TOG.7020 days = 100 } } # Lover
						15 = { character_event = { id = TOG.7021 days = 150 } } # Friend
						10 = { character_event = { id = TOG.7022 days = 300 } } # Diplomacy bonus
						10 = { character_event = { id = TOG.7025 days = 100 } } # Cat
						5 = { character_event = { id = TOG.7023 days = 150 } } # Rival
						35 = { } # Nothing
					}
				}

				# Big gift
				else_if = {
					limit = { has_character_flag = ancestors_feast }

					random_list = {
						1 = { character_event = { id = TOG.7024 days = 350 } } # Good with people
						15 = { character_event = { id = TOG.7020 days = 100 } } # Lover
						15 = { character_event = { id = TOG.7021 days = 150 } } # Friend
						20 = { character_event = { id = TOG.7022 days = 300 } } # Diplomacy bonus
						15 = { character_event = { id = TOG.7025 days = 100 } } # Cat
						10 = { character_event = { id = TOG.7023 days = 150 } } # Rival
						35 = { } # Nothing
					}
				}

				# Small gift
				else = {
					random_list = {
						1 = { character_event = { id = TOG.7024 days = 300 } } # Good with people
						5 = { character_event = { id = TOG.7020 days = 100 } } # Lover
						5 = { character_event = { id = TOG.7021 days = 150 } } # Friend
						10 = { character_event = { id = TOG.7022 days = 300 } } # Diplomacy bonus
						20 = { character_event = { id = TOG.7025 days = 100 } } # Cat
						20 = { character_event = { id = TOG.7023 days = 150 } } # Rival
						35 = { } # Nothing
					}
				}
			}

			# War
			else_if = {
				limit = { has_character_flag = ancestors_war }

				clr_character_flag = ancestors_war

				# Limb
				if = {
					limit = { has_character_flag = ancestors_limb }

					random_list = {
						15 = { character_event = { id = TOG.7035 days = 150 } } # Increased levy
						25 = { character_event = { id = TOG.7034 days = 100 } } # War tech
						25 = { character_event = { id = TOG.7030 days = 100 } } # Commander
						15 = {
							trigger = { is_strong_trigger = no } # Robust
							character_event = { id = TOG.7011 days = 360 }
						}
						10 = {
							trigger = { can_have_more_leadership_traits = yes } # Leadership trait
							character_event = { id = TOG.7032 days = 360 }
						}
						5 = { character_event = { id = TOG.7033 days = 100 } } # Maimed
						35 = { } # Nothing
					}
				}

				# Human Sacrifice
				else_if = {
					limit = { has_character_flag = ancestors_human }

					random_list = {
						10 = { character_event = { id = TOG.7035 days = 150 } } # Increased levy
						20 = { character_event = { id = TOG.7034 days = 100 } } # War tech
						20 = { character_event = { id = TOG.7030 days = 100 } } # Commander
						10 = {
							trigger = { is_strong_trigger = no } # Robust
							character_event = { id = TOG.7011 days = 360 }
						}
						10 = {
							trigger = { can_have_more_leadership_traits = yes } # Leadership trait
							character_event = { id = TOG.7032 days = 360 }
						}
						5 = { character_event = { id = TOG.7033 days = 100 } } # Maimed
						35 = { } # Nothing
					}
				}

				# Big gift
				else_if = {
					limit = { has_character_flag = ancestors_feast }

					random_list = {
						5 = { character_event = { id = TOG.7035 days = 150 } } # Increased levy
						10 = { character_event = { id = TOG.7034 days = 100 } } # War tech
						10 = { character_event = { id = TOG.7030 days = 100 } } # Commander
						5 = {
							trigger = { is_strong_trigger = no } # Robust
							character_event = { id = TOG.7011 days = 360 }
						}
						20 = {
							trigger = { can_have_more_leadership_traits = yes } # Leadership trait
							character_event = { id = TOG.7032 days = 360 }
						}
						10 = { character_event = { id = TOG.7033 days = 100 } } # Maimed
						35 = { } #Nothing
					}
				}

				# Small gift
				else = {
					random_list = {
						1 = { character_event = { id = TOG.7035 days = 150 } } # Increased levy
						5 = { character_event = { id = TOG.7034 days = 100 } } # War tech
						5 = { character_event = { id = TOG.7030 days = 100 } } # Commander
						5 = {
							trigger = { is_strong_trigger = no } # Robust
							character_event = { id = TOG.7011 days = 360 }
						}
						15 = {
							trigger = { can_have_more_leadership_traits = yes } # Leadership trait
							character_event = { id = TOG.7032 days = 360 }
						}
						15 = { character_event = { id = TOG.7033 days = 100 } } # Maimed
						35 = { } # Nothing
					}
				}
			}

			# Prosperity
			if = {
				limit = { has_character_flag = ancestors_prosperity }

				# Limb
				if = {
					limit = { has_character_flag = ancestors_limb }

					random_list = {
						10 = {
							if = {
								limit = {
									capital_scope = {
										OR = {
											has_province_modifier = depopulated_1
											has_province_modifier = depopulated_2
											has_province_modifier = depopulated_3
										}
									}
								}
								character_event = { id = TOG.7044 days = 500 } # Decrease depopulation level
							}
							else = {
								character_event = { id = TOG.7040 days = 500 } # Increase prosperity level
							}
						}
						15 = { character_event = { id = TOG.7041 days = 100 } } # Economy tech points
						10 = { character_event = { id = TOG.7042 days = 200 } } # Stewardship bonus
						5 = { character_event = { id = TOG.7043 days = 300 } } # Less tax
						20 = { } # Nothing
					}
				}

				# Human Sacrifice
				else_if = {
					limit = { has_character_flag = ancestors_human }

					random_list = {
						5 = {
							if = {
								limit = {
									capital_scope = {
										OR = {
											has_province_modifier = depopulated_1
											has_province_modifier = depopulated_2
											has_province_modifier = depopulated_3
										}
									}
								}
								character_event = { id = TOG.7044 days = 500 } # Decrease depopulation level
							}
							else = {
								character_event = { id = TOG.7040 days = 500 } # Increase prosperity level
							}
						}
						15 = { character_event = { id = TOG.7041 days = 100 } } # Economy tech points
						15 = { character_event = { id = TOG.7042 days = 200 } } # Stewardship bonus
						5 = { character_event = { id = TOG.7043 days = 300 } } # Less tax
						35 = { } # Nothing
					}
				}

				# Big gift
				else_if = {
					limit = { has_character_flag = ancestors_feast }

					random_list = {
						5 = {
							if = {
								limit = {
									capital_scope = {
										OR = {
											has_province_modifier = depopulated_1
											has_province_modifier = depopulated_2
											has_province_modifier = depopulated_3
										}
									}
								}
								character_event = { id = TOG.7044 days = 500 } # Decrease depopulation level
							}
							else = {
								character_event = { id = TOG.7040 days = 500 } # Increase prosperity level
							}
						}
						15 = { character_event = { id = TOG.7041 days = 100 } } # Economy tech points
						15 = { character_event = { id = TOG.7042 days = 200 } } # Stewardship bonus
						10 = { character_event = { id = TOG.7043 days = 300 } } # Less tax
						35 = { } # Nothing
					}
				}

				# Small gift
				else = {
					random_list = {
						1 = {
							if = {
								limit = {
									capital_scope = {
										OR = {
											has_province_modifier = depopulated_1
											has_province_modifier = depopulated_2
											has_province_modifier = depopulated_3
										}
									}
								}
								character_event = { id = TOG.7044 days = 500 } # Decrease depopulation level
							}
							else = {
								character_event = { id = TOG.7040 days = 500 } # Increase prosperity level
							}
						}
						5 = { character_event = { id = TOG.7041 days = 100 } } # Economy tech points
						10 = { character_event = { id = TOG.7042 days = 200 } } # Stewardship bonus
						10 = { character_event = { id = TOG.7043 days = 300 } } # Less tax
						20 = { } # Nothing
					}
				}
			}

			# Wisdom
			else = {
				# Limb
				if = {
					limit = { has_character_flag = ancestors_limb }

					random_list = {
						10 = {
							trigger = { is_smart_trigger = no } # Shrewd
							character_event = { id = TOG.7050 days = 400 }
						}
						15 = { character_event = { id = TOG.7051 days = 200 } } # Wise woman
						15 = { character_event = { id = TOG.7054 days = 300 } } # Owl
						5 = { character_event = { id = TOG.7052 days = 300 } } # Learning bonus
						3 = {
							trigger = { is_dumb_trigger = no } # Dull
							character_event = { id = TOG.7053 days = 200 }
						}
						20 = { } # Nothing
					}
				}

				# Human Sacrifice
				else_if = {
					limit = { has_character_flag = ancestors_human }

					random_list = {
						5 = {
							trigger = { is_smart_trigger = no } # Shrewd
							character_event = { id = TOG.7050 days = 400 }
						}
						15 = { character_event = { id = TOG.7051 days = 200 } } # Wise woman
						15 = { character_event = { id = TOG.7054 days = 300 } } # Owl
						10 = { character_event = { id = TOG.7052 days = 300 } } # Learning bonus
						5 = {
							trigger = { is_dumb_trigger = no } # Dull
							character_event = { id = TOG.7053 days = 200 }
						}
						35 = { } # Nothing
					}
				}

				# Big gift
				else_if = {
					limit = { has_character_flag = ancestors_feast }

					random_list = {
						1 = {
							trigger = { is_smart_trigger = no } # Shrewd
							character_event = { id = TOG.7050 days = 400 }
						}
						15 = { character_event = { id = TOG.7051 days = 200 } } # Wise woman
						15 = { character_event = { id = TOG.7054 days = 300 } } # Owl
						20 = { character_event = { id = TOG.7052 days = 300 } } # Learning bonus
						10 = {
							trigger = { is_dumb_trigger = no } # Dull
							character_event = { id = TOG.7053 days = 200 }
						}
						35 = { } #Nothing
					}
				}

				# Small gift
				else = {
					random_list = {
						1 = {
							trigger = { is_smart_trigger = no } # Shrewd
							character_event = { id = TOG.7050 days = 400 }
						}
						5 = { character_event = { id = TOG.7051 days = 200 } } # Wise woman
						5 = { character_event = { id = TOG.7054 days = 300 } } # Owl
						10 = { character_event = { id = TOG.7052 days = 300 } } # Learning bonus
						10 = {
							trigger = { is_dumb_trigger = no } # Dull
							character_event = { id = TOG.7053 days = 200 }
						}
						20 = { } # Nothing
					}
				}
			}
		}

		clr_character_flag = ancestors_health
		clr_character_flag = ancestors_relationships
		clr_character_flag = ancestors_war
		clr_character_flag = ancestors_prosperity
		clr_character_flag = ancestors_wisdom
		clr_character_flag = ancestors_limb
		clr_character_flag = ancestors_human
		clr_character_flag = ancestors_feast
		clr_character_flag = ancestors_carving
	}
}

# HEALTH OUTCOMES

# Get healed or blessing of health?
character_event = {
	id = TOG.7010

	is_triggered_only = yes
	hide_window = yes

	option = {
		if = {
			limit = { is_ill = yes }
			character_event = { id = TOG.7016 }
		}
		else = {
			character_event = { id = TOG.7014 }
		}
	}
}

# Blessing of health
character_event = {
	id = TOG.7014
	desc = EVTDESC_TOG_7014
	border = GFX_event_normal_frame_religion
	picture = GFX_evt_tribal_shrine

	is_triggered_only = yes

	option = {
		name = EVTOPTA_TOG_7014

		set_character_flag = old_gods_blessing

		add_character_modifier = {
			name = blessing_of_health
			duration = -1
		}
	}
}

# Blessing of health healing illness
character_event = {
	id = TOG.7015
	desc = EVTDESC_TOG_7015
	border = GFX_event_normal_frame_religion
	picture = GFX_evt_tribal_shrine

	is_triggered_only = yes

	trigger = { is_ill = yes }

	option = {
		name = EVTOPTA_TOG_7015

		remove_disease_trait_effect = yes
		remove_character_modifier = blessing_of_health
		add_trait_partially_silently_zealous_effect = yes
		clr_character_flag = old_gods_blessing
	}
}

# Healing illness
character_event = {
	id = TOG.7016
	desc = EVTDESC_TOG_7016
	border = GFX_event_normal_frame_religion
	picture = GFX_evt_tribal_shrine

	is_triggered_only = yes

	option = {
		name = EVTOPTA_TOG_7016

		remove_disease_trait_effect = yes
	}
}


# Robust
character_event = {
	id = TOG.7011
	desc = EVTDESC_TOG_7011
	border = GFX_event_normal_frame_religion
	picture = GFX_evt_tribal_shrine

	is_triggered_only = yes

	option = {
		name = EVTOPTA_TOG_7011

		if = {
			limit = { trait = weak }
			remove_trait = weak
		}

		if = {
			limit = { trait = frail }
			remove_trait = frail
		}

		add_trait = brawny
	}
}

# Small health bonus
character_event = {
	id = TOG.7012
	desc = EVTDESC_TOG_7012
	border = GFX_event_normal_frame_religion
	picture = GFX_evt_tribal_shrine

	is_triggered_only = yes

	option = {
		name = EVTOPTA_TOG_7012

		add_character_modifier = {
			name = invigorated
			years = 10
		}
	}
}

# Illness
character_event = {
	id = TOG.7013
	desc = EVTDESC_TOG_7013
	picture = GFX_evt_doctor_tending_to_sick
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTA_TOG_7013

		character_event = {
			id = 6063 # base_health_events.txt
			days = 20
		}
	}
}

# RELATIONSHIPS

# Lover
character_event = {
	id = TOG.7020
	desc = EVTDESC_TOG_7020
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_diplomacy

	is_triggered_only = yes

	immediate = {
		# Targets male lover
		if = {
			limit = { prefers_men_trigger = yes }

			# Grabs random courtier
			if = {
				limit = {
					any_courtier = {
						is_female = no
						ai = yes
						block_general_event_trigger = no

						NOR = {
							is_lover = ROOT
							is_close_relative = ROOT
						}
					}
				}

				random_courtier = {
					limit = {
						is_female = no
						ai = yes
						block_general_event_trigger = no

						NOR = {
							is_lover = ROOT
							is_close_relative = ROOT
						}
					}

					save_event_target_as = ancestors_lover
					save_event_target_as = sex_partner
				}
			}

			# Or creates a new one
			else = {
				create_character = {
					female = no
					random_traits = yes
					dynasty = none
				}

				new_character = {
					save_event_target_as = ancestors_lover
					save_event_target_as = sex_partner
				}
			}
		}

		# Targets female lover
		else = {
			# Grabs random courtier
			if = {
				limit = {
					any_courtier = {
						is_female = yes
						ai = yes
						block_general_event_trigger = no

						NOR = {
							is_lover = ROOT
							is_close_relative = ROOT
						}
					}
				}

				random_courtier = {
					limit = {
						is_female = yes
						ai = yes
						block_general_event_trigger = no

						NOR = {
							is_lover = ROOT
							is_close_relative = ROOT
						}
					}

					save_event_target_as = ancestors_lover
					save_event_target_as = sex_partner
				}
			}

			# Or creates a new one
			else = {
				create_character = {
					female = yes
					random_traits = yes
					dynasty = none
				}

				new_character = {
					save_event_target_as = ancestors_lover
					save_event_target_as = sex_partner
				}
			}
		}
	}

	# Confess
	option = {
		name = EVTOPTA_TOG_7020

		add_lover = event_target:ancestors_lover

		hidden_effect = {
			# Makes lover homosexual if both are same sex
			if = {
				limit = { same_sex = event_target:ancestors_lover }
				event_target:ancestors_lover = { add_trait = homosexual }
			}

			# Impregnate if of different sex
			else = {
				unprotected_sex_effect_event_target = yes
			}
		}
	}

	# Or don't
	option = {
		name = EVTOPTB_TOG_7020

		ai_chance = { factor = 0 }
	}
}

# Friend
character_event = {
	id = TOG.7021
	desc = EVTDESC_TOG_7021
	border = GFX_event_normal_frame_diplomacy
	picture = GFX_evt_feast

	is_triggered_only = yes

	immediate = {
		# Target a friend
		if = {
			limit = {
				any_courtier = {
					is_inaccessible_or_incapable_trigger = no

					NOR = {
						is_friend = ROOT
						is_rival = ROOT
						is_lover = ROOT
					}
				}
			}

			random_courtier = {
				limit = {
					is_inaccessible_or_incapable_trigger = no

					NOR = {
						is_friend = ROOT
						is_rival = ROOT
						is_lover = ROOT
					}
				}

				save_event_target_as = ancestors_friend
			}
		}

		# Or create new one
		else = {
			create_character = {
				random_traits = yes
				dynasty = random
			}

			new_character = {
				save_event_target_as = ancestors_friend
			}
		}
	}

	# Make friend
	option = {
		name = EVTOPTA_TOG_7021

		add_friend = event_target:ancestors_friend
	}

	option = {
		name = EVTOPTB_TOG_7021

		ai_chance = { factor = 0 }
	}
}

# Small diplomacy bonus
character_event = {
	id = TOG.7022
	desc = EVTDESC_TOG_7022
	border = GFX_event_normal_frame_diplomacy
	picture = GFX_evt_courtiers_talking

	is_triggered_only = yes

	option = {
		name = EVTOPTA_TOG_7022

		add_character_modifier = {
			name = good_listener
			years = 10
		}
	}
}

# Rival
character_event = {
	id = TOG.7023
	desc = EVTDESC_TOG_7023
	border = GFX_event_normal_frame_diplomacy
	picture = GFX_evt_tribal_shrine

	is_triggered_only = yes

	immediate = {
		# Target a rival
		if = {
			limit = {
				any_courtier = {
					is_inaccessible_or_incapable_trigger = no

					NOR = {
						is_friend = ROOT
						is_rival = ROOT
						is_lover = ROOT
					}
				}
			}

			random_courtier = {
				limit = {
					is_inaccessible_or_incapable_trigger = no

					NOR = {
						is_friend = ROOT
						is_rival = ROOT
						is_lover = ROOT
					}
				}

				save_event_target_as = ancestors_rival
			}
		}

		# Or create new one
		else = {
			create_character = {
				random_traits = yes
				dynasty = random
			}

			new_character = {
				save_event_target_as = ancestors_rival
			}
		}
	}

	option = {
		name = EVTOPTA_TOG_7023

		add_rival = event_target:ancestors_rival
	}
}

# Good with people
character_event = {
	id = TOG.7024
	desc = EVTDESC_TOG_7024
	border = GFX_event_normal_frame_diplomacy
	picture = GFX_evt_courtiers_talking

	is_triggered_only = yes

	option = {
		name = EVTOPTA_TOG_7024

		add_character_modifier = {
			name = respected_by_the_people
			duration = -1
		}
	}
}

# Get a cat
character_event = {
	id = TOG.7025
	desc = EVTDESC_TOG_7025
	picture = GFX_evt_cat
	border = GFX_event_normal_frame_diplomacy

	is_triggered_only = yes

	option = {
		name = EVTOPTA_TOG_7025

		add_cat_effect = yes
	}

	option = {
		name = EVTOPTB_TOG_7025

		add_character_modifier = {
			name = bad_person
			years = 1
		}

		ai_chance = { factor = 0 }
	}
}

# WAR

# Brilliant commander appears
character_event = {
	id = TOG.7030
	desc = EVTDESC_TOG_7030
	picture = GFX_evt_melee
	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				OR = {
					has_law = status_of_women_3
					has_religion_feature = religion_matriarchal
					gender_equality_trigger = yes
				}
			}

			create_character = {
				female = yes
				age = 35
				random_traits = yes
				add_trait = strong
				add_trait = brave
				add_trait = brilliant_strategist
				add_trait = holy_warrior
			}

			new_character = {
				remove_trait = frail
				remove_trait = weak
				remove_trait = craven
				remove_trait = imbecile
				remove_trait = slow
				remove_trait = dull
				save_event_target_as = ancestors_commander
			}
		}

		else = {
			create_character = {
				female = no
				age = 35
				random_traits = yes
				add_trait = strong
				add_trait = brave
				add_trait = brilliant_strategist
				add_trait = holy_warrior
			}

			new_character = {
				remove_trait = frail
				remove_trait = weak
				remove_trait = craven
				remove_trait = imbecile
				remove_trait = slow
				remove_trait = dull
				save_event_target_as = ancestors_commander
			}
		}
	}

	option = {
		name = EVTOPTA_TOG_7030

		reverse_opinion = {
			name = opinion_loyal_servant
			who = event_target:ancestors_commander
			years = 100
		}
	}
}

# Robust is TOG.7011

# Random leadership trait
character_event = {
	id = TOG.7032
	desc = EVTDESC_TOG_7032
	border = GFX_event_normal_frame_war
	picture = GFX_evt_battle

	is_triggered_only = yes

	option = {
		name = EVTOPTA_TOG_7032

		random_list = {
			10 = {
				trigger = {
					NOT = { trait = light_foot_leader }
				}
				add_trait = light_foot_leader
			}

			10 = {
				trigger = {
					NOT = { trait = heavy_infantry_leader }
				}
				add_trait = heavy_infantry_leader
			}

			10 = {
				trigger = {
					NOT = { trait = cavalry_leader }
				}
				add_trait = cavalry_leader
			}

			10 = {
				trigger = {
					NOT = { trait = inspiring_leader }
				}
				add_trait = inspiring_leader
			}

			10 = {
				trigger = {
					NOT = { trait = defensive_leader }
				}
				add_trait = defensive_leader
			}

			10 = {
				trigger = {
					NOT = { trait = flanker }
				}
				add_trait = flanker
			}

			10 = {
				trigger = {
					NOT = { trait = siege_leader }
				}
				add_trait = siege_leader
			}
		}
	}
}

# Maimed while practising swordfighting
character_event = {
	id = TOG.7033
	desc = EVTDESC_TOG_7033
	border = GFX_event_normal_frame_war
	picture = GFX_evt_bloody_man

	is_triggered_only = yes

	option = {
		name = EVTOPTA_TOG_7033

		add_maimed_trait_effect = yes
	}
}

# War tech
character_event = {
	id = TOG.7034
	border = GFX_event_normal_frame_war
	picture = GFX_evt_large_army
	portrait = job_marshal

	desc = {
		text = EVTDESC_TOG_7034_A
		trigger = { job_marshal = { always = yes } }
	}
	desc = {
		text = EVTDESC_TOG_7034_B
		trigger = { NOT = { job_marshal = { always = yes } } }
	}

	is_triggered_only = yes
	hide_from = yes

	option = {
		name = EVTOPTA_TOG_7034

		military_techpoints = 100
		show_portrait = job_marshal
	}
}

# Levy reinforcement
character_event = {
	id = TOG.7035
	desc = EVTDESC_TOG_7035
	border = GFX_event_normal_frame_war
	picture = GFX_evt_large_army

	is_triggered_only = yes

	option = {
		name = EVTOPTA_TOG_7035

		capital_scope = {
			show_scope_change = no

			add_province_modifier = {
				name = inspired_warriors
				years = 10
			}
		}
	}
}

# PROSPERITY

# Increase prosperity level of capital
character_event = {
	id = TOG.7040
	desc = EVTDESC_TOG_7040
	picture = GFX_evt_tribal_lands
	border = GFX_event_normal_frame_economy

	is_triggered_only = yes

	trigger = {
		capital_scope = {
			NOR = {
				has_province_modifier = depopulated_1
				has_province_modifier = depopulated_2
				has_province_modifier = depopulated_3
			}
		}
	}

	option = {
		name = EVTOPTA_TOG_7040

		if = {
			limit = {
				has_dlc = "Reapers"

				capital_scope = {
					NOT = { has_province_modifier = prosperity_modifier_3 }
				}
			}

			capital_scope = {
				show_scope_change = no

				increase_prosperity_effect = yes
			}
		}
		else = {
			scaled_wealth = {
				value = 1
				min = 50
			}
		}
	}
}

# Give economy tech
character_event = {
	id = TOG.7041
	picture = GFX_evt_council
	border = GFX_event_normal_frame_economy
	portrait = job_treasurer

	desc = {
		text = EVTDESC_TOG_7041_A
		trigger = { job_treasurer = { always = yes } }
	}
	desc = {
		text = EVTDESC_TOG_7041_B
		trigger = { NOT = { job_treasurer = { always = yes } } }
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTA_TOG_7041

		economy_techpoints = 100
	}
}

# Small stewardship bonus
character_event = {
	id = TOG.7042
	desc = EVTDESC_TOG_7042
	border = GFX_event_normal_frame_economy
	picture = GFX_evt_market

	is_triggered_only = yes

	option = {
		name = EVTOPTA_TOG_7042

		add_character_modifier = {
			name = bargainer
			years = 10
		}
	}
}

# Bad tax modifier
character_event = {
	id = TOG.7043
	desc = EVTDESC_TOG_7043
	border = GFX_event_normal_frame_economy
	picture = GFX_evt_tribal_shrine

	is_triggered_only = yes

	option = {
		name = EVTOPTA_TOG_7043

		add_character_modifier = {
			name = overtaxed_subjects
			years = 5
		}
	}
}

# Decrease depopulation
character_event = {
	id = TOG.7044
	desc = EVTDESC_TOG_7044
	border = GFX_event_normal_frame_economy
	picture = GFX_evt_tribal_lands

	is_triggered_only = yes

	trigger = {
		capital_scope = {
			OR = {
				has_province_modifier = depopulated_1
				has_province_modifier = depopulated_2
				has_province_modifier = depopulated_3
			}
		}
	}

	option = {
		name = EVTOPTA_TOG_7044

		capital_scope = {
			show_scope_change = no

			decrease_depopulation_effect = yes
		}
	}
}

# WISDOM

# Shrewd
character_event = {
	id = TOG.7050
	desc = EVTDESC_TOG_7050
	picture = GFX_evt_library
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTA_TOG_7050

		if = {
			limit = { trait = dull }
			remove_trait = dull
		}

		if = {
			limit = { trait = imbecile }
			remove_trait = imbecile
		}

		if = {
			limit = { trait = slow }
			remove_trait = slow
		}

		add_trait = shrewd
	}
}

# Wise woman joins court
character_event = {
	id = TOG.7051
	desc = EVTDESC_TOG_7051
	picture = GFX_evt_tribal_shrine
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	immediate = {
		create_character = {
			religion = ROOT
			age = 32
			female = yes
			random_traits = yes
			dynasty = none
			add_trait = mystic
			add_trait = genius
			add_trait = mastermind_theologian
		}

		new_character = {
			remove_trait = dull
			remove_trait = imbecile
			save_event_target_as = ancestors_wise_woman
		}
	}

	option = {
		name = EVTOPTA_TOG_7051

		reverse_opinion = {
			name = opinion_loyal_servant
			who = event_target:ancestors_wise_woman
			years = 100
		}
	}
}

# Small learning bonus
character_event = {
	id = TOG.7052
	desc = EVTDESC_TOG_7052
	picture = GFX_evt_library
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTA_TOG_7052

		add_character_modifier = {
			name = new_insights
			years = 10
		}
	}
}

# Dull
character_event = {
	id = TOG.7053
	desc = EVTDESC_TOG_7053
	picture = GFX_evt_library
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTA_TOG_7053

		if = {
			limit = { trait = shrewd }
			remove_trait = shrewd
		}
		else_if = {
			limit = { NOT = { trait = dull } }
			add_trait = dull
		}
	}
}

# Get an owl
character_event = {
	id = TOG.7054
	desc = EVTDESC_TOG_7054
	picture = GFX_evt_falconing
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTA_TOG_7054

		add_character_modifier = {
			name = pet_owl
			duration = -1
		}

		character_event = {
			id = 77800 # Owl dies
			days = 3500
			random = 2000
		}
	}

	option = {
		name = EVTOPTB_TOG_7054

		ai_chance = {
			factor = 0
		}
	}
}


### MAIN DEITY EVENTS ###

# Main deity event sender
character_event = {
	id = TOG.7100

	is_triggered_only = yes # pick_main_deity, minor_decisions.txt
	hide_window = yes

	trigger = {
		has_minor_deity_trigger = yes
	}

	immediate = {
		random_list = {
			# Stat events
			20 = {
				#Diplomacy Dieties
				if = {
					limit = {
						OR = {
							has_character_modifier = follower_of_dievas
							has_character_modifier = follower_of_akka
							has_character_modifier = follower_of_ayyur
						}

						diplomacy < 15
					}

					character_event = { id = TOG.7500 }
				}

				# Martial Dieties
				else_if = {
					limit = {
						OR = {
							has_character_modifier = follower_of_perkunas
							has_character_modifier = follower_of_taipo_and_mielikki
							has_character_modifier = follower_of_dongo
							has_character_modifier = follower_of_perun
						}

						martial < 15
					}

					character_event = { id = TOG.7501 }
				}

				# Stewardship Dieties
				else_if = {
					limit = {
						stewardship < 15

						OR = {
							has_character_modifier = follower_of_zemyna
							has_character_modifier = follower_of_ukko
							has_character_modifier = follower_of_bida
							has_character_modifier = follower_of_jarilo
						}
					}

					character_event = { id = TOG.7502 }
				}

				# Intrigue Dieties
				else_if = {
					limit = {
						OR = {
							has_character_modifier = follower_of_velnias
							has_character_modifier = follower_of_lempo
							has_character_modifier = follower_of_veles
							has_character_modifier = follower_of_anansi
						}

						intrigue < 15
					}

					character_event = { id = TOG.7503 }
				}

				# Learning Dieties
				else_if = {
					limit = {
						OR = {
							has_character_modifier = follower_of_tsumburbura
							has_character_modifier = follower_of_morana
						}

						learning < 15
					}

					character_event = { id = TOG.7504 }
				}
			}

			# Friendship events
			15 = {
				trigger = {
					any_courtier_or_vassal = {
						trigger_if = {
							limit = { has_character_modifier = follower_of_perun }
							ROOT = { has_character_modifier = follower_of_perun }
						}
						trigger_else_if = {
							limit = { has_character_modifier = follower_of_ukko }
							ROOT = { has_character_modifier = follower_of_ukko }
						}
						trigger_else_if = {
							limit = { has_character_modifier = follower_of_perkunas }
							ROOT = { has_character_modifier = follower_of_perkunas }
						}
						trigger_else_if = {
							limit = { has_character_modifier = follower_of_dongo }
							ROOT = { has_character_modifier = follower_of_dongo }
						}
						trigger_else_if = {
							limit = { has_character_modifier = follower_of_veles }
							ROOT = { has_character_modifier = follower_of_veles }
						}
						trigger_else_if = {
							limit = { has_character_modifier = follower_of_jarilo }
							ROOT = { has_character_modifier = follower_of_jarilo }
						}
						trigger_else_if = {
							limit = { has_character_modifier = follower_of_morana }
							ROOT = { has_character_modifier = follower_of_morana }
						}
						trigger_else_if = {
							limit = { has_character_modifier = follower_of_ayyur }
							ROOT = { has_character_modifier = follower_of_ayyur }
						}
						trigger_else_if = {
							limit = { has_character_modifier = follower_of_bida }
							ROOT = { has_character_modifier = follower_of_bida }
						}
						trigger_else_if = {
							limit = { has_character_modifier = follower_of_tsumburbura }
							ROOT = { has_character_modifier = follower_of_tsumburbura }
						}
						trigger_else_if = {
							limit = { has_character_modifier = follower_of_akka }
							ROOT = { has_character_modifier = follower_of_akka }
						}
						trigger_else_if = {
							limit = { has_character_modifier = follower_of_taipo_and_mielikki }
							ROOT = { has_character_modifier = follower_of_taipo_and_mielikki }
						}
						trigger_else_if = {
							limit = { has_character_modifier = follower_of_lempo }
							ROOT = { has_character_modifier = follower_of_lempo }
						}
						trigger_else_if = {
							limit = { has_character_modifier = follower_of_dievas }
							ROOT = { has_character_modifier = follower_of_dievas }
						}
						trigger_else_if = {
							limit = { has_character_modifier = follower_of_velnias }
							ROOT = { has_character_modifier = follower_of_velnias }
						}
						trigger_else = {
							has_character_modifier = follower_of_zemyna
							ROOT = { has_character_modifier = follower_of_zemyna }
						}

						ai = yes
						is_inaccessible_or_incapable_trigger = no

						NOR = {
							is_friend = ROOT
							is_rival = ROOT
							is_lover = ROOT
						}
					}
				}

				random_courtier_or_vassal = {
					limit = {
						trigger_if = {
							limit = { has_character_modifier = follower_of_perun }
							ROOT = { has_character_modifier = follower_of_perun }
						}
						trigger_else_if = {
							limit = { has_character_modifier = follower_of_ukko }
							ROOT = { has_character_modifier = follower_of_ukko }
						}
						trigger_else_if = {
							limit = { has_character_modifier = follower_of_perkunas }
							ROOT = { has_character_modifier = follower_of_perkunas }
						}
						trigger_else_if = {
							limit = { has_character_modifier = follower_of_dongo }
							ROOT = { has_character_modifier = follower_of_dongo }
						}
						trigger_else_if = {
							limit = { has_character_modifier = follower_of_veles }
							ROOT = { has_character_modifier = follower_of_veles }
						}
						trigger_else_if = {
							limit = { has_character_modifier = follower_of_jarilo }
							ROOT = { has_character_modifier = follower_of_jarilo }
						}
						trigger_else_if = {
							limit = { has_character_modifier = follower_of_morana }
							ROOT = { has_character_modifier = follower_of_morana }
						}
						trigger_else_if = {
							limit = { has_character_modifier = follower_of_ayyur }
							ROOT = { has_character_modifier = follower_of_ayyur }
						}
						trigger_else_if = {
							limit = { has_character_modifier = follower_of_bida }
							ROOT = { has_character_modifier = follower_of_bida }
						}
						trigger_else_if = {
							limit = { has_character_modifier = follower_of_tsumburbura }
							ROOT = { has_character_modifier = follower_of_tsumburbura }
						}
						trigger_else_if = {
							limit = { has_character_modifier = follower_of_akka }
							ROOT = { has_character_modifier = follower_of_akka }
						}
						trigger_else_if = {
							limit = { has_character_modifier = follower_of_taipo_and_mielikki }
							ROOT = { has_character_modifier = follower_of_taipo_and_mielikki }
						}
						trigger_else_if = {
							limit = { has_character_modifier = follower_of_lempo }
							ROOT = { has_character_modifier = follower_of_lempo }
						}
						trigger_else_if = {
							limit = { has_character_modifier = follower_of_dievas }
							ROOT = { has_character_modifier = follower_of_dievas }
						}
						trigger_else_if = {
							limit = { has_character_modifier = follower_of_velnias }
							ROOT = { has_character_modifier = follower_of_velnias }
						}
						trigger_else = {
							has_character_modifier = follower_of_zemyna
							ROOT = { has_character_modifier = follower_of_zemyna }
						}

						ai = yes
						is_inaccessible_or_incapable_trigger = no

						NOR = {
							is_friend = ROOT
							is_rival = ROOT
							is_lover = ROOT
						}
					}

					save_event_target_as = deity_friend
				}

				character_event = { id = TOG.7506 }
			}

			# Theme events set 1
			15 = {
				# Thunder deities
				if = {
					limit = {
						OR = {
							has_character_modifier = follower_of_perun
							has_character_modifier = follower_of_ukko
							has_character_modifier = follower_of_perkunas
							has_character_modifier = follower_of_dongo
						}

						OR = {
							any_spouse = {
								ai = yes
								prisoner = no

								NOR = {
									trait = brave
									has_character_flag = scared_of_thunder
								}
							}

							any_lover = {
								ai = yes
								prisoner = no

								NOR = {
									trait = brave
									has_character_flag = scared_of_thunder
								}
							}

							any_ward = {
								ai = yes
								prisoner = no

								NOR = {
									trait = brave
									trait = willful
									has_character_flag = scared_of_thunder
								}
							}

							any_child = {
								ai = yes
								is_adult = no
								prisoner = no

								NOR = {
									trait = brave
									trait = willful
									has_character_flag = scared_of_thunder
								}
							}

							player_heir = {
								ai = yes
								is_adult = no
								prisoner = no

								NOR = {
									trait = brave
									trait = willful
									has_character_flag = scared_of_thunder
								}
							}
						}
					}

					# Lowest matching character determines who features in this event
					random_spouse = {
						limit = {
							ai = yes
							prisoner = no

							NOR = {
								trait = brave
								has_character_flag = scared_of_thunder
							}
						}

						save_event_target_as = thunder_target
					}

					random_lover = {
						limit = {
							ai = yes
							prisoner = no

							NOR = {
								trait = brave
								has_character_flag = scared_of_thunder
							}
						}

						save_event_target_as = thunder_target
					}

					random_ward = {
						limit = {
							ai = yes
							prisoner = no

							NOR = {
								trait = brave
								trait = willful
								has_character_flag = scared_of_thunder
							}
						}

						save_event_target_as = thunder_target
					}

					random_child = {
						limit = {
							ai = yes
							is_adult = no
							prisoner = no

							NOR = {
								trait = brave
								trait = willful
								has_character_flag = scared_of_thunder
							}
						}

						save_event_target_as = thunder_target
					}

					player_heir = {
						if = {
							limit = {
								ai = yes
								is_adult = no
								prisoner = no

								NOR = {
									trait = brave
									trait = willful
									has_character_flag = scared_of_thunder
								}
							}

							save_event_target_as = thunder_target
						}
					}

					character_event = { id = TOG.7508 }
				}

				# Sexy deities
				else_if = {
					limit = {
						OR = {
							has_character_modifier = follower_of_lempo
							has_character_modifier = follower_of_jarilo
						}

						any_courtier_or_vassal = {
							is_valid_romance_target = ROOT
							ai = yes
							prisoner = no
							NOT = { is_close_relative = ROOT }
						}
					}

					random_courtier_or_vassal = {
						limit = {
							is_valid_romance_target = ROOT
							ai = yes
							prisoner = no
							NOT = { is_close_relative = ROOT }
						}

						preferred_limit = {
							OR = {
								trait = lustful
								has_fair_trait_trigger = yes
								has_character_modifier = follower_of_lempo
								has_character_modifier = follower_of_jarilo
							}
						}

						save_event_target_as = pagan_lover
					}

					character_event = { id = TOG.7510 }
				}

				# Family deities
				else_if = {
					limit = {
						OR = {
							has_character_modifier = follower_of_zemyna
							has_character_modifier = follower_of_tsumburbura
							has_character_modifier = follower_of_akka
						}

						any_spouse = {
							trigger_if = {
								limit = { is_female = yes }
								practical_age < 45
							}

							prisoner = no

							NOR = {
								trait = celibate
								trait = eunuch
							}
						}

						trigger_if = {
							limit = { is_female = yes }
							practical_age < 45
						}

						NOR = {
							trait = celibate
							trait = eunuch
							has_character_modifier = zemynas_blessing
							has_character_modifier = tsumburburas_blessing
							has_character_modifier = akkas_blessing
						}
					}

					random_spouse = {
						limit = {
							trigger_if = {
								limit = { is_female = yes }
								practical_age < 45
							}

							prisoner = no

							NOR = {
								trait = celibate
								trait = eunuch
							}
						}

						save_event_target_as = target_spouse
					}

					character_event = { id = TOG.7512 }
				}

				# Death dieties
				else_if = {
					limit = {
						OR = {
							has_character_modifier = follower_of_morana
							has_character_modifier = follower_of_veles
							has_character_modifier = follower_of_velnias
						}

						OR = {
							any_courtier = {
								age >= 4
								is_adult = no
								NOT = { has_character_flag = asked_about_death }
							}

							any_ward = {
								NOT = { has_character_flag = asked_about_death }
							}

							any_child = {
								age >= 4
								is_adult = no
								NOT = { has_character_flag = asked_about_death }
							}

							player_heir = {
								age >= 4
								is_adult = no
								NOT = { has_character_flag = asked_about_death }
							}
						}
					}

					random_courtier = {
						limit = {
							age >= 4
							is_adult = no
							NOT = { has_character_flag = asked_about_death }
						}

						save_event_target_as = death_child
					}

					random_ward = {
						limit = {
							NOT = { has_character_flag = asked_about_death }
						}

						save_event_target_as = death_child
					}

					random_child = {
						limit = {
							age >= 4
							is_adult = no
							NOT = { has_character_flag = asked_about_death }
						}

						save_event_target_as = death_child
					}

					player_heir = {
						if = {
							limit = {
								age >= 4
								is_adult = no
								NOT = { has_character_flag = asked_about_death }
							}

							save_event_target_as = death_child
						}
					}

					event_target:death_child = {
						set_character_flag = asked_about_death
					}

					character_event = { id = TOG.7514 }
				}

				# Hunting dieties
				else_if = {
					limit = {
						has_character_modifier = follower_of_taipo_and_mielikki
						NOT = { has_character_modifier = hunters_physique }
					}

					character_event = { id = TOG.7517 }
				}
			}

			# Theme events set 2
			20 = {
				# Martial gods
				if = {
					limit = {
						OR = {
							has_character_modifier = follower_of_perkunas
							has_character_modifier = follower_of_taipo_and_mielikki
							has_character_modifier = follower_of_dongo
							has_character_modifier = follower_of_perun
						}
					}

					character_event = { id = TOG.7516 }
				}

				# Diplomacy gods
				else_if = {
					limit = {
						OR = {
							has_character_modifier = follower_of_dievas
							has_character_modifier = follower_of_akka
							has_character_modifier = follower_of_ayyur
						}
					}

					character_event = { id = TOG.7518 }
				}

				# Stewardship gods
				else_if = {
					limit = {
						OR = {
							has_character_modifier = follower_of_zemyna
							has_character_modifier = follower_of_ukko
							has_character_modifier = follower_of_bida
							has_character_modifier = follower_of_jarilo
						}

						capital_scope = {
							NOT = { has_province_modifier = blessed_lands }
						}
					}

					character_event = { id = TOG.7520 }
				}

				# Intrigue gods
				else_if = {
					limit = {
						OR = {
							has_character_modifier = follower_of_velnias
							has_character_modifier = follower_of_lempo
							has_character_modifier = follower_of_veles
						}

						any_realm_character = {
							has_plot = yes
							NOT = { plot_is_known_by = ROOT }
						}
					}

					character_event = { id = TOG.7522 }
				}

				# Learning gods
				else_if = {
					limit = {
						OR = {
							has_character_modifier = follower_of_tsumburbura
							has_character_modifier = follower_of_morana
						}
					}

					character_event = { id = TOG.7524 }
				}
			}

			# Monument event, only happens once per character
			50 = {
				trigger = {
					NOT = { has_character_flag = pagan_monument }
					job_treasurer = { always = yes }
				}

				character_event = { id = TOG.7526 }
			}

			30 = { } # NOTHING
		}

		repeat_event = {
			id = TOG.7100
			days = 1000
			random = 400
		}
	}
}

# Remove main deity in case of religious conversion
character_event = {
	id = TOG.7101

	is_triggered_only = yes # on_character_convert_religion
	hide_window = yes

	trigger = {
		has_minor_deity_trigger = yes

		# Checks that the character isn't reforming
		NOT = { is_reformed_religion = FROM }
	}

	immediate = {
		remove_character_modifier = follower_of_perun
		remove_character_modifier = follower_of_veles
		remove_character_modifier = follower_of_jarilo
		remove_character_modifier = follower_of_morana
		remove_character_modifier = follower_of_ayyur
		remove_character_modifier = follower_of_anansi
		remove_character_modifier = follower_of_dan
		remove_character_modifier = follower_of_bida
		remove_character_modifier = follower_of_tsumburbura
		remove_character_modifier = follower_of_dongo
		remove_character_modifier = follower_of_ukko
		remove_character_modifier = follower_of_akka
		remove_character_modifier = follower_of_taipo_and_mielikki
		remove_character_modifier = follower_of_lempo
		remove_character_modifier = follower_of_dievas
		remove_character_modifier = follower_of_velnias
		remove_character_modifier = follower_of_perkunas
		remove_character_modifier = follower_of_zemyna
		remove_character_modifier = voice_of_dievas
		remove_character_modifier = voice_of_akka
		remove_character_modifier = voice_of_ayyur
		remove_character_modifier = zemynas_blessing
		remove_character_modifier = tsumburburas_blessing
		remove_character_modifier = akkas_blessing
	}
}

# Selecting deity, Slavic
character_event = {
	id = TOG.7110
	desc = EVTDESC_TOG_7110
	picture = GFX_evt_tribal_shrine
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes # pick_main_deity, minor_decisions.txt

	immediate = {
		if = {
			limit = { is_playable = yes }

			any_courtier = {
				limit = {
					is_playable = no
					religion = ROOT
					has_minor_deity_trigger = no
					is_adult = yes
					prisoner = no
				}

				character_event = {
					id = TOG.7110
					days = 1
				}
			}
		}
	}

	option = {
		name = EVTOPTA_TOG_7110

		add_character_modifier = {
			name = follower_of_perun
			duration = -1
		}

		character_event = { id = TOG.7111 }

		ai_chance = {
			factor = 1

			mult_modifier = {
				factor = 2
				has_education_martial_trigger = yes
			}

			mult_modifier = {
				factor = 2
				trait = brave
			}
		}
	}

	option = {
		name = EVTOPTB_TOG_7110

		add_character_modifier = {
			name = follower_of_veles
			duration = -1
		}

		character_event = { id = TOG.7112 }

		ai_chance = {
			factor = 1

			mult_modifier = {
				factor = 2
				has_education_intrigue_trigger = yes
			}

			mult_modifier = {
				factor = 2
				trait = deceitful
			}
		}
	}

	option = {
		name = EVTOPTC_TOG_7110

		add_character_modifier = {
			name = follower_of_jarilo
			duration = -1
		}

		character_event = { id = TOG.7113 }

		ai_chance = {
			factor = 1

			mult_modifier = {
				factor = 2
				has_education_stewardship_trigger = yes
			}

			mult_modifier = {
				factor = 2
				is_fertile_trigger = yes
			}
		}
	}

	option = {
		name = EVTOPTD_TOG_7110

		add_character_modifier = {
			name = follower_of_morana
			duration = -1
		}

		character_event = { id = TOG.7114 }

		ai_chance = {
			factor = 1

			mult_modifier = {
				factor = 2
				has_education_learning_trigger = yes
			}

			mult_modifier = {
				factor = 2
				is_learned_trigger = yes
			}
		}
	}
}

# You picked Perun
character_event = {
	id = TOG.7111
	desc = EVTDESC_TOG_7111
	picture = GFX_evt_viking_battle_oldgods
	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTA_TOG_7111
	}
}

# You picked Veles
character_event = {
	id = TOG.7112
	desc = EVTDESC_TOG_7112
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_intrigue

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTA_TOG_7111
	}
}

# You picked Jarilo
character_event = {
	id = TOG.7113
	desc = EVTDESC_TOG_7113
	picture = GFX_evt_tribal_lands
	border = GFX_event_normal_frame_economy

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTA_TOG_7111
	}
}

# You picked Morana
character_event = {
	id = TOG.7114
	desc = EVTDESC_TOG_7114
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTA_TOG_7111
	}
}

# Selecting deity, West African
character_event = {
	id = TOG.7200
	desc = EVTDESC_TOG_7200
	picture = GFX_evt_desert
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes # pick_main_deity, minor_decisions.txt

	immediate = {
		# Assign a god to all adults of the same religion at court
		if = {
			limit = { is_playable = yes }

			any_courtier = {
				limit = {
					is_playable = no
					religion = ROOT
					has_minor_deity_trigger = no
					is_adult = yes
					prisoner = no
				}

				character_event = {
					id = TOG.7200
					days = 1
				}
			}
		}
	}

	option = {
		name = EVTOPTA_TOG_7200

		add_character_modifier = {
			name = follower_of_ayyur
			duration = -1
		}

		character_event = { id = TOG.7201 }

		ai_chance = {
			factor = 1

			mult_modifier = {
				factor = 2
				has_education_diplomacy_trigger = yes
			}

			mult_modifier = {
				factor = 2
				is_infertile_trigger = yes
			}

			mult_modifier = {
				factor = 2
				is_benevolent_trigger = yes
			}
		}
	}

	option = {
		name = EVTOPTB_TOG_7200

		add_character_modifier = {
			name = follower_of_bida
			duration = -1
		}

		character_event = { id = TOG.7202 }

		ai_chance = {
			factor = 1

			mult_modifier = {
				factor = 2
				has_education_stewardship_trigger = yes
			}

			mult_modifier = {
				factor = 2
				trait = greedy
			}
		}
	}

	option = {
		name = EVTOPTC_TOG_7200

		add_character_modifier = {
			name = follower_of_tsumburbura
			duration = -1
		}

		character_event = { id = TOG.7203 }

		ai_chance = {
			factor = 1

			mult_modifier = {
				factor = 2
				has_education_learning_trigger = yes
			}

			mult_modifier = {
				factor = 2
				is_learned_trigger = yes
			}
		}
	}

	option = { # There are others
		name = EVTOPTD_TOG_7200_B

		character_event = { id = TOG.7205 }
	}
}

# Selecting deity, West African
character_event = {
	id = TOG.7205
	desc = EVTDESC_TOG_7205
	picture = GFX_evt_desert
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTD_TOG_7200

		add_character_modifier = {
			name = follower_of_dongo
			duration = -1
		}

		character_event = { id = TOG.7204 }

		ai_chance = {
			factor = 1

			mult_modifier = {
				factor = 2
				has_education_martial_trigger = yes
			}

			mult_modifier = {
				factor = 2
				trait = brave
			}
		}
	}

	option = {
		name = EVTOPTE_TOG_7205

		add_character_modifier = {
			name = follower_of_anansi
			duration = -1
		}

		character_event = { id = TOG.7207 }

		ai_chance = {
			factor = 1

			mult_modifier = {
				factor = 2
				has_education_intrigue_trigger = yes
			}

			mult_modifier = {
				factor = 2
				trait = deceitful
			}
		}
	}

	option = {
		name = EVTOPTF_TOG_7205

		add_character_modifier = {
			name = follower_of_dan
			duration = -1
		}

		character_event = { id = TOG.7208 }

		ai_chance = {
			factor = 1

			mult_modifier = {
				factor = 2
				has_education_learning_trigger = yes
			}

			mult_modifier = {
				factor = 2
				trait = erudite
			}
		}
	}

	option = { # There are others
		name = EVTOPTG_TOG_7205

		character_event = { id = TOG.7200 }

		ai_chance = { factor = 0 }
	}
}

# You picked Ayyur
character_event = {
	id = TOG.7201
	desc = EVTDESC_TOG_7201
	picture = GFX_evt_comet
	border = GFX_event_normal_frame_diplomacy

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTA_TOG_7111
	}
}

# You picked Bida
character_event = {
	id = TOG.7202
	desc = EVTDESC_TOG_7202
	picture = GFX_evt_merchant_caravan
	border = GFX_event_normal_frame_economy

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTA_TOG_7111
	}
}

# You picked Tsumburbura
character_event = {
	id = TOG.7203
	desc = EVTDESC_TOG_7203
	picture = GFX_evt_tribal_shrine
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTA_TOG_7111
	}
}

# You picked Dongo
character_event = {
	id = TOG.7204
	desc = EVTDESC_TOG_7204
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTA_TOG_7111
	}
}

# You picked Anansi
character_event = {
	id = TOG.7207
	desc = EVTDESC_TOG_7207
	picture = GFX_evt_whispers
	border = GFX_event_normal_frame_intrigue

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTA_TOG_7111
	}
}

# You picked Dan
character_event = {
	id = TOG.7208
	desc = EVTDESC_TOG_7208
	picture = GFX_evt_comet
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTA_TOG_7111
	}
}

# Selecting deity, Finnish Pagan
character_event = {
	id = TOG.7300
	desc = EVTDESC_TOG_7300
	picture = GFX_evt_tribal_shrine
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	immediate = {
		# Assign a god to all adults of the same religion at court
		if = {
			limit = { is_playable = yes }

			any_courtier = {
				limit = {
					is_playable = no
					religion = ROOT
					has_minor_deity_trigger = no
					is_adult = yes
					prisoner = no
				}

				character_event = {
					id = TOG.7300
					days = 1
				}
			}
		}
	}

	option = {
		name = EVTOPTA_TOG_7300

		add_character_modifier = {
			name = follower_of_ukko
			duration = -1
		}

		character_event = { id = TOG.7301 }

		ai_chance = {
			factor = 1

			mult_modifier = {
				factor = 2
				has_education_stewardship_trigger = yes
			}
		}
	}

	option = {
		name = EVTOPTB_TOG_7300

		add_character_modifier = {
			name = follower_of_akka
			duration = -1
		}

		character_event = { id = TOG.7302 }

		ai_chance = {
			factor = 1

			mult_modifier = {
				factor = 2
				has_education_stewardship_trigger = yes
			}

			mult_modifier = {
				factor = 2
				is_infertile_trigger = yes
			}

			mult_modifier = {
				factor = 2
				is_benevolent_trigger = yes
			}
		}
	}

	option = {
		name = EVTOPTC_TOG_7300

		add_character_modifier = {
			name = follower_of_taipo_and_mielikki
			duration = -1
		}

		character_event = { id = TOG.7303 }

		ai_chance = {
			factor = 1

			mult_modifier = {
				factor = 2
				has_education_martial_trigger = yes
			}

			mult_modifier = {
				factor = 2
				trait = hunter
			}
		}
	}

	option = {
		name = EVTOPTD_TOG_7300

		add_character_modifier = {
			name = follower_of_lempo
			duration = -1
		}

		character_event = { id = TOG.7304 }

		ai_chance = {
			factor = 1

			mult_modifier = {
				factor = 2
				has_education_intrigue_trigger = yes
			}

			mult_modifier = {
				factor = 2
				trait = lustful
			}

			mult_modifier = {
				factor = 2
				trait = master_seducer
			}

			mult_modifier = {
				factor = 2
				trait = master_seductress
			}
		}
	}
}

# You picked Ukko
character_event = {
	id = TOG.7301
	desc = EVTDESC_TOG_7301
	picture = GFX_evt_tribal_lands
	border = GFX_event_normal_frame_economy

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTA_TOG_7111
	}
}

# You picked Akka
character_event = {
	id = TOG.7302
	desc = EVTDESC_TOG_7302
	picture = GFX_evt_birth
	border = GFX_event_normal_frame_diplomacy

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTA_TOG_7111
	}
}

# You picked Taipo & Mielikki
character_event = {
	id = TOG.7303
	desc = EVTDESC_TOG_7303
	picture = GFX_evt_mysterious_forest
	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTA_TOG_7111
	}
}

# You picked Lempo
character_event = {
	id = TOG.7304
	desc = EVTDESC_TOG_7304
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTA_TOG_7111
	}
}

# Selecting deity, Baltic pagans
character_event = {
	id = TOG.7400
	desc = EVTDESC_TOG_7400
	picture = GFX_evt_tribal_shrine
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes # pick_main_deity, minor_decisions.txt

	immediate = {
		# Assign a god to all adults of the same religion at court
		if = {
			limit = { is_playable = yes }

			any_courtier = {
				limit = {
					is_playable = no
					religion = ROOT
					has_minor_deity_trigger = no
					is_adult = yes
					prisoner = no
				}

				character_event = {
					id = TOG.7400
					days = 1
				}
			}
		}
	}

	option = {
		name = EVTOPTA_TOG_7400

		add_character_modifier = {
			name = follower_of_dievas
			duration = -1
		}

		character_event = { id = TOG.7401 }

		ai_chance = {
			factor = 1

			mult_modifier = {
				factor = 2
				has_education_diplomacy_trigger = yes
			}
		}
	}

	option = {
		name = EVTOPTB_TOG_7400

		add_character_modifier = {
			name = follower_of_velnias
			duration = -1
		}

		character_event = { id = TOG.7402 }

		ai_chance = {
			factor = 1

			mult_modifier = {
				factor = 2
				has_education_intrigue_trigger = yes
			}
		}
	}

	option = {
		name = EVTOPTC_TOG_7400

		add_character_modifier = {
			name = follower_of_perkunas
			duration = -1
		}

		character_event = { id = TOG.7403 }

		ai_chance = {
			factor = 1

			mult_modifier = {
				factor = 2
				has_education_martial_trigger = yes
			}
		}
	}

	option = {
		name = EVTOPTD_TOG_7400

		add_character_modifier = {
			name = follower_of_zemyna
			duration = -1
		}

		character_event = { id = TOG.7404 }

		ai_chance = {
			factor = 1

			mult_modifier = {
				factor = 2
				has_education_stewardship_trigger = yes
			}
		}
	}
}

# You picked Dievas
character_event = {
	id = TOG.7401
	desc = EVTDESC_TOG_7401
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_diplomacy

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTA_TOG_7111
	}
}

# You picked Velnias
character_event = {
	id = TOG.7402
	desc = EVTDESC_TOG_7402
	picture = GFX_evt_death
	border = GFX_event_normal_frame_intrigue

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTA_TOG_7111
	}
}

# You picked Perkunas
character_event = {
	id = TOG.7403
	desc = EVTDESC_TOG_7403
	picture = GFX_evt_viking_battle_oldgods
	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTA_TOG_7111
	}
}

# You picked Zemyna
character_event = {
	id = TOG.7404
	desc = EVTDESC_TOG_7404
	picture = GFX_evt_tribal_lands
	border = GFX_event_normal_frame_economy

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTA_TOG_7111
	}
}

# Events which trigger depending on your main deity

# +1 Diplomacy
character_event = {
	id = TOG.7500
	picture = GFX_evt_family
	border = GFX_event_normal_frame_diplomacy

	desc = {
		text = EVTDESC_TOG_7500_DIEVAS
		picture = GFX_evt_viking_throneroom_oldgods
		trigger = { has_character_modifier = follower_of_dievas }
	}
	desc = {
		text = EVTDESC_TOG_7500_AKKA
		trigger = { has_character_modifier = follower_of_akka }
	}
	desc = {
		text = EVTDESC_TOG_7500_AYYUR
		trigger = { has_character_modifier = follower_of_ayyur }
	}

	is_triggered_only = yes
	hide_from = yes

	option = {
		name = EVTOPTA_TOG_7500

		change_diplomacy = 1
	}
}

# +1 Martial
character_event = {
	id = TOG.7501
	border = GFX_event_normal_frame_war
	picture = GFX_evt_viking_battle_oldgods

	desc = {
		text = EVTDESC_TOG_7501_PERKUNAS
		trigger = { has_character_modifier = follower_of_perkunas }
	}
	desc = {
		text = EVTDESC_TOG_7501_TM
		picture = GFX_evt_hunt
		trigger = { has_character_modifier = follower_of_taipo_and_mielikki }
	}
	desc = {
		text = EVTDESC_TOG_7501_DONGO
		picture = GFX_evt_battle
		trigger = { has_character_modifier = follower_of_dongo }
	}
	desc = {
		text = EVTDESC_TOG_7501_PERUN
		trigger = { has_character_modifier = follower_of_perun }
	}

	is_triggered_only = yes
	hide_from = yes

	option = {
		name = EVTOPTA_TOG_7500

		change_martial = 1
	}
}

# +1 Stewardship
character_event = {
	id = TOG.7502
	border = GFX_event_normal_frame_economy
	picture = GFX_evt_tribal_lands

	desc = {
		text = EVTDESC_TOG_7502_ZEMYNA
		trigger = { has_character_modifier = follower_of_zemyna }
	}
	desc = {
		text = EVTDESC_TOG_7502_UKKO
		trigger = { has_character_modifier = follower_of_ukko }
	}
	desc = {
		text = EVTDESC_TOG_7502_BIDA
		picture = GFX_evt_carriage
		trigger = { has_character_modifier = follower_of_bida }
	}
	desc = {
		text = EVTDESC_TOG_7502_JARILO
		trigger = { has_character_modifier = follower_of_jarilo }
	}

	is_triggered_only = yes
	hide_from = yes

	option = {
		name = EVTOPTA_TOG_7500

		change_stewardship = 1
	}
}

# +1 Intrigue
character_event = {
	id = TOG.7503
	border = GFX_event_normal_frame_intrigue
	picture = GFX_evt_whispers

	desc = {
		text = EVTDESC_TOG_7503_VELNIAS
		trigger = { has_character_modifier = follower_of_velnias }
	}
	desc = {
		text = EVTDESC_TOG_7503_LEMPO
		trigger = { has_character_modifier = follower_of_lempo }
	}
	desc = {
		text = EVTDESC_TOG_7503_VELES
		trigger = { has_character_modifier = follower_of_veles }
	}
	desc = {
		text = EVTDESC_TOG_7503_ANANSI
		trigger = { has_character_modifier = follower_of_anansi }
	}

	is_triggered_only = yes
	hide_from = yes

	option = {
		name = EVTOPTA_TOG_7500

		change_intrigue = 1
	}
}

# +1 Learning
character_event = {
	id = TOG.7504
	border = GFX_event_normal_frame_religion
	picture = GFX_evt_tribal_shrine

	desc = {
		text = EVTDESC_TOG_7503_TSUMBURBURA
		trigger = { has_character_modifier = follower_of_tsumburbura }
	}
	desc = {
		text = EVTDESC_TOG_7503_MORANA
		trigger = { has_character_modifier = follower_of_morana }
	}

	is_triggered_only = yes
	hide_from = yes

	option = {
		name = EVTOPTA_TOG_7500

		change_learning = 1
	}
}

# Friendship over same diety
character_event = {
	id = TOG.7506
	border = GFX_event_normal_frame_diplomacy
	picture = GFX_evt_tribal_shrine

	desc = {
		text = EVTDESC_TOG_7506_TSUMBURBURA
		trigger = { has_character_modifier = follower_of_tsumburbura }
	}
	desc = {
		text = EVTDESC_TOG_7506_MORANA
		trigger = { has_character_modifier = follower_of_morana }
	}
	desc = {
		text = EVTDESC_TOG_7506_PERUN
		picture = GFX_evt_hunt
		trigger = { has_character_modifier = follower_of_perun }
	}
	desc = {
		text = EVTDESC_TOG_7506_PERKUNAS
		picture = GFX_evt_hunt
		trigger = { has_character_modifier = follower_of_perkunas }
	}
	desc = {
		text = EVTDESC_TOG_7506_TM
		picture = GFX_evt_hunt
		trigger = { has_character_modifier = follower_of_taipo_and_mielikki }
	}
	desc = {
		text = EVTDESC_TOG_7506_DONGO
		picture = GFX_evt_longbowman_arabic
		trigger = { has_character_modifier = follower_of_dongo }
	}
	desc = {
		text = EVTDESC_TOG_7506_UKKO
		picture = GFX_evt_tribal_lands
		trigger = { has_character_modifier = follower_of_ukko }
	}
	desc = {
		text = EVTDESC_TOG_7506_ZEMYNA
		picture = GFX_evt_tribal_lands
		trigger = { has_character_modifier = follower_of_zemyna }
	}
	desc = {
		text = EVTDESC_TOG_7506_JARILO
		picture = GFX_evt_tribal_lands
		trigger = { has_character_modifier = follower_of_jarilo }
	}
	desc = {
		text = EVTDESC_TOG_7506_BIDA
		picture = GFX_evt_carriage
		trigger = { has_character_modifier = follower_of_bida }
	}
	desc = {
		text = EVTDESC_TOG_7506_AYYUR
		trigger = { has_character_modifier = follower_of_ayyur }
	}
	desc = {
		text = EVTDESC_TOG_7506_AKKA
		trigger = { has_character_modifier = follower_of_akka }
	}
	desc = {
		text = EVTDESC_TOG_7506_DIEVAS
		trigger = { has_character_modifier = follower_of_dievas }
	}
	desc = {
		text = EVTDESC_TOG_7506_VELES
		picture = GFX_evt_spymaster
		trigger = { has_character_modifier = follower_of_veles }
	}
	desc = {
		text = EVTDESC_TOG_7506_LEMPO
		picture = GFX_evt_spymaster
		trigger = { has_character_modifier = follower_of_lempo }
	}
	desc = {
		text = EVTDESC_TOG_7506_VELNIAS
		picture = GFX_evt_spymaster
		trigger = { has_character_modifier = follower_of_velnias }
	}

	is_triggered_only = yes

	# Let's be friends
	option = {
		name = EVTOPTA_TOG_7506

		custom_tooltip = { text = EVTOPTA_TOG_7506_TOOLTIP }

		add_friend = event_target:deity_friend
	}

	# Nope
	option = {
		name = EVTOPTB_TOG_7506

		piety = 50
	}
}

# Thunder
character_event = {
	id = TOG.7508
	picture = GFX_evt_comet
	border = GFX_event_normal_frame_diplomacy

	desc = {
		text = EVTDESC_TOG_7508_PERUN
		trigger = { has_character_modifier = follower_of_perun }
	}
	desc = {
		text = EVTDESC_TOG_7508_PERKUNAS
		trigger = { has_character_modifier = follower_of_perkunas }
	}
	desc = {
		text = EVTDESC_TOG_7508_DONGO
		trigger = { has_character_modifier = follower_of_dongo }
	}
	desc = {
		text = EVTDESC_TOG_7508_UKKO
		trigger = { has_character_modifier = follower_of_ukko }
	}

	immediate = {
		event_target:thunder_target = {
			set_character_flag = scared_of_thunder
		}
	}

	is_triggered_only = yes

	# Run out into the storm
	option = {
		name = EVTOPTA_TOG_7508

		custom_tooltip = { text = EVTOPTA_TOG_7508_TOOLTIP }

		piety = 50

		random_list = {
			60 = { }

			25 = {
				if = {
					limit = { trait = brave }
					prestige = 100
				}
				else = {
					add_trait_fully_brave_effect = yes
				}

				event_target:thunder_target = {
					show_scope_change = no

					if = {
						limit = {
							is_adult = no
							has_dlc = "Conclave"
						}

						add_trait = willful
					}
					else = {
						add_trait_fully_brave_effect = yes
					}
				}
			}

			15 = {
				add_character_modifier = {
					name = struck_by_lightning
					months = 4
				}
			}
		}
	}

	# Tell a story
	option = {
		name = EVTOPTB_TOG_7508

		custom_tooltip = { text = EVTOPTB_TOG_7508_TOOLTIP }

		reverse_opinion = {
			name = comforted_opinion
			who = event_target:thunder_target
			years = 5
		}
	}

	# Tough love
	option = {
		name = EVTOPTC_TOG_7508

		custom_tooltip = { text = EVTOPTC_TOG_7508_TOOLTIP }

		reverse_opinion = {
			name = tough_love_opinion
			who = event_target:thunder_target
			years = 5
		}

		random = {
			chance = 25
			add_trait_fully_wroth_effect = yes
		}

		event_target:thunder_target = {
			show_scope_change = no

			random_list = {
				50 = {
					if = {
						limit = {
							is_adult = no
							has_dlc = "Conclave"
						}

						add_trait = willful
					}
					else = {
						add_trait_fully_brave_effect = yes
					}
				}

				50 = {
					if = {
						limit = {
							is_adult = no
							has_dlc = "Conclave"
						}

						if = {
							limit = {
								NOT = { trait = timid }
							}

							add_trait = timid
						}
					}
					else = {
						add_trait_fully_craven_effect = yes
					}
				}
			}
		}
	}

	after = {
		clear_event_target = thunder_target
	}
}

# Lover
character_event = {
	id = TOG.7510
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_diplomacy

	desc = {
		text = EVTDESC_TOG_7510_LEMPO
		trigger = { has_character_modifier = follower_of_lempo }
	}
	desc = {
		text = EVTDESC_TOG_7510_JARILO
		trigger = { has_character_modifier = follower_of_jarilo }
	}

	is_triggered_only = yes

	# Make love
	option = {
		name = {
			text = EVTOPTA_TOG_7510_LEMPO
			trigger = { has_character_modifier = follower_of_lempo }
		}
		name = {
			text = EVTOPTA_TOG_7510_JARILO
			trigger = { has_character_modifier = follower_of_jarilo }
		}

		add_trait_fully_silently_lustful_effect = yes
		piety = 50

		hidden_effect = {
			event_target:pagan_lover = { save_event_target_as = sex_partner }
			unprotected_sex_effect_event_target = yes
		}
	}

	# Become lovers
	option = {
		name = EVTOPTB_TOG_7510

		trigger = {
			NOT = { is_lover = event_target:pagan_lover }
		}

		add_lover = event_target:pagan_lover

		hidden_effect = {
			event_target:pagan_lover = { save_event_target_as = sex_partner }
			unprotected_sex_effect_event_target = yes

			if = {
				limit = { same_sex = event_target:pagan_lover }
				event_target:pagan_lover = { add_trait = homosexual } # TODO: blocked by valid_romance_target
			}
		}
	}

	# Not that interested
	option = {
		name = EVTOPTC_TOG_7510

		custom_tooltip = { text = EVTOPTC_TOG_7510_TOOLTIP }
	}

	after = {
		clear_event_target = pagan_lover
	}
}

# Family is doing well
character_event = {
	id = TOG.7512
	picture = GFX_evt_family
	border = GFX_event_normal_frame_diplomacy

	desc = {
		text = EVTDESC_TOG_7512_ZEMYNA
		trigger = { has_character_modifier = follower_of_zemyna }
	}
	desc = {
		text = EVTDESC_TOG_7512_TSUMBURBURA
		trigger = { has_character_modifier = follower_of_tsumburbura }
	}
	desc = {
		text = EVTDESC_TOG_7512_AKKA
		trigger = { has_character_modifier = follower_of_akka }
	}

	is_triggered_only = yes

	# Everything is going well
	option = {
		name = EVTOPTA_TOG_7512

		# Removes rivalry or become lover
		if = {
			limit = { is_rival = event_target:target_spouse }
			remove_rival = event_target:target_spouse
		}
		else_if = {
			limit = {
				NOT = { is_rival = event_target:target_spouse }
			}

			add_lover = event_target:target_spouse
		}

		# Fertility bonus
		trigger_switch = {
			on_trigger = has_character_modifier

			follower_of_zemyna = {
				add_character_modifier = {
					name = zemynas_blessing
					years = 5
				}
			}

			follower_of_tsumburbura = {
				add_character_modifier = {
					name = tsumburburas_blessing
					years = 5
				}
			}

			follower_of_akka = {
				add_character_modifier = {
					name = akkas_blessing
					years = 5
				}
			}
		}

		# Children become happy
		any_child = {
			show_scope_change = no

			limit = {
				is_child_of = event_target:target_spouse
				vassal_of = ROOT
			}

			opinion = {
				name = happy_parent_opinion
				who = ROOT
				years = 5
			}

			hidden_effect = {
				opinion = {
					name = happy_parent_opinion
					who = event_target:target_spouse
					years = 5
				}
			}
		}

		hidden_effect = {
			event_target:target_spouse = { save_event_target_as = sex_partner }
			unprotected_sex_effect_event_target = yes
		}
	}

	# Not that interested
	option = {
		name = EVTOPTB_TOG_7512

		random = {
			chance = 50
			add_trait_fully_chaste_effect = yes
		}
	}
}

# Child is scared of death
character_event = {
	id = TOG.7514
	border = GFX_event_normal_frame_religion
	picture = GFX_evt_child_play
	desc = EVTDESC_TOG_7514

	is_triggered_only = yes

	# Tell happy tale of death
	option = {
		name = {
			text = EVTOPTA_TOG_7514_MORANA
			trigger = { has_character_modifier = follower_of_morana }
		}
		name = {
			text = EVTOPTA_TOG_7514_VELES
			trigger = { has_character_modifier = follower_of_veles }
		}
		name = {
			text = EVTOPTA_TOG_7514_VELNIAS
			trigger = { has_character_modifier = follower_of_velnias }
		}

		custom_tooltip = { text = EVTOPTA_TOG_7514_TOOLTIP }

		random = {
			chance = 25
			add_trait_partially_kind_effect = yes
		}

		event_target:death_child = {
			show_scope_change = no

			random_list = {
				60 = {
					tooltip = {
						if = {
							limit = { has_dlc = "Conclave" }

							if = {
								limit = {
									NOT = { trait = idolizer }
								}

								add_trait = idolizer
							}
						}
						else_if = {
							limit = {
								NOT = { trait = erudite }
							}

							add_trait = erudite
						}

						change_learning = 1
					}

					set_character_flag = inspiring_tale
				}

				40 = {
					tooltip = {
						if = {
							limit = { has_dlc = "Conclave" }

							if = {
								limit = {
									NOT = { trait = indolent }
								}

								add_trait = indolent
							}
						}
						else_if = {
							limit = {
								NOR = {
									trait = slothful
									trait = diligent
								}
							}

							add_trait = slothful
						}

						change_learning = -1
					}

					set_character_flag = dull_tale
				}
			}
		}

		character_event = {
			id = TOG.7515
			days = 3
		}
	}

	# Tell them a sad tale of death
	option = {
		name = {
			text = EVTOPTB_TOG_7514_MORANA
			trigger = { has_character_modifier = follower_of_morana }
		}
		name = {
			text = EVTOPTB_TOG_7514_VELES
			trigger = { has_character_modifier = follower_of_veles }
		}
		name = {
			text = EVTOPTB_TOG_7514_VELNIAS
			trigger = { has_character_modifier = follower_of_velnias }
		}

		custom_tooltip = { text = EVTOPTB_TOG_7514_TOOLTIP }

		if = {
			limit = { trait = kind }

			random = {
				chance = 50
				remove_trait_kind_effect = yes
			}
		}
		else = {
			random = {
				chance = 25
				add_trait_cruel_effect = yes
			}
		}

		event_target:death_child = {
			show_scope_change = no

			random_list = {
				60 = {
					tooltip = {
						if = {
							limit = { has_dlc = "Conclave" }

							if = {
								limit = {
									NOT = { trait = willful }
								}

								add_trait = willful
							}
						}
						else_if = {
							limit = {
								NOR = {
									trait = brave
									trait = craven
								}
							}

							add_trait = brave
						}

						change_intrigue = 1
					}

					set_character_flag = hardening_tale
				}

				40 = {
					tooltip = {
						if = {
							limit = { has_dlc = "Conclave" }

							if = {
								limit = {
									NOR = {
										trait = timid
										trait = rowdy
									}
								}

								add_trait = timid
							}
						}
						else_if = {
							limit = {
								NOR = {
									trait = brave
									trait = craven
								}
							}

							add_trait = craven
						}

						change_intrigue = -1
					}

					set_character_flag = scary_tale
				}
			}
		}

		character_event = {
			id = TOG.7515
			days = 3
		}
	}

	# No time
	option = {
		name = EVTOPTC_TOG_7514
	}
}

character_event = {
	id = TOG.7515
	picture = GFX_evt_child_reading
	border = GFX_event_normal_frame_religion

	desc = {
		text = EVTDESC_TOG_7515_A
		trigger = { event_target:death_child = { has_character_flag = inspiring_tale } }
	}
	desc = {
		text = EVTDESC_TOG_7515_B
		trigger = { event_target:death_child = { has_character_flag = dull_tale } }
		picture = GFX_evt_child_play
	}
	desc = {
		text = EVTDESC_TOG_7515_C
		trigger = { event_target:death_child = { has_character_flag = hardening_tale } }
	}
	desc = {
		text = EVTDESC_TOG_7515_D
		picture = GFX_evt_child_bully
		trigger = { event_target:death_child = { has_character_flag = scary_tale } }
	}

	is_triggered_only = yes

	option = {
		name = {
			text = EVTOPTA_TOG_7515_MORANA
			trigger = { has_character_modifier = follower_of_morana }
		}
		name = {
			text = EVTOPTA_TOG_7515_VELES
			trigger = { has_character_modifier = follower_of_veles }
		}
		name = {
			text = EVTOPTA_TOG_7515_VELNIAS
			trigger = { has_character_modifier = follower_of_velnias }
		}

		trigger = {
			event_target:death_child = { has_character_flag = inspiring_tale }
		}

		event_target:death_child = {
			show_scope_change = no

			clr_character_flag = inspiring_tale

			if = {
				limit = { has_dlc = "Conclave" }

				if = {
					limit = {
						NOT = { trait = idolizer }
					}

					add_trait = idolizer
				}
			}
			else_if = {
				limit = {
					NOT = { trait = erudite }
				}

				add_trait = erudite
			}

			change_learning = 1
		}
	}

	option = {
		name = {
			text = EVTOPTB_TOG_7515_MORANA
			trigger = { has_character_modifier = follower_of_morana }
		}
		name = {
			text = EVTOPTB_TOG_7515_VELES
			trigger = { has_character_modifier = follower_of_veles }
		}
		name = {
			text = EVTOPTB_TOG_7515_VELNIAS
			trigger = { has_character_modifier = follower_of_velnias }
		}

		trigger = {
			event_target:death_child = { has_character_flag = dull_tale }
		}

		event_target:death_child = {
			show_scope_change = no

			clr_character_flag = dull_tale

			if = {
				limit = { has_dlc = "Conclave" }

				if = {
					limit = {
						NOT = { trait = indolent }
					}

					add_trait = indolent
				}
			}
			else_if = {
				limit = {
					NOR = {
						trait = slothful
						trait = diligent
					}
				}

				add_trait = slothful
			}

			change_learning = -1
		}
	}

	option = {
		name = {
			text = EVTOPTA_TOG_7515_MORANA
			trigger = { has_character_modifier = follower_of_morana }
		}
		name = {
			text = EVTOPTA_TOG_7515_VELES
			trigger = { has_character_modifier = follower_of_veles }
		}
		name = {
			text = EVTOPTA_TOG_7515_VELNIAS
			trigger = { has_character_modifier = follower_of_velnias }
		}

		trigger = {
			event_target:death_child = { has_character_flag = hardening_tale }
		}

		event_target:death_child = {
			show_scope_change = no

			clr_character_flag = hardening_tale

			if = {
				limit = { has_dlc = "Conclave" }

				if = {
					limit = {
						NOT = { trait = willful }
					}

					add_trait = willful
				}
			}
			else_if = {
				limit = {
					NOR = {
						trait = brave
						trait = craven
					}
				}

				add_trait = brave
			}

			change_intrigue = 1
		}
	}

	option = {
		name = {
			text = EVTOPTB_TOG_7515_MORANA
			trigger = { has_character_modifier = follower_of_morana }
		}
		name = {
			text = EVTOPTB_TOG_7515_VELES
			trigger = { has_character_modifier = follower_of_veles }
		}
		name = {
			text = EVTOPTB_TOG_7515_VELNIAS
			trigger = { has_character_modifier = follower_of_velnias }
		}

		trigger = {
			event_target:death_child = { has_character_flag = scary_tale }
		}

		event_target:death_child = {
			clr_character_flag = scary_tale

			if = {
				limit = { has_dlc = "Conclave" }

				if = {
					limit = {
						NOR = {
							trait = timid
							trait = rowdy
						}
					}

					add_trait = timid
				}
			}
			else_if = {
				limit = {
					NOR = {
						trait = brave
						trait = craven
					}
				}

				add_trait = craven
			}

			change_intrigue = -1
		}
	}

	after = {
		clear_event_target = death_child
	}
}

# 16 Martial, increased levy
character_event = {
	id = TOG.7516
	picture = GFX_evt_viking_battle_oldgods
	border = GFX_event_normal_frame_war

	desc = {
		text = EVTDESC_TOG_7516_PERKUNAS
		trigger = { has_character_modifier = follower_of_perkunas }
	}
	desc = {
		text = EVTDESC_TOG_7516_TM
		trigger = { has_character_modifier = follower_of_taipo_and_mielikki }
	}
	desc = {
		text = EVTDESC_TOG_7516_DONGO
		picture = GFX_evt_battle
		trigger = { has_character_modifier = follower_of_dongo }
	}
	desc = {
		text = EVTDESC_TOG_7516_PERUN
		trigger = { has_character_modifier = follower_of_perun }
	}

	is_triggered_only = yes
	hide_from = yes

	option = {
		name = {
			text = EVTOPTA_TOG_7516_A
			trigger = { has_character_modifier = follower_of_taipo_and_mielikki }
		}
		name = {
			text = EVTOPTA_TOG_7516_B
			trigger = { NOT = { has_character_modifier = follower_of_taipo_and_mielikki } }
		}

		capital_scope = {
			show_scope_change = no

			add_province_modifier = {
				name = inspired_warriors
				years = 10
			}
		}
	}
}

# Healthy from hunting
character_event = {
	id = TOG.7517
	border = GFX_event_normal_frame_war
	desc = EVTDESC_TOG_7517
	picture = GFX_evt_hunt

	is_triggered_only = yes

	option = {
		name = EVTOPTA_TOG_7517

		add_character_modifier = {
			name = hunters_physique
			years = 10
		}
	}
}

# 18 diplomacy, vassal boost
character_event = {
	id = TOG.7518
	picture = GFX_evt_princess_byzantine
	border = GFX_event_normal_frame_diplomacy

	desc = {
		text = EVTDESC_TOG_7518_DIEVAS
		trigger = { has_character_modifier = follower_of_dievas }
	}
	desc = {
		text = EVTDESC_TOG_7518_AKKA
		trigger = { has_character_modifier = follower_of_akka }
	}
	desc = {
		text = EVTDESC_TOG_7518_AYYUR
		picture = GFX_evt_emissary_arabic
		trigger = { has_character_modifier = follower_of_ayyur }
	}

	is_triggered_only = yes
	hide_from = yes

	option = {
		name = {
			text = EVTOPTA_TOG_7518_A
			trigger = { has_character_modifier = follower_of_dievas }
		}
		name = {
			text = EVTOPTA_TOG_7518_B
			trigger = { NOT = { has_character_modifier = follower_of_dievas } }
		}

		trigger_switch = {
			on_trigger = has_character_modifier

			follower_of_dievas = {
				add_character_modifier = {
					name = voice_of_dievas
					years = 10
				}
			}

			follower_of_akka = {
				add_character_modifier = {
					name = voice_of_akka
					years = 10
				}
			}

			follower_of_ayyur = {
				add_character_modifier = {
					name = voice_of_ayyur
					years = 10
				}
			}
		}
	}
}

# 20 Stewardship, tax or prosperity
character_event = {
	id = TOG.7520
	picture = GFX_evt_tribal_lands
	border = GFX_event_normal_frame_economy

	desc = {
		text = EVTDESC_TOG_7520_ZEMYNA
		trigger = { has_character_modifier = follower_of_zemyna }
	}
	desc = {
		text = EVTDESC_TOG_7520_UKKO
		trigger = { has_character_modifier = follower_of_ukko }
	}
	desc = {
		text = EVTDESC_TOG_7520_JARILO
		trigger = { has_character_modifier = follower_of_jarilo }
	}
	desc = {
		text = EVTDESC_TOG_7520_BIDA
		picture = GFX_evt_market_byzantine
		trigger = { has_character_modifier = follower_of_bida }
	}

	is_triggered_only = yes
	hide_from = yes

	option = {
		name = EVTOPTA_TOG_7520

		# Changes depopulation/prosperity
		capital_scope = {
			show_scope_change = no

			if = {
				limit = {
					has_dlc = "Reapers"
					NOT = { has_province_modifier = prosperity_modifier_3 }
				}

				decrease_depopulation_effect = yes
				increase_prosperity_effect = yes
			}
			else = {
				add_province_modifier = {
					name = blessed_lands
					years = 10
				}
			}
		}
	}
}

# 22 Intrigue, reveals plot
character_event = {
	id = TOG.7522
	picture = GFX_evt_shadowy_cabal
	border = GFX_event_normal_frame_intrigue

	hide_from = yes

	desc = {
		text = EVTDESC_TOG_7522_LEMPO_ME
		trigger = {
			has_character_modifier = follower_of_lempo
			character = event_target:god_plot_target
		}
	}
	desc = {
		text = EVTDESC_TOG_7522_VELNIAS_ME
		trigger = {
			has_character_modifier = follower_of_velnias
			character = event_target:god_plot_target
		}
	}
	desc = {
		text = EVTDESC_TOG_7522_VELES_ME
		trigger = {
			has_character_modifier = follower_of_veles
			character = event_target:god_plot_target
		}
	}
	desc = {
		text = EVTDESC_TOG_7522_LEMPO
		trigger = {
			has_character_modifier = follower_of_lempo
			NOT = { character = event_target:god_plot_target }
		}
	}
	desc = {
		text = EVTDESC_TOG_7522_VELNIAS
		trigger = {
			has_character_modifier = follower_of_velnias
			NOT = { character = event_target:god_plot_target }
		}
	}
	desc = {
		text = EVTDESC_TOG_7522_VELES
		trigger = {
			has_character_modifier = follower_of_veles
			NOT = { character = event_target:god_plot_target }
		}
	}

	immediate = {
		random_realm_character = {
			limit = {
				has_plot = yes
				NOT = { plot_is_known_by = ROOT }
			}

			preferred_limit = {
				plot_target_char = { character = ROOT }
			}

			preferred_limit = {
				plot_target_char = { is_close_relative = ROOT }
			}

			preferred_limit = {
				plot_target_char = { is_landed = yes }
			}

			save_event_target_as = god_plotter

			plot_target_char = {
				save_event_target_as = god_plot_target
			}
		}
	}

	is_triggered_only = yes

	option = {
		name = {
			text = EVTOPTA_TOG_7522_A
			trigger = { character = event_target:god_plot_target }
		}
		name = {
			text = EVTOPTA_TOG_7522_B
			trigger = {
				opinion = {
					who = event_target:god_plot_target
					value >= 20
				}
			}
		}
		name = {
			text = EVTOPTA_TOG_7522_C
			trigger = {
				opinion = {
					who = event_target:god_plot_target
					value < 20
				}
			}
		}

		event_target:god_plotter = {
			show_scope_change = no

			reveal_plot = yes
		}

	}
}

# 24 Learning, tech bonus
character_event = {
	id = TOG.7524
	picture = GFX_evt_library
	border = GFX_event_normal_frame_religion

	desc = {
		text = EVTDESC_TOG_7524_TSUMBURBURA
		trigger = { has_character_modifier = follower_of_tsumburbura }
	}
	desc = {
		text = EVTDESC_TOG_7524_MORANA
		trigger = { has_character_modifier = follower_of_morana }
	}

	is_triggered_only = yes
	hide_from = yes

	option = {
		name = EVTOPTA_TOG_7524

		random_list = {
			33 = { military_techpoints = 100 }
			33 = { economy_techpoints = 100 }
			33 = { culture_techpoints = 100 }
		}
	}
}

# Monument in honor
character_event = {
	id = TOG.7526
	picture = GFX_evt_irminsul_shrine
	border = GFX_event_normal_frame_economy
	portrait = job_treasurer

	desc = {
		text = EVTDESC_TOG_7526
		picture = GFX_evt_sun_temple
		trigger = { religion_openly_west_african_or_reformed_trigger = yes }
	}
	desc = {
		text = EVTDESC_TOG_7526
		trigger = { religion_openly_west_african_or_reformed_trigger = no }
	}

	is_triggered_only = yes

	option = {
		name = {
			text = EVTOPTA_TOG_7526_TSUMBURBURA
			trigger = { has_character_modifier = follower_of_tsumburbura }
		}
		name = {
			text = EVTOPTA_TOG_7526_MORANA
			trigger = { has_character_modifier = follower_of_morana }
		}
		name = {
			text = EVTOPTA_TOG_7526_PERUN
			trigger = { has_character_modifier = follower_of_perun }
		}
		name = {
			text = EVTOPTA_TOG_7526_PERKUNAS
			trigger = { has_character_modifier = follower_of_perkunas }
		}
		name = {
			text = EVTOPTA_TOG_7526_TM
			trigger = { has_character_modifier = follower_of_taipo_and_mielikki }
		}
		name = {
			text = EVTOPTA_TOG_7526_DONGO
			trigger = { has_character_modifier = follower_of_dongo }
		}
		name = {
			text = EVTOPTA_TOG_7526_UKKO
			trigger = { has_character_modifier = follower_of_ukko }
		}
		name = {
			text = EVTOPTA_TOG_7526_ZEMYNA
			trigger = { has_character_modifier = follower_of_zemyna }
		}
		name = {
			text = EVTOPTA_TOG_7526_JARILO
			trigger = { has_character_modifier = follower_of_jarilo }
		}
		name = {
			text = EVTOPTA_TOG_7526_BIDA
			trigger = { has_character_modifier = follower_of_bida }
		}
		name = {
			text = EVTOPTA_TOG_7526_AYYUR
			trigger = { has_character_modifier = follower_of_ayyur }
		}
		name = {
			text = EVTOPTA_TOG_7526_AKKA
			trigger = { has_character_modifier = follower_of_akka }
		}
		name = {
			text = EVTOPTA_TOG_7526_DIEVAS
			trigger = { has_character_modifier = follower_of_dievas }
		}
		name = {
			text = EVTOPTA_TOG_7526_VELES
			trigger = { has_character_modifier = follower_of_veles }
		}
		name = {
			text = EVTOPTA_TOG_7526_LEMPO
			trigger = { has_character_modifier = follower_of_lempo }
		}
		name = {
			text = EVTOPTA_TOG_7526_VELNIAS
			trigger = { has_character_modifier = follower_of_velnias }
		}
		name = {
			text = EVTOPTA_TOG_7526_ANANSI
			trigger = { has_character_modifier = follower_of_anansi }
		}
		name = {
			text = EVTOPTA_TOG_7526_DAN
			trigger = { has_character_modifier = follower_of_dan }
		}

		custom_tooltip = {
			text = EVTOPTA_TOG_7525_TOOLTIP

			character_event = {
				id = TOG.7527
				years = 1
			}

			set_character_flag = pagan_monument
			set_character_flag = monument_for_diety
		}

		scaled_wealth = {
			value = -0.25
			min = -20
		}

		capital_scope = {
			show_scope_change = no

			add_province_modifier = {
				name = building_monument
				years = 1
			}
		}
	}

	option = {
		name = EVTOPTB_TOG_7526

		custom_tooltip = {
			text = EVTOPTB_TOG_7525_TOOLTIP

			character_event = {
				id = TOG.7527
				years = 1
			}

			set_character_flag = monument_for_ancestors
			set_character_flag = pagan_monument
		}

		scaled_wealth = {
			value = -0.25
			min = -20
		}

		capital_scope = {
			show_scope_change = no

			add_province_modifier = {
				name = building_monument
				years = 1
			}
		}
	}

	option = {
		name = EVTOPTC_TOG_7526
	}
}

character_event = {
	id = TOG.7527
	desc = EVTDESC_TOG_7527_TSUMBURBURA
	picture = GFX_evt_irminsul_shrine
	border = GFX_event_normal_frame_economy

	desc = {
		text = EVTDESC_TOG_7527_ANCESTORS
		trigger = {
			has_character_flag = monument_for_ancestors
			religion_openly_west_african_or_reformed_trigger = no
		}
	}
	desc = {
		text = EVTDESC_TOG_7527_ANCESTORS
		picture = GFX_evt_sun_temple
		trigger = {
			has_character_flag = monument_for_ancestors
			religion_openly_west_african_or_reformed_trigger = yes
		}
	}
	desc = {
		text = EVTDESC_TOG_7527_TSUMBURBURA
		picture = GFX_evt_sun_temple
		trigger = {
			NOT = { has_character_flag = monument_for_ancestors }
			has_character_modifier = follower_of_tsumburbura
		}
	}
	desc = {
		text = EVTDESC_TOG_7527_MORANA
		trigger = {
			NOT = { has_character_flag = monument_for_ancestors }
			has_character_modifier = follower_of_morana
		}
	}
	desc = {
		text = EVTDESC_TOG_7527_PERUN
		trigger = {
			NOT = { has_character_flag = monument_for_ancestors }
			has_character_modifier = follower_of_perun
		}
	}
	desc = {
		text = EVTDESC_TOG_7527_PERKUNAS
		trigger = {
			NOT = { has_character_flag = monument_for_ancestors }
			has_character_modifier = follower_of_perkunas
		}
	}
	desc = {
		text = EVTDESC_TOG_7527_TM
		trigger = {
			NOT = { has_character_flag = monument_for_ancestors }
			has_character_modifier = follower_of_taipo_and_mielikki
		}
	}
	desc = {
		text = EVTDESC_TOG_7527_DONGO
		picture = GFX_evt_sun_temple
		trigger = {
			NOT = { has_character_flag = monument_for_ancestors }
			has_character_modifier = follower_of_dongo
		}
	}
	desc = {
		text = EVTDESC_TOG_7527_UKKO
		trigger = {
			NOT = { has_character_flag = monument_for_ancestors }
			has_character_modifier = follower_of_ukko
		}
	}
	desc = {
		text = EVTDESC_TOG_7527_ZEMYNA
		trigger = {
			NOT = { has_character_flag = monument_for_ancestors }
			has_character_modifier = follower_of_zemyna
		}
	}
	desc = {
		text = EVTDESC_TOG_7527_JARILO
		trigger = {
			NOT = { has_character_flag = monument_for_ancestors }
			has_character_modifier = follower_of_jarilo
		}
	}
	desc = {
		text = EVTDESC_TOG_7527_BIDA
		picture = GFX_evt_sun_temple
		trigger = {
			NOT = { has_character_flag = monument_for_ancestors }
			has_character_modifier = follower_of_bida
		}
	}
	desc = {
		text = EVTDESC_TOG_7527_AYYUR
		picture = GFX_evt_sun_temple
		trigger = {
			NOT = { has_character_flag = monument_for_ancestors }
			has_character_modifier = follower_of_ayyur
		}
	}
	desc = {
		text = EVTDESC_TOG_7527_AKKA
		trigger = {
			NOT = { has_character_flag = monument_for_ancestors }
			has_character_modifier = follower_of_akka
		}
	}
	desc = {
		text = EVTDESC_TOG_7527_DIEVAS
		trigger = {
			NOT = { has_character_flag = monument_for_ancestors }
			has_character_modifier = follower_of_dievas
		}
	}
	desc = {
		text = EVTDESC_TOG_7527_VELES
		trigger = {
			NOT = { has_character_flag = monument_for_ancestors }
			has_character_modifier = follower_of_veles
		}
	}
	desc = {
		text = EVTDESC_TOG_7527_LEMPO
		trigger = {
			NOT = { has_character_flag = monument_for_ancestors }
			has_character_modifier = follower_of_lempo
		}
	}
	desc = {
		text = EVTDESC_TOG_7527_VELNIAS
		trigger = {
			NOT = { has_character_flag = monument_for_ancestors }
			has_character_modifier = follower_of_velnias
		}
	}
	desc = {
		text = EVTDESC_TOG_7527_ANANSI
		trigger = {
			NOT = { has_character_flag = monument_for_ancestors }
			has_character_modifier = follower_of_anansi
		}
	}
	desc = {
		text = EVTDESC_TOG_7527_DAN
		trigger = {
			NOT = { has_character_flag = monument_for_ancestors }
			has_character_modifier = follower_of_dan
		}
	}

	is_triggered_only = yes
	hide_from = yes

	option = {
		name = EVTOPTA_TOG_7527

		if = {
			limit = { has_character_flag = monument_for_diety }

			piety = 250
			clr_character_flag = monument_for_diety

			capital_scope = {
				show_scope_change = no

				remove_province_modifier = building_monument

				add_province_modifier = {
					name = holy_monument
					duration = -1
				}
			}
		}
		else = {
			prestige = 250
			clr_character_flag = monument_for_ancestors

			capital_scope = {
				show_scope_change = no

				remove_province_modifier = building_monument

				add_province_modifier = {
					name = ancestral_monument
					duration = -1
				}
			}
		}

		save_event_target_as = monument_erector

		capital_scope = {
			province_event = {
				id = TOG.7528
				years = 1
			}
		}
	}
}

# Removing monument # TODO: on_new_holder instead?
province_event = {
	id = TOG.7528

	hide_window = yes
	is_triggered_only = yes

	trigger = {
		OR = {
			has_province_modifier = holy_monument
			has_province_modifier = ancestral_monument
		}
	}

	immediate = {
		if = {
			limit = {
				NOT = { owned_by = event_target:monument_erector }
			}

			remove_province_modifier = holy_monument
			remove_province_modifier = ancestral_monument
		}
		else = {
			province_event = {
				id = TOG.7528
				years = 1
			}
		}
	}
}