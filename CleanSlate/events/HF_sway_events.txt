# Written by Flavio

namespace = HF

# on_five_years pulse handling the AI picking a Swaying target
character_event = {
	id = HF.21998

	is_triggered_only = yes # on_five_year_pulse
	hide_window = yes

	only_playable = yes
	has_dlc = "Holy Fury"
	ai = yes
	only_capable = yes
	prisoner = no
	min_age = 16

	trigger = {
		is_landed = yes
		is_inaccessible_trigger = no

		NOT = {
			persistent_event_target:sway_target = {
				is_alive = yes
			}
		}
	}

	immediate = {
		if = {
			limit = { persistent_event_target:sway_target = { always = yes } }

			persistent_event_target:sway_target = {
				clr_character_flag = flag_character_being_swayed
			}

			remove_special_interest = persistent_event_target:sway_target
		}

		random_realm_character = {
			limit = {
				OR = {
					vassal_of = ROOT
					is_heir = ROOT
					has_job_title = yes
				}

				is_adult = yes
				is_inaccessible_trigger = no
				is_incapable = no

				trigger_if = {
					limit = {
						NOT = { religion_group = ROOT }
					}

					trigger_if = {
						limit = { religion_group = christian }
						ROOT = { trait = sympathy_christendom }
					}
					trigger_else_if = {
						limit = { religion_group = muslim }
						ROOT = { trait = sympathy_islam }
					}
					trigger_else_if = {
						limit = { religion_group = pagan_group }
						ROOT = { trait = sympathy_pagans }
					}
					trigger_else_if = {
						limit = { religion_group = zoroastrian_group }
						ROOT = { trait = sympathy_zoroastrianism }
					}
					trigger_else_if = {
						limit = { religion_group = jewish_group }
						ROOT = { trait = sympathy_judaism }
					}
					trigger_else = {
						religion_group = indian_group
						ROOT = { trait = sympathy_indian }
					}
				}

				NOR = {
					has_opinion_modifier = {
						name = opinion_rebuked_swayer_cooldown
						who = ROOT
					}

					is_lover = ROOT
					is_rival = ROOT
					is_friend = ROOT
					has_character_flag = flag_character_being_swayed
					has_character_flag = flag_character_being_antagonized

					trigger_if = {
						limit = { religion_group = pagan_group }
						NOT = { religion = ROOT }
						ROOT = { trait = zealous }
					}
				}
			}

			random = {
				chance = 70

				mult_modifier = {
					factor = 3 # Vassal of player more likely to suck up to him.
					ai = no
					is_liege_of = ROOT
				}

				# Soft AI triggers
				mult_modifier = {
					factor = 0.5
					lower_real_tier_than = DUKE
				}

				mult_modifier = {
					factor = 0.5
					lower_real_tier_than = COUNT
				}

				# Evil claimant to my title
				mult_modifier = {
					factor = 0.1
					any_claim = { holder = ROOT  }
				}

				# Trait modifiers
				mult_modifier = {
					factor = 0.25
					ROOT = { trait = shy }
				}

				mult_modifier = {
					factor = 3
					ROOT = { trait = gregarious }
				}

				mult_modifier = {
					factor = 3
					ROOT = { trait = socializer }
				}

				mult_modifier = {
					factor = 2
					ROOT = { trait = hedonist }
				}

				mult_modifier = {
					factor = 2
					ROOT = { has_focus = focus_carousing }
				}

				mult_modifier = {
					factor = 2
					ROOT = {
						has_focus = focus_family
						is_close_relative = PREV
					}
				}

				# Trait compatibility modifiers
				mult_modifier = {
					factor = 7

					calc_true_if = {
						amount >= 4

						AND = {
							trait = lustful
							ROOT = { trait = lustful }
						}

						AND = {
							trait = gluttonous
							ROOT = { trait = gluttonous }
						}

						AND = {
							trait = greedy
							ROOT = { trait = greedy }
						}

						AND = {
							trait = slothful
							ROOT = { trait = slothful }
						}

						AND = {
							trait = wroth
							ROOT = { trait = wroth }
						}

						AND = {
							trait = envious
							ROOT = { trait = envious }
						}

						AND = {
							trait = proud
							ROOT = { trait = proud }
						}

						AND = {
							trait = chaste
							ROOT = { trait = chaste }
						}

						AND = {
							trait = temperate
							ROOT = { trait = temperate }
						}

						AND = {
							trait = charitable
							ROOT = { trait = charitable }
						}

						AND = {
							trait = diligent
							ROOT = { trait = diligent }
						}

						AND = {
							trait = patient
							ROOT = { trait = patient }
						}

						AND = {
							trait = kind
							ROOT = { trait = kind }
						}

						AND = {
							trait = humble
							ROOT = { trait = humble }
						}

						AND = {
							trait = deceitful
							ROOT = { trait = deceitful }
						}

						AND = {
							trait = honest
							ROOT = { trait = honest }
						}

						AND = {
							trait = brave
							ROOT = { trait = brave }
						}

						AND = {
							trait = craven
							ROOT = { trait = craven }
						}

						AND = {
							trait = gregarious
							ROOT = { trait = gregarious }
						}

						AND = {
							trait = ambitious
							ROOT = { trait = ambitious }
						}

						AND = {
							trait = content
							ROOT = { trait = content }
						}

						AND = {
							trait = arbitrary
							ROOT = { trait = arbitrary }
						}

						AND = {
							trait = just
							ROOT = { trait = just }
						}

						AND = {
							trait = cynical
							ROOT = { trait = cynical }
						}

						AND = {
							trait = zealous
							ROOT = { trait = zealous }
						}

						AND = {
							trait = paranoid
							ROOT = { trait = paranoid }
						}

						AND = {
							trait = trusting
							ROOT = { trait = trusting }
						}

						AND = {
							trait = cruel
							ROOT = { trait = cruel }
						}

						AND = {
							trait = erudite
							ROOT = { trait = erudite }
						}

						AND = {
							trait = stubborn
							ROOT = { trait = stubborn }
						}

						AND = {
							trait = hedonist
							ROOT = { trait = hedonist }
						}

						AND = {
							trait = scholar
							ROOT = { trait = scholar }
						}

						AND = {
							trait = gardener
							ROOT = { trait = gardener }
						}

						AND = {
							trait = mystic
							ROOT = { trait = mystic }
						}

						AND = {
							trait = impaler
							ROOT = { trait = impaler }
						}

						AND = {
							trait = duelist
							ROOT = { trait = duelist }
						}

						AND = {
							trait = hunter
							ROOT = { trait = hunter }
						}

						AND = {
							trait = master_seducer
							ROOT = { trait = master_seducer }
						}

						AND = {
							trait = master_seductress
							ROOT = { trait = master_seductress }
						}

						AND = {
							trait = administrator
							ROOT = { trait = administrator }
						}

						AND = {
							trait = architect
							ROOT = { trait = architect }
						}

						AND = {
							trait = strategist
							ROOT = { trait = strategist }
						}

						AND = {
							trait = socializer
							ROOT = { trait = socializer }
						}

						AND = {
							trait = master_schemer
							ROOT = { trait = master_schemer }
						}

						AND = {
							trait = theologian
							religion = ROOT
							ROOT = { trait = theologian }
						}

						AND = {
							trait = game_master
							ROOT = { trait = game_master }
						}
					}
				}

				# Opinion modifiers
				mult_modifier = {
					factor = 1.25

					reverse_opinion = {
						who = ROOT
						value >= 30
					}
				}

				mult_modifier = {
					factor = 1.25

					reverse_opinion = {
						who = ROOT
						value >= 50
					}
				}

				mult_modifier = {
					factor = 1.5

					reverse_opinion = {
						who = ROOT
						value >= 70
					}
				}

				mult_modifier = {
					factor = 1.75

					reverse_opinion = {
						who = ROOT
						value >= 100
					}
				}

				mult_modifier = {
					factor = 1.5

					opinion = {
						who = ROOT
						value < 0
					}

					reverse_opinion = {
						who = ROOT
						value >= 30
					}
				}

				mult_modifier = {
					factor = 1.5

					opinion = {
						who = ROOT
						value < -20
					}

					reverse_opinion = {
						who = ROOT
						value >= 30
					}
				}

				mult_modifier = {
					factor = 2

					opinion = {
						who = ROOT
						value < -40
					}

					reverse_opinion = {
						who = ROOT
						value >= 30
					}
				}

				mult_modifier = {
					factor = 2

					opinion = {
						who = ROOT
						value < -60
					}

					reverse_opinion = {
						who = ROOT
						value >= 30
					}
				}

				mult_modifier = {
					factor = 3

					opinion = {
						who = ROOT
						value < -80
					}

					reverse_opinion = {
						who = ROOT
						value >= 30
					}
				}

				ROOT = {
					save_persistent_event_target = {
						name = sway_target
						scope = PREV
					}

					add_special_interest = {
						who = persistent_event_target:sway_target
						key = swaying_target_key
					}

					persistent_event_target:sway_target = {
						set_character_flag = flag_character_being_swayed # Only used for AI weights
					}
				}
			}
		}
	}
}

character_event = {
	id = HF.21999

	is_triggered_only = yes # on_yearly_pulse
	hide_window = yes

	has_dlc = "Holy Fury"
	prisoner = no
	only_capable = yes

	trigger = {
		# If character has become incapable, out of reach or otherwise unable to be interacted with, a notification event will be sent.
		persistent_event_target:sway_target = {
			is_alive = yes
		}
	}

	immediate = {
		character_event = {
			id = HF.21000
			days = 30
			random = 30
		}
	}
}

# Giant yearly event firing all the events related to swaying
character_event = {
	id = HF.21000

	is_triggered_only = yes
	hide_window = yes

	only_capable = yes
	prisoner = no

	trigger = {
		# If character has become incapable, out of reach or otherwise unable to be interacted with, a notification event will be sent.
		persistent_event_target:sway_target = {
			is_alive = yes
		}
	}

	immediate = {
		################## CLEAN UP EVENTS ####################

		if = {
			limit = {
				trigger_if = {
					limit = { in_seclusion = yes }

					persistent_event_target:sway_target = {
						NAND = {
							in_seclusion = yes
							at_location = ROOT
						}
					}
				}
				trigger_else = {
					persistent_event_target:sway_target = {
						in_seclusion = yes
					}
				}
			}

			character_event = { id = HF.21002 } # You or your target have separately gone into Seclusion (somehow), clear target
		}
		else_if = {
			limit = {
				persistent_event_target:sway_target = { prisoner = yes }
				NOT = { has_character_flag = flag_swayed_prisoner_notification }
			}

			character_event = { id = HF.21005 } # Imprisoned, clear event target
		}
		else_if = {
			limit = {
				persistent_event_target:sway_target = { is_incapable = yes }
			}

			character_event = { id = HF.21008 } # Incapable, clear event target
		}
		else_if = {
			limit = {
				is_rival = persistent_event_target:sway_target
				NOT = { trait = arbitrary } # Arbitrary Swayers can keep swaying their Rivals
			}

			character_event = { id = HF.21123 } # Swayed has turned into a rival, clear target
		}
	#	else_if = {
	#		# Out of range, clear event target.
	#		limit = {
	#			NOT = { is_within_diplo_range = persistent_event_target:sway_target  }
	#		}
	#
	#		character_event = { id = HF.21003 }
	#	}
		else_if = { # You have succeeded, clear event target.
			limit = {
				reverse_opinion = {
					who = persistent_event_target:sway_target
					value >= 70
				}

				NOT = { has_character_flag = flag_swayed_swayed_notification }
			}

			character_event = { id = HF.21010 }
		}

		### Other important events that block the rest ###
		else_if = {
			limit = {
				persistent_event_target:sway_target = {
					OR = {
						personal_grievance_trigger = yes
						family_grievance_trigger = yes
					}
				}
			}

			character_event = { id = HF.21127 } # Hurt Swayed needs to be apologized to
		}
		else_if = {
			limit = { war_with = persistent_event_target:sway_target }
			character_event = { id = HF.21140 } # War friends event
		}
		else = {
			random_list = {
				100 = { # You're in Seclusion at the same time, at the same location...
					trigger = {
						in_seclusion = yes
						is_opposite_sex = persistent_event_target:sway_target
						at_location = persistent_event_target:sway_target
						is_adult = yes

						persistent_event_target:sway_target = {
							in_seclusion = yes
							can_marry = yes
							is_adult = yes
							is_consort = no
							has_lover = no
						}

						NOR = {
							trait = celibate
							has_character_flag = seclusion_lazy_seduction
						}

						opinion = {
							who = persistent_event_target:sway_target
							value >= 0
						}
					}

					set_character_flag = seclusion_lazy_seduction_V2@persistent_event_target:sway_target # Flag for sway event description
					character_event = { id = RIP.12007 } # Seclusion romance (old event, an updated text)
				}

				################## TIER ONE EVENTS (Generic, Education traits) ####################

				1 = { # Send generic letter to improve relations
					trigger = {
						NOT = { at_location = persistent_event_target:sway_target }
					}

					character_event = { id = HF.21012 }
				}

				1 = { # Generic swaying event based on diplomacy
					character_event = { id = HF.21017 }
				}

				1 = { # Send generic gift to improve opinion
					trigger = {
						# Need money to buy gift
						wealth >= 70
						NOT = { has_character_flag = flag_tired_of_gifts }
					}

					mult_modifier = { # Less likely to have money to spare
						factor = 0.2
						is_tribal = yes
					}

					character_event = { id = HF.21021 }
				}

				1 = { # Send Tribal honors (prestige) to improve opinion
					trigger = { is_tribal = yes }
					character_event = { id = HF.21026 }
				}

				2 = { # Use martial education to sway character
					trigger = {
						OR = {
							has_education_martial_trigger = yes
							trait = strategist
						}
					}

					character_event = { id = HF.21031 }
				}

				3 = { # Use your raw diplomatic skills to sway character
					trigger = {
						OR = {
							has_education_diplomacy_trigger = yes
							trait = socializer
						}
					}

					character_event = { id = HF.21036 }
				}

				2 = { # Use your stewardship education to sway character
					trigger = {
						OR = {
							has_education_stewardship_trigger = yes
							trait = administrator
							trait = greedy
							trait = diligent
						}
					}

					character_event = { id = HF.21041 }
				}

				1 = { # Use your learning education to sway character
					trigger = {
						OR = {
							has_education_learning_trigger = yes
							trait = scholar
						}
					}

					mult_modifier = {
						factor = 0.1
						war_with = persistent_event_target:sway_target
					}

					character_event = { id = HF.21046 }
				}

				1 = { # Use your educational trait to improve your sway target's
					trigger = {
						persistent_event_target:sway_target = {
							lower_educational_trait_trigger = yes
						}
					}

					mult_modifier = {
						factor = 0.5

						trigger_if = {
							limit = { has_education_diplomacy_trigger = yes }

							attribute_diff = {
								character = persistent_event_target:sway_target
								attribute = diplomacy
								value < 5
							}
						}
						trigger_else_if = {
							limit = { has_education_martial_trigger = yes }

							attribute_diff = {
								character = persistent_event_target:sway_target
								attribute = martial
								value < 5
							}
						}
						trigger_else_if = {
							limit = { has_education_stewardship_trigger = yes }

							attribute_diff = {
								character = persistent_event_target:sway_target
								attribute = stewardship
								value < 5
							}
						}
						trigger_else_if = {
							limit = { has_education_intrigue_trigger = yes }

							attribute_diff = {
								character = persistent_event_target:sway_target
								attribute = intrigue
								value < 5
							}
						}
						trigger_else_if = {
							limit = { has_education_learning_trigger = yes }

							attribute_diff = {
								character = persistent_event_target:sway_target
								attribute = learning
								value < 5
							}
						}
					}

					character_event = { id = HF.42000 }
				}

				################## TIER TWO EVENTS (Personality traits) ####################

				1 = { # Lustful event
					trigger = { trait = lustful }
					character_event = { id = HF.21051 }
				}

				1 = { # Gluttonous event
					trigger = { trait = gluttonous }
					character_event = { id = HF.21056 }
				}

				1 = { # Slothful event
					trigger = { trait = slothful }
					character_event = { id = HF.21061 }
				}

				1 = { # Wroth event
					trigger = { trait = wroth }
					character_event = { id = HF.21066 }
				}

				1 = { # Proud event
					trigger = { trait = proud }
					character_event = { id = HF.21071 }
				}

				5 = { # Kind event
					trigger = {
						OR = {
							trait = kind
							trait = gregarious
						}
					}

					character_event = { id = HF.21076 }
				}

				2 = { # Cruel event
					trigger = {
						OR = {
							trait = cruel
							trait = impaler
							trait = envious
						}
					}

					character_event = { id = HF.21085 }
				}

				3 = { # Poet event
					trigger = { trait = poet }
					character_event = { id = HF.21090 }
				}

				1 = { # Defecting general
					trigger = {
						persistent_event_target:sway_target = {
							has_minor_title = title_commander
							in_command = yes
							independent = no
							liege = { war_with = ROOT }

							opinion = {
								who = ROOT
								value >= 50
							}
						}
					}

					persistent_event_target:sway_target = {
						character_event = { id = HF.21094 }
					}
				}

				################## TIER THREE EVENTS (Event chains) ####################

				5 = { # Long visit
					trigger = {
						opinion = {
							who = persistent_event_target:sway_target
							value >= -40
						}

						NOT = { has_character_modifier = sway_visit_cooldown }
					}

					mult_modifier = {
						factor = 0.5
						trait = shy
					}

					mult_modifier = {
						factor = 1.5
						trait = gregarious
					}

					mult_modifier = {
						factor = 1.5
						trait = socializer
					}

					mult_modifier = {
						factor = 1.5
						trait = hedonist
					}

					mult_modifier = {
						factor = 1.5
						has_focus = focus_carousing
					}

					mult_modifier = {
						factor = 1.5

						has_focus = focus_family

						OR = {
							is_close_relative = persistent_event_target:sway_target
							is_married = persistent_event_target:sway_target
						}
					}

					character_event = { id = HF.21098 }
				}

				################## TIER FOUR EVENTS (Lifestyle Events) ####################

				2 = { # Invite to lifestyle event
					trigger = {
						lifestyle_traits >= 1

						persistent_event_target:sway_target = {
							NOT = { has_character_flag = lifestyle_sway_event }
						}
					}

					mult_modifier = {
						factor = 2

						trigger_if = {
							limit = { trait = hunter }
							persistent_event_target:sway_target = { trait = hunter }
						}
						trigger_else_if = {
							limit = { trait = duelist }
							persistent_event_target:sway_target = { trait = duelist }
						}
						trigger_else_if = {
							limit = {
								OR = {
									trait = strategist
									trait = game_master
								}
							}

							persistent_event_target:sway_target = {
								OR = {
									trait = strategist
									trait = game_master
								}
							}
						}
						trigger_else_if = {
							limit = {
								OR = {
									trait = socializer
									trait = master_seducer
									trait = master_seductress
									trait = hedonist
								}

								persistent_event_target:sway_target = {
									OR = {
										trait = socializer
										trait = master_seducer
										trait = master_seductress
										trait = hedonist
									}
								}
							}
						}
						trigger_else_if = {
							limit = {
								OR = {
									trait = mystic
									trait = scholar
									trait = faqih
									trait = theologian
								}
							}

							persistent_event_target:sway_target = {
								OR = {
									trait = mystic
									trait = scholar
									trait = faqih
									trait = theologian
								}
							}
						}
						trigger_else_if = {
							limit = {
								OR = {
									trait = administrator
									trait = architect
									trait = gardener
								}
							}

							persistent_event_target:sway_target = {
								OR = {
									trait = administrator
									trait = architect
									trait = gardener
								}
							}
						}
						trigger_else_if = {
							limit = {
								OR = {
									trait = master_schemer
									trait = impaler
								}
							}

							persistent_event_target:sway_target = {
								OR = {
									trait = master_schemer
									trait = impaler
								}
							}
						}
					}

					character_event = { id = HF.42020 }
				}

				# MORE EVENTS HERE (OR ABOVE, DEPENDING ON CATEGORY)
			}
		}
	}
}

# on_death of sway_target, clear persistent event target
character_event = {
	id = HF.21001

	is_triggered_only = yes # on_death
	hide_window = yes

	has_character_flag = flag_character_being_swayed

	immediate = {
		clr_character_flag = flag_character_being_swayed

		any_playable_ruler = {
			limit = {
				persistent_event_target:sway_target = {
					character = ROOT
				}
			}

			remove_special_interest = persistent_event_target:sway_target
			clear_persistent_event_target = sway_target
			clr_character_flag = flag_tired_of_gifts
			character_event = { id = HF.21137 }
		}
	}
}

# Swayer notified of death of Swayed
character_event = {
	id = HF.21137
	desc = EVTDESCAHF21137
	picture = GFX_evt_upsetting_letter

	is_triggered_only = yes
	notification = yes

	ai = no

	option = {
		name = UNFORTUNATE
	}
}

# Swayer: you or your target has gone into Seclusion, Swaying is canceled
character_event = {
	id = HF.21002
	picture = GFX_evt_woman_at_window_hf
	portrait = persistent_event_target:sway_target

	desc = {
		text = EVTDESCHFP21002_A # They are in Seclusion
		trigger = {
			in_seclusion = no
			persistent_event_target:sway_target = { in_seclusion = yes }
		}
	}
	desc = {
		text = EVTDESCHFP21002_B # I am in Seclusion (without them)
		trigger = {
			in_seclusion = yes

			persistent_event_target:sway_target = {
				in_seclusion = no
				NOT = { at_location = ROOT } # Just in case you somehow kicked them out of your own Seclusion
			}
		}
	}
	desc = {
		text = EVTDESCHFP21002_A_B # I am in Seclusion, and they are too (separately)
		trigger = {
			in_seclusion = yes

			persistent_event_target:sway_target = {
				in_seclusion = yes
				NOT = { at_location = ROOT }
			}
		}
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21002

		custom_tooltip = {
			text = tooltip_stop_swaying

			persistent_event_target:sway_target = {
				clr_character_flag = flag_character_being_swayed
			}

			remove_special_interest = persistent_event_target:sway_target
			clear_persistent_event_target = sway_target
			clr_character_flag = flag_tired_of_gifts
		}
	}
}

# Swayer notified
# character_event = {
# 	id = HF.21003
# 	desc = EVTDESCHFP21003
# 	picture = GFX_evt_pleasing_letter
#	portrait = persistent_event_target:sway_target
#
# 	is_triggered_only = yes
#
# 	option = {
# 		name = EVTOPTAHFP21003
#
# 		custom_tooltip = {
#			text = tooltip_21003_A
#
# 			persistent_event_target:sway_target = {
#				clr_character_flag = flag_character_being_swayed
#			}
#
# 			remove_special_interest = persistent_event_target:sway_target
# 			clear_persistent_event_target = sway_target
# 			clr_character_flag = flag_tired_of_gifts
# 		}
# 	}
# }

# Swayer notified swayer is imprisoned and can no longer be interacted with, offered chance to clear target
character_event = {
	id = HF.21005
	desc = EVTDESCHFP21005
	picture = GFX_evt_into_the_dungeon
	portrait = persistent_event_target:sway_target

	is_triggered_only = yes

	option = { # He's in my dungeons, free him!
		name = EVTOPTAHFP21005

		trigger = {
			persistent_event_target:sway_target = {
				host = { character = ROOT }
			}
		}

		custom_tooltip = { text = tooltip_21005_A }

		persistent_event_target:sway_target = {
			show_scope_change = no

			imprison = no
			character_event = { id = HF.21006 }
		}
	}

	option = { # Stop trying to sway him
		name = EVTOPTBHFP21005

		custom_tooltip = {
			text = tooltip_21005_B

			persistent_event_target:sway_target = {
				clr_character_flag = flag_character_being_swayed
			}

			remove_special_interest = persistent_event_target:sway_target
			clear_persistent_event_target = sway_target
			clr_character_flag = flag_tired_of_gifts
		}
	}

	option = { # Keep at it
		name = EVTOPTCHFP21005

		custom_tooltip = {
			text = tooltip_21005_C
			set_character_flag = flag_swayed_prisoner_notification
		}

		ai_chance = { factor = 0 }
	}
}

# Swayed: the Swayer set you free
character_event = {
	id = HF.21006
	desc = EVTDESCHFP21006
	picture = GFX_evt_into_the_dungeon

	is_triggered_only = yes

	option = { # Thankful
		name = EVTOPTAHFP21006

		opinion = {
			name = opinion_grateful
			who = FROM
			years = 5
		}
	}
}

# Swayer notified
character_event = {
	id = HF.21008
	desc = EVTDESCHFP21008
	picture = GFX_evt_upsetting_letter
	portrait = persistent_event_target:sway_target

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21008

		custom_tooltip = {
			text = tooltip_21003_A

			persistent_event_target:sway_target = {
				clr_character_flag = flag_character_being_swayed
			}

			remove_special_interest = persistent_event_target:sway_target
			clear_persistent_event_target = sway_target
			clr_character_flag = flag_tired_of_gifts
		}
	}
}

# Swayer notified swayed already likes you. Shouldn't you stop?
character_event = {
	id = HF.21010
	desc = EVTDESCHFP21010
	picture = GFX_evt_pleasing_letter
	portrait = persistent_event_target:sway_target

	is_triggered_only = yes

	option = { # Stop Swaying
		name = EVTOPTAHFP21010

		custom_tooltip = {
			text = tooltip_21003_A

			persistent_event_target:sway_target = {
				clr_character_flag = flag_character_being_swayed
			}

			remove_special_interest = persistent_event_target:sway_target
			clear_persistent_event_target = sway_target
			clr_character_flag = flag_tired_of_gifts
		}
	}

	option = { # No
		name = EVTOPTBHFP21010

		custom_tooltip = { text = tooltip_21003_B }

		set_character_flag = flag_swayed_swayed_notification

		ai_chance = { factor = 0 }
	}
}

###############################
# Tier I Events - Generic events that only required the two characters to be living and withing writing distance.
###############################

## Send letter to ingratiate target

# Swayer: write a letter to increase opinion?
character_event = {
	id = HF.21012
	desc = EVTDESCHFP21012
	picture = GFX_evt_sway_hf
	portrait = persistent_event_target:sway_target

	is_triggered_only = yes

	option = { # High Diplomacy
		name = EVTOPTAHFP21012
		tooltip_info = diplomacy

		trigger = {
			diplomacy >= 15

			persistent_event_target:sway_target = {
				is_ruler = yes
				NOT = { vassal_of = ROOT }
			}
		}

		set_character_flag = flag_sway_diplo_letter

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21013
				tooltip = tooltip_21012_A
			}
		}

		ai_chance = { factor = 100 }
	}

	option = { # Send flavorful letter
		name = EVTOPTBHFP21012
		tooltip_info = poet

		trigger = { trait = poet }

		set_character_flag = flag_sway_poet_letter

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21013
				tooltip = tooltip_21012_B
			}
		}

		ai_chance = { factor = 80 }
	}

	option = { # Send direct letter
		name = EVTOPTCHFP21012

		set_character_flag = flag_sway_wroth_letter

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21013
				tooltip = tooltip_21012_C
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # No - better luck next pulse
		name = EVTOPTDHFP21012

		ai_chance = { factor = 0 }
	}
}

# Swayed: Received a letter. Do you like it?
character_event = {
	id = HF.21013
	picture = GFX_evt_pleasing_letter

	desc = {
		text = EVTDESCAHFP21013
		trigger = { FROM = { has_character_flag = flag_sway_diplo_letter } }
	}
	desc = {
		text = EVTDESCBHFP21013
		trigger = { FROM = { has_character_flag = flag_sway_poet_letter } }
	}
	desc = {
		text = EVTDESCCHFP21013
		trigger = { FROM = { has_character_flag = flag_sway_wroth_letter } }
	}

	trigger = {
		FROM = { is_alive = yes }
	}

	is_triggered_only = yes

	option = { # Liked it
		name = EVTOPTAHFP21013

		FROM = {
			show_scope_change = no

			character_event = {
				id = HF.21014
				days = 5
				tooltip = tooltip_21013_A
			}
		}

		opinion = {
			name = opinion_swayed_1
			who = FROM
			years = 5
		}

		ai_chance = {
			factor = 60

			mult_modifier = {
				factor = 1.75
				FROM = { has_character_flag = flag_sway_diplo_letter }
			}

			mult_modifier = {
				factor = 1.75

				FROM = { has_character_flag = flag_sway_poet_letter }

				OR = {
					trait = poet
					trait = erudite
					trait = scholar
					trait = depressed
				}
			}

			mult_modifier = {
				factor = 0.25

				FROM = { has_character_flag = flag_sway_poet_letter }

				OR = {
					trait = slow
					trait = imbecile
					trait = wroth
					trait = duelist
					trait = hunter
				}
			}

			mult_modifier = {
				factor = 1.75

				FROM = { has_character_flag = flag_sway_wroth_letter }

				OR = {
					trait = wroth
					trait = duelist
					trait = hunter
					trait = aggressive_leader
				}
			}

			mult_modifier = {
				factor = 0.25

				FROM = { has_character_flag = flag_sway_wroth_letter }

				OR = {
					trait = poet
					trait = erudite
					trait = patient
					trait = kind
					trait = humble
				}
			}

			mult_modifier = {
				factor = 0.8
				FROM = { trait = shy }
			}

			mult_modifier = {
				factor = 0.8
				FROM = { trait = slow }
			}

			mult_modifier = {
				factor = 0.8
				FROM = { trait = imbecile }
			}

			mult_modifier = {
				factor = 1.25
				FROM = { trait = quick }
			}

			mult_modifier = {
				factor = 1.5
				FROM = { trait = genius }
			}

			mult_modifier = {
				factor = 1.25
				FROM = { diplomacy >= 8 }
			}

			mult_modifier = {
				factor = 1.25
				FROM = { diplomacy >= 10 }
			}

			mult_modifier = {
				factor = 1.25
				FROM = { diplomacy >= 12 }
			}

			mult_modifier = {
				factor = 1.25
				FROM = { diplomacy >= 14 }
			}

			mult_modifier = {
				factor = 1.25
				FROM = { diplomacy >= 16 }
			}
		}
	}

	option = { # Hated it
		name = EVTOPTBHFP21013

		FROM = {
			show_scope_change = no

			character_event = {
				id = HF.21015
				days = 5
				tooltip = tooltip_21013_B
			}
		}

		ai_chance = { factor = 40 }
	}
}

# Swayer: Swayed like the letter
character_event = {
	id = HF.21014
	picture = GFX_evt_pleasing_letter

	desc = {
		text = EVTDESCAHFP21014
		trigger = { has_character_flag = flag_sway_diplo_letter }
	}
	desc = {
		text = EVTDESCBHFP21014
		trigger = { has_character_flag = flag_sway_poet_letter }
	}
	desc = {
		text = EVTDESCCHFP21014
		trigger = { has_character_flag = flag_sway_wroth_letter }
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21014

		clr_character_flag = flag_sway_diplo_letter
		clr_character_flag = flag_sway_poet_letter
		clr_character_flag = flag_sway_wroth_letter

		tooltip = {
			reverse_opinion = {
				name = opinion_swayed_1
				who = FROM
				years = 5
			}
		}
	}
}

# Swayer: Swayed did not like the letter
character_event = {
	id = HF.21015
	picture = GFX_evt_upsetting_letter

	desc = {
		text = EVTDESCAHFP21015
		trigger = { has_character_flag = flag_sway_diplo_letter }
	}
	desc = {
		text = EVTDESCBHFP21015
		trigger = { has_character_flag = flag_sway_poet_letter }
	}
	desc = {
		text = EVTDESCCHFP21015
		trigger = { has_character_flag = flag_sway_wroth_letter }
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21015

		clr_character_flag = flag_sway_diplo_letter
		clr_character_flag = flag_sway_poet_letter
		clr_character_flag = flag_sway_wroth_letter
	}
}

## Generic diplomacy roll to sway character

# Swayer: hidden ping
character_event = {
	id = HF.21017

	is_triggered_only = yes
	hide_window = yes

	immediate = {
		random_list = {
			10 = { # Critical success
				trigger = {
					NOT = { trait = shy }
				}

				mult_modifier = {
					factor = 0.5
					trait = slow
				}

				mult_modifier = {
					factor = 0.2
					trait = imbecile
				}

				mult_modifier = {
					factor = 0.5
					diplomacy < 6
				}

				set_character_flag = flag_generic_sway_crit_success
				persistent_event_target:sway_target = { character_event = { id = HF.21018 } }
			}

			55 = { # Success
				set_character_flag = flag_generic_sway_success
				persistent_event_target:sway_target = { character_event = { id = HF.21018 } }
			}

			34 = { # Failure
				mult_modifier = {
					factor = 0.5
					trait = gregarious
				}

				mult_modifier = {
					factor = 0.75
					trait = socializer
				}

				mult_modifier = {
					factor = 0.75
					diplomacy >= 10
				}

				mult_modifier = {
					factor = 0.75
					diplomacy >= 12
				}

				mult_modifier = {
					factor = 0.5
					diplomacy >= 14
				}

				mult_modifier = {
					factor = 0.5
					diplomacy >= 16
				}

				mult_modifier = {
					factor = 0.5
					diplomacy >= 18
				}

				mult_modifier = {
					factor = 0.5
					diplomacy >= 20
				}

				set_character_flag = flag_generic_sway_failure
				persistent_event_target:sway_target = { character_event = { id = HF.21018 } }
			}

			1 = { # Critical Failure
				trigger = {
					diplomacy < 12

					NOR = {
						trait = gregarious
						trait = socializer
					}
				}

				set_character_flag = flag_generic_sway_crit_failure
				persistent_event_target:sway_target = { character_event = { id = HF.21018 } }
			}
		}
	}
}

# Swayed: Inform of Swayer's attempt to socialize
character_event = {
	id = HF.21018
	picture = GFX_evt_pleasing_letter

	desc = {
		text = EVTDESCAHFP21018
		trigger = { FROM = { has_character_flag = flag_generic_sway_crit_success } }
	}
	desc = {
		text = EVTDESCBHFP21018
		trigger = { FROM = { has_character_flag = flag_generic_sway_success } }
	}
	desc = {
		text = EVTDESCCHFP21018
		picture = GFX_evt_upsetting_letter
		trigger = { FROM = { has_character_flag = flag_generic_sway_failure } }
	}
	desc = {
		text = EVTDESCDHFP21018
		picture = GFX_evt_upsetting_letter
		trigger = { FROM = { has_character_flag = flag_generic_sway_crit_failure } }
	}

	is_triggered_only = yes

	option = { # Liking him more
		name = EVTOPTAHFP21018

		trigger = { FROM = { has_character_flag = flag_generic_sway_crit_success } }

		opinion = {
			name = opinion_swayed_1
			who = FROM
			years = 5
		}
	}

	option = { # Liking him more
		name = EVTOPTBHFP21018

		trigger = { FROM = { has_character_flag = flag_generic_sway_success } }

		opinion = {
			name = opinion_swayed_0
			who = FROM
			years = 5
		}
	}

	option = { # Neutral Failure
		name = EVTOPTCHFP21018

		trigger = {
			FROM = { # Players can still deny
				NOT = { has_character_flag = flag_generic_sway_crit_failure }
			}
		}

		ai_chance = {
			factor = 1

			trigger = { # AI cannot
				FROM = { has_character_flag = flag_generic_sway_failure }
			}
		}
	}

	option = { # Growing bored with him
		name = EVTOPTDHFP21018

		trigger = { FROM = { has_character_flag = flag_generic_sway_crit_failure } }

		opinion = {
			name = opinion_irritated
			who = FROM
			years = 2
		}
	}

	after = {
		FROM = {
			character_event = { id = HF.21019 }
		}
	}
}

# Swayer: Notified of roll's result
character_event = {
	id = HF.21019
	picture = GFX_evt_pleasing_letter
	desc = {
		text = EVTDESCAHFP21019
		trigger = { has_character_flag = flag_generic_sway_crit_success }
	}
	desc = {
		text = EVTDESCBHFP21019
		trigger = { has_character_flag = flag_generic_sway_success }
	}
	desc = {
		text = EVTDESCCHFP21019
		picture = GFX_evt_upsetting_letter
		trigger = { has_character_flag = flag_generic_sway_failure }
	}
	desc = {
		text = EVTDESCDHFP21019
		picture = GFX_evt_upsetting_letter
		trigger = { has_character_flag = flag_generic_sway_crit_failure }
	}

	is_triggered_only = yes
	notification = yes

	option = {
		name = EVTOPTAHFP21019

		clr_character_flag = flag_generic_sway_crit_success
		clr_character_flag = flag_generic_sway_success
		clr_character_flag = flag_generic_sway_failure
		clr_character_flag = flag_generic_sway_crit_failure
	}
}

## Send gift to ingratiate target

# Swayer: send a gift to increase opinion?
character_event = {
	id = HF.21021
	desc = EVTDESCHFP21021
	picture = GFX_evt_sway_hf
	portrait = persistent_event_target:sway_target

	is_triggered_only = yes

	option = { # Big gift
		name = EVTOPTAHFP21021

		set_character_flag = flag_sway_big_gift

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21022
				tooltip = tooltip_21021_A
			}
		}

		if = {
			limit = { ai = no }

			if = {
				limit = {
					is_tribal = no
					is_nomadic = no
				}

				scaled_wealth = {
					value = -1
					min = -50
					max = -100
				}
			}
			else = {
				scaled_wealth = {
					value = -1
					min = -10
					max = -50
				}
			}
		}

		ai_chance = { factor = 20 }
	}

	option = { # Medium gift
		name = EVTOPTBHFP21021

		set_character_flag = flag_sway_medium_gift

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21022
				tooltip = tooltip_21021_B
			}
		}

		if = {
			limit = { ai = no }

			if = {
				limit = {
					is_tribal = no
					is_nomadic = no
				}

				scaled_wealth = {
					value = -1
					min = -25
					max = -50
				}
			}
			else = {
				scaled_wealth = {
					value = -1
					min = -5
					max = -25
				}
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Small gift
		name = EVTOPTCHFP21021

		set_character_flag = flag_sway_small_gift

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21022
				tooltip = tooltip_21021_C
			}
		}

		if = {
			limit = { ai = no }

			if = {
				limit = {
					is_tribal = no
					is_nomadic = no
				}

				scaled_wealth = {
					value = -1
					min = -5
					max = -25
				}
			}
			else = {
				scaled_wealth = {
					value = -1
					min = -1
					max = -10
				}
			}
		}

		ai_chance = {
			factor = 60

			mult_modifier = {
				factor = 0.2
				trait = temperate
			}

			mult_modifier = {
				factor = 1.7
				trait = greedy
			}
		}
	}

	option = { # No gift
		name = EVTOPTDHFP21021

		trigger = { NOT = { trait = greedy } }
	}

	option = { # No more gifts
		name = EVTOPTEHFP21021
		tooltip_info = greedy

		trigger = { trait = greedy }

		set_character_flag = flag_tired_of_gifts
	}
}

# Swayed: Received a gift
character_event = {
	id = HF.21022
	picture = GFX_evt_pleasing_letter

	desc = {
		text = EVTDESCAHFP21022
		trigger = { FROM = { has_character_flag = flag_sway_big_gift } }
	}
	desc = {
		text = EVTDESCBHFP21022
		trigger = { FROM = { has_character_flag = flag_sway_medium_gift } }
	}
	desc = {
		text = EVTDESCCHFP21022
		trigger = { FROM = { has_character_flag = flag_sway_small_gift } }
	}

	trigger = {
		FROM = { is_alive = yes }
	}

	is_triggered_only = yes

	option = { # Accept
		name = EVTOPTAHFP21022

		if = {
			limit = { FROM = { has_character_flag = flag_sway_big_gift } }

			prestige = 100

			opinion = {
				name = opinion_swayed_2
				who = FROM
				years = 10
			}
		}
		else_if = {
			limit = { FROM = { has_character_flag = flag_sway_medium_gift } }

			prestige = 50

			opinion = {
				name = opinion_swayed_1
				who = FROM
				years = 5
			}
		}
		else = {
			prestige = 25

			opinion = {
				name = opinion_swayed_0
				who = FROM
				years = 5
			}
		}

		FROM = {
			character_event = {
				id = HF.21023
				days = 5
			}
		}

		ai_chance = { factor = 99 }
	}

	option = { # Still don't care
		name = EVTOPTBHFP21022

		reverse_opinion = {
			name = opinion_offended
			who = FROM
			years = 2
		}

		FROM = {
			character_event = {
				id = HF.21024
				days = 15
			}
		}

		ai_chance = {
			factor = 1

			mult_modifier = {
				factor = 5
				trait = shy
			}

			mult_modifier = {
				factor = 5
				trait = greedy
			}

			mult_modifier = {
				factor = 5
				trait = envious
			}

			mult_modifier = {
				factor = 5
				trait = cruel
			}

			mult_modifier = {
				factor = 5
				FROM = { has_character_flag = flag_sway_small_gift }
			}
		}
	}
}

# Swayer: Notified that Swayed liked gift
character_event = {
	id = HF.21023
	picture = GFX_evt_pleasing_letter

	desc = {
		text = EVTDESCAHFP21023
		trigger = { has_character_flag = flag_sway_big_gift }
	}
	desc = {
		text = EVTDESCBHFP21023
		trigger = { has_character_flag = flag_sway_medium_gift }
	}
	desc = {
		text = EVTDESCCHFP21023
		trigger = { has_character_flag = flag_sway_small_gift }
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21023

		tooltip = {
			if = {
				limit = { has_character_flag = flag_sway_big_gift }

				reverse_opinion = {
					name = opinion_swayed_2
					who = ROOT
					years = 10
				}
			}
			else_if = {
				limit = { has_character_flag = flag_sway_medium_gift }

				reverse_opinion = {
					name = opinion_swayed_1
					who = FROM
					years = 5
				}
			}
			else = {
				reverse_opinion = {
					name = opinion_swayed_0
					who = FROM
					years = 5
				}
			}
		}

		clr_character_flag = flag_sway_big_gift
		clr_character_flag = flag_sway_medium_gift
		clr_character_flag = flag_sway_small_gift
	}
}

# Swayer: Notified that Swayed did not like gift
character_event = {
	id = HF.21024
	desc = EVTDESCAHFP21024
	picture = GFX_evt_upsetting_letter

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21024

		tooltip = {
			opinion = {
				name = opinion_offended
				who = FROM
				years = 2
			}
		}

		clr_character_flag = flag_sway_big_gift
		clr_character_flag = flag_sway_medium_gift
		clr_character_flag = flag_sway_small_gift
	}
}

## Send tribal gift to ingratiate target

# Swayer: Send a tribal gift to increase opinion?
character_event = {
	id = HF.21026
	desc = EVTDESCHFP21026
	picture = GFX_evt_pleasing_letter
	portrait = persistent_event_target:sway_target

	is_triggered_only = yes

	option = { # Big gift
		name = EVTOPTAHFP21026

		trigger = { prestige >= 300 }

		set_character_flag = flag_sway_big_gift

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21027
				tooltip = tooltip_21026_A
			}
		}

		prestige = -300

		ai_chance = { factor = 20 }
	}

	option = { # Medium gift
		name = EVTOPTBHFP21026

		trigger = { prestige >= 150 }

		set_character_flag = flag_sway_medium_gift

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21027
				tooltip = tooltip_21026_B
			}
		}

		prestige = -150

		ai_chance = { factor = 40 }
	}

	option = { #Small gift
		name = EVTOPTCHFP21026

		trigger = { prestige >= 50 }

		set_character_flag = flag_sway_small_gift

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21027
				tooltip = tooltip_21026_C
			}
		}

		prestige = -50

		ai_chance = { factor = 60 }
	}

	option = { # No gift
		name = EVTOPTDHFP21026

		ai_chance = { factor = 0 }
	}
}

# Swayed: Received a gift
character_event = {
	id = HF.21027
	picture = GFX_evt_pleasing_letter

	desc = {
		text = EVTDESCAHFP21027
		trigger = { FROM = { has_character_flag = flag_sway_big_gift } }
	}
	desc = {
		text = EVTDESCBHFP21027
		trigger = { FROM = { has_character_flag = flag_sway_medium_gift } }
	}
	desc = {
		text = EVTDESCCHFP21027
		trigger = { FROM = { has_character_flag = flag_sway_small_gift } }
	}

	is_triggered_only = yes

	option = { # Accept
		name = EVTOPTAHFP21027

		if = {
			limit = { FROM = { has_character_flag = flag_sway_big_gift } }

			prestige = 300

			opinion = {
				name = opinion_swayed_2
				who = FROM
				years = 10
			}
		}
		else_if = {
			limit = { FROM = { has_character_flag = flag_sway_medium_gift } }

			prestige = 150

			opinion = {
				name = opinion_swayed_1
				who = FROM
				years = 5
			}
		}
		else_if = {
			limit = { FROM = { has_character_flag = flag_sway_small_gift } }

			prestige = 50

			opinion = {
				name = opinion_swayed_0
				who = FROM
				years = 5
			}
		}

		FROM = {
			character_event = {
				id = HF.21028
				days = 10
			}
		}

		ai_chance = { factor = 99 }
	}

	option = { # Still don't care
		name = EVTOPTBHFP21027

		FROM = {
			show_scope_change = no

			opinion = {
				name = opinion_offended
				who = ROOT
				years = 2
			}

			character_event = {
				id = HF.21029
				days = 10
			}
		}

		ai_chance = {
			factor = 1

			mult_modifier = {
				factor = 10

				is_tribal = no
				is_nomadic = no
			}

			mult_modifier = {
				factor = 5
				trait = shy
			}

			mult_modifier = {
				factor = 5
				trait = greedy
			}

			mult_modifier = {
				factor = 5
				trait = envious
			}

			mult_modifier = {
				factor = 5
				trait = cruel
			}

			mult_modifier = {
				factor = 5
				FROM = { has_character_flag = flag_sway_small_gift }
			}
		}
	}
}

# Swayer: Notified that Swayed liked his gift
character_event = {
	id = HF.21028
	picture = GFX_evt_pleasing_letter

	desc = {
		text = EVTDESCAHFP21028
		trigger = { has_character_flag = flag_sway_big_gift }
	}
	desc = {
		text = EVTDESCBHFP21028
		trigger = { has_character_flag = flag_sway_medium_gift }
	}
	desc = {
		text = EVTDESCCHFP21028
		trigger = { has_character_flag = flag_sway_small_gift }
	}

	is_triggered_only = yes

	option = {
		name = PERFECT

		tooltip = {
			if = {
				limit = { has_character_flag = flag_sway_big_gift }

				reverse_opinion = {
					name = opinion_swayed_2
					who = FROM
					years = 10
				}
			}
			else_if = {
				limit = { has_character_flag = flag_sway_medium_gift }

				reverse_opinion = {
					name = opinion_swayed_1
					who = FROM
					years = 5
				}
			}
			else_if = {
				limit = { has_character_flag = flag_sway_small_gift }

				reverse_opinion = {
					name = opinion_swayed_0
					who = FROM
					years = 5
				}
			}
		}

		clr_character_flag = flag_sway_big_gift
		clr_character_flag = flag_sway_medium_gift
		clr_character_flag = flag_sway_small_gift
	}
}

# Swayer: Notified that Swayed did not like his gift
character_event = {
	id = HF.21029
	desc = EVTDESCAHFP21029
	picture = GFX_evt_upsetting_letter

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21029

		tooltip = {
			opinion = {
				name = opinion_offended
				who = FROM
				years = 2
			}
		}

		clr_character_flag = flag_sway_big_gift
		clr_character_flag = flag_sway_medium_gift
		clr_character_flag = flag_sway_small_gift
	}
}

## Martial education event

# Swayer: use your martial education to improve opinion?
character_event = {
	id = HF.21031
	desc = EVTDESCHFP21031
	portrait = persistent_event_target:sway_target

	picture = {
		picture = GFX_evt_daughter_asking_mother
		trigger = { has_religion_feature = religion_matriarchal }
	}
	picture = {
		picture = GFX_evt_son_asking_father
		trigger = {
			NOT = { has_religion_feature = religion_matriarchal }
		}
	}

	is_triggered_only = yes

	option = { # Discuss strategy
		name = EVTOPTAHFP21031

		set_character_flag = flag_sway_discuss_strategy

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21032
				tooltip = tooltip_21031_A # Using martial
			}
		}

		ai_chance = { factor = 20 }
	}

	option = { # Brag about military accomplishments
		name = EVTOPTBHFP21031

		set_character_flag = flag_sway_brag_military

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21032
				tooltip = tooltip_21031_B # Using diplomacy (but also checking martial traits)
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # No
		name = EVTOPTCHFP21031

		ai_chance = { factor = 0 }
	}
}

# Swayed: Military talk
character_event = {
	id = HF.21032

	desc = {
		text = EVTDESCAHFP21032
		trigger = { FROM = { has_character_flag = flag_sway_discuss_strategy } }
	}
	desc = {
		text = EVTDESCBHFP21032
		trigger = { FROM = { has_character_flag = flag_sway_brag_military } }
	}

	picture = {
		picture = GFX_evt_daughter_asking_mother
		trigger = { has_religion_feature = religion_matriarchal }
	}
	picture = {
		picture = GFX_evt_son_asking_father
		trigger = {
			NOT = { has_religion_feature = religion_matriarchal }
		}
	}

	is_triggered_only = yes

	option = { # Impressed
		name = EVTOPTAHFP21032

		opinion = {
			name = opinion_swayed_1
			who = FROM
			years = 5
		}

		if = {
			limit = {
				FROM = {
					# Only if talking about real strategy to somebody who understands it and knows less than the Swayer
					has_character_flag = flag_sway_discuss_strategy

					attribute_diff = {
						character = ROOT
						attribute = martial
						value >= 2
					}
				}
			}

			change_martial = 1
		}

		FROM = {
			character_event = {
				id = HF.21033
				days = 10
			}
		}

		ai_chance = {
			factor = 70

			mult_modifier = {
				factor = 0.9
				FROM = { trait = shy }
			}

			mult_modifier = {
				factor = 1.1
				FROM = { trait = gregarious }
			}

			mult_modifier = {
				factor = 0.7

				FROM = {
					has_character_flag = flag_sway_brag_military
					diplomacy < 10
				}
			}

			mult_modifier = {
				factor = 0.7

				FROM = {
					has_character_flag = flag_sway_discuss_strategy
					martial < 10
				}
			}

		}
	}

	option = { # Not impressed
		name = EVTOPTBHFP21032

		FROM = {
			character_event = {
				id = HF.21034
				days = 10
			}
		}

		ai_chance = {
			factor = 30

			mult_modifier = {
				factor = 1.5
				trait = brave
			}

			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = martial
					value >= 2
				}
			}

			mult_modifier = {
				factor = 1.5

				FROM = {
					has_character_flag = flag_sway_discuss_strategy

					attribute_diff = {
						character = ROOT
						attribute = martial
						value <= 4
					}
				}
			}

			mult_modifier = {
				factor = 1.5

				FROM = {
					has_character_flag = flag_sway_discuss_strategy }

					attribute_diff = {
						character = ROOT
						attribute = martial
						value <= 6
					}
			}

			mult_modifier = {
				factor = 0.95

				FROM = {
					has_character_flag = flag_sway_brag_military
					diplomacy >= 10
				}
			}

			mult_modifier = {
				factor = 0.9

				FROM = {
					has_character_flag = flag_sway_brag_military
					diplomacy >= 12
				}
			}

			mult_modifier = {
				factor = 0.9

				FROM = {
					has_character_flag = flag_sway_brag_military
					diplomacy >= 15
				}
			}

			mult_modifier = {
				factor = 0.75

				FROM = {
					has_character_flag = flag_sway_brag_military
					diplomacy >= 18
				}
			}

			mult_modifier = {
				factor = 0.75

				FROM = {
					has_character_flag = flag_sway_brag_military
					diplomacy >= 20
				}
			}

			mult_modifier = {
				factor = 1.5

				FROM = {
					has_character_flag = flag_sway_discuss_strategy
					martial >= 10
				}
			}

			mult_modifier = {
				factor = 0.9

				FROM = {
					has_character_flag = flag_sway_discuss_strategy
					martial >= 12
				}
			}

			mult_modifier = {
				factor = 0.9

				FROM = {
					has_character_flag = flag_sway_discuss_strategy
					martial >= 15
				}
			}

			mult_modifier = {
				factor = 0.75

				FROM = {
					has_character_flag = flag_sway_discuss_strategy
					martial >= 18
				}
			}

			mult_modifier = {
				factor = 0.75

				FROM = {
					has_character_flag = flag_sway_discuss_strategy
					martial >= 20
				}
			}

			mult_modifier = {
				factor = 0.85
				FROM = { trait = tough_soldier }
			}

			mult_modifier = {
				factor = 0.75
				FROM = { trait = skilled_tactician }
			}

			mult_modifier = {
				factor = 0.5
				FROM = { trait = brilliant_strategist }
			}

			mult_modifier = {
				factor = 0.5
				FROM = { trait = strategist }
			}

			mult_modifier = {
				factor = 0.95
				trait = misguided_warrior
			}

			mult_modifier = {
				factor = 1.25
				trait = tough_soldier
			}

			mult_modifier = {
				factor = 1.5
				trait = skilled_tactician
			}

			mult_modifier = {
				factor = 1.75
				trait = brilliant_strategist
			}

			mult_modifier = {
				factor = 0.5

				trait = trusting
				FROM = { has_character_flag = flag_sway_brag_military }
			}

			mult_modifier = {
				factor = 0.5

				trait = craven
				FROM = { has_character_flag = flag_sway_brag_military }
			}

			mult_modifier = {
				factor = 1.35

				trait = paranoid
				FROM = { has_character_flag = flag_sway_brag_military }
			}

			mult_modifier = {
				factor = 5
				FROM = { trait = craven }
			}
		}
	}
}

# Swayer: Character was impressed by your martial
character_event = {
	id = HF.21033
	desc = {
		text = EVTDESCAHFP21033_COURT
		trigger = {
			has_character_flag = flag_sway_discuss_strategy
			NOT = { at_location = FROM }
		}
	}
	desc = {
		text = EVTDESCAHFP21033
		trigger = {
			has_character_flag = flag_sway_discuss_strategy
			at_location = FROM
		}
	}
	desc = {
		text = EVTDESCBHFP21033
		trigger = {
			has_character_flag = flag_sway_brag_military
		}
	}

	picture = {
		picture = GFX_evt_daughter_asking_mother
		trigger = { has_religion_feature = religion_matriarchal }
	}
	picture = {
		picture = GFX_evt_son_asking_father
		trigger = {
			NOT = {
				has_religion_feature = religion_matriarchal
			}
		}
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21033

		tooltip = {
			reverse_opinion = {
				name = opinion_swayed_1
				who = FROM
				years = 5
			}
		}

		clr_character_flag = flag_sway_discuss_strategy
		clr_character_flag = flag_sway_brag_military
	}
}

# Swayer: Character was not impressed by your martial
character_event = {
	id = HF.21034

	desc = {
		text = EVTDESCAHFP21034
		trigger = {
			has_character_flag = flag_sway_discuss_strategy
			NOT = { at_location = FROM }
		}
	}
	desc = {
		text = EVTDESCAHFP21034_COURT
		trigger = {
			has_character_flag = flag_sway_discuss_strategy
			at_location = FROM
		}
	}
	desc = {
		text = EVTDESCBHFP21034
		trigger = { has_character_flag = flag_sway_brag_military }
	}

	picture = {
		picture = GFX_evt_daughter_asking_mother
		trigger = { has_religion_feature = religion_matriarchal }
	}
	picture = {
		picture = GFX_evt_son_asking_father
		trigger = {
			NOT = { has_religion_feature = religion_matriarchal }
		}
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21034

		clr_character_flag = flag_sway_discuss_strategy
		clr_character_flag = flag_sway_brag_military
	}
}

## Diplomacy education event

# Swayer: Use your diplomatic education to improve opinion?
character_event = {
	id = HF.21036
	desc = EVTDESCHFP21036
	picture = GFX_evt_open_book_hf
	portrait = persistent_event_target:sway_target

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21036
		tooltip_info = diplomacy

		trigger = {
			diplomacy >= 10
			persistent_event_target:sway_target = { is_ruler = yes }
		}

		set_character_flag = flag_way_send_diploembassy

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21037
				tooltip = tooltip_21036_A
			}
		}

		ai_chance = { factor = 40 }
	}

	option = {
		name = EVTOPTBHFP21036

		set_character_flag = flag_sway_send_diploletter

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21037
				tooltip = tooltip_21036_B
			}
		}

		ai_chance = { factor = 20 }
	}

	option = { # No
		name = EVTOPTCHFP21036

		ai_chance = { factor = 0 }
	}
}

# Swayed: Diplomatic talk
character_event = {
	id = HF.21037
	picture = GFX_evt_open_book_hf

	desc = {
		text = EVTDESCAHFP21037
		trigger = { FROM = { has_character_flag = flag_way_send_diploembassy } }
	}
	desc = {
		text = EVTDESCBHFP21037
		trigger = { FROM = { has_character_flag = flag_sway_send_diploletter } }
	}

	is_triggered_only = yes

	option = { # Really Impressed
		name = EVTOPTAHFP21037

		trigger = { FROM = { has_character_flag = flag_way_send_diploembassy } }

		opinion = {
			name = opinion_swayed_2
			who = FROM
			years = 10
		}

		FROM = {
			character_event = {
				id = HF.21038
				days = 10
			}
		}

		ai_chance = {
			factor = 70

			mult_modifier = {
				factor = 0.9
				FROM = { trait = shy }
			}

			mult_modifier = {
				factor = 1.1
				FROM = { trait = gregarious }
			}

			mult_modifier = {
				factor = 0.8
				trait = paranoid
			}

			mult_modifier = {
				factor = 0.8
				trait = envious
			}
		}
	}

	option = { # Impressed
		name = EVTOPTBHFP21037

		opinion = {
			name = opinion_swayed_0
			who = FROM
			years = 5
		}

		FROM = {
			character_event = {
				id = HF.21038
				days = 10
			}
		}

		ai_chance = {
			factor = 50

			mult_modifier = {
				factor = 0.9
				FROM = { trait = shy }
			}

			mult_modifier = {
				factor = 1.1
				FROM = { trait = gregarious }
			}

			mult_modifier = {
				factor = 0.8
				trait = paranoid
			}

			mult_modifier = {
				factor = 0.8
				trait = envious
			}
		}
	}

	option = { # Not impressed
		name = EVTOPTCHFP21037

		FROM = {
			character_event = {
				id = HF.21039
				days = 10
			}
		}

		ai_chance = {
			factor = 20

			# Relative diplomacy
			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = diplomacy
					value >= 2
				}
			}

			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = diplomacy
					value >= 4
				}
			}

			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = diplomacy
					value >= 6
				}
			}

			# Raw diplomacy
			mult_modifier = {
				factor = 0.95
				FROM = { diplomacy >= 10 }
			}

			mult_modifier = {
				factor = 0.9
				FROM = { diplomacy >= 12 }
			}

			mult_modifier = {
				factor = 0.9
				FROM = { diplomacy >= 15 }
			}

			mult_modifier = {
				factor = 0.75
				FROM = { diplomacy >= 18 }
			}

			mult_modifier = {
				factor = 0.75
				FROM = { diplomacy >= 20 }
			}

			mult_modifier = {
				factor = 0.85
				FROM = { trait = underhanded_rogue }
			}

			mult_modifier = {
				factor = 0.75
				FROM = { trait = charismatic_negotiator }
			}

			mult_modifier = {
				factor = 0.5
				FROM = { trait = grey_eminence }
			}

			mult_modifier = {
				factor = 0.5
				FROM = { trait = socializer }
			}
		}
	}
}

# Swayer: Character was impressed by your diplomacy
character_event = {
	id = HF.21038
	picture = GFX_evt_pleasing_letter

	desc = {
		text = EVTDESCAHFP21038
		picture = GFX_evt_state_diplomacy
		trigger = { has_character_flag = flag_way_send_diploembassy }
	}
	desc = {
		text = EVTDESCBHFP21038
		picture = GFX_evt_pleasing_letter
		trigger = { has_character_flag = flag_sway_send_diploletter }
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21038

		tooltip = {
			if = {
				limit = { has_character_flag = flag_way_send_diploembassy }

				reverse_opinion = {
					name = opinion_swayed_2
					who = FROM
					years = 10
				}
			}
			else = {
				reverse_opinion = {
					name = opinion_swayed_0
					who = FROM
					years = 5
				}
			}
		}

		clr_character_flag = flag_way_send_diploembassy
		clr_character_flag = flag_sway_send_diploletter
	}
}

# Swayer: Character was not impressed by your diplomacy
character_event = {
	id = HF.21039

	desc = {
		text = EVTDESCAHFP21039
		trigger = { has_character_flag = flag_way_send_diploembassy }
	}
	desc = {
		text = EVTDESCBHFP21039
		trigger = { has_character_flag = flag_sway_send_diploletter }
	}

	picture = {
		picture = GFX_evt_daughter_asking_mother
		trigger = { has_religion_feature = religion_matriarchal }
	}
	picture = {
		picture = GFX_evt_son_asking_father
		trigger = {
			NOT = { has_religion_feature = religion_matriarchal }
		}
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21039

		clr_character_flag = flag_way_send_diploembassy
		clr_character_flag = flag_sway_send_diploletter
	}
}

## Stewardship education event

# Swayer: Use your stewardship education to improve opinion?
character_event = {
	id = HF.21041
	picture = GFX_evt_daughter_asking_father
	portrait = persistent_event_target:sway_target

	desc = {
		text = EVTDESCAHFP21041 # Diligent
		trigger = {
			persistent_event_target:sway_target = {
				has_education_stewardship_trigger = no
				NOR = {
					trait = administrator
					trait = greedy
				}
			}
		}
	}
	desc = {
		text = EVTDESCBHFP21041 # Greedy
		trigger = {
			persistent_event_target:sway_target = {
				has_education_stewardship_trigger = no
				NOR = {
					trait = administrator
					trait = diligent
				}
			}
		}
	}
	desc = {
		text = EVTDESCCHFP21041
		trigger = {
			persistent_event_target:sway_target = {
				OR = {
					has_education_stewardship_trigger = yes
					trait = administrator
				}
			}
		}
	}

	is_triggered_only = yes

	option = { # Informative letter
		name = EVTOPTAHFP21041
		tooltip_info = stewardship

		trigger = { stewardship >= 10 }

		set_character_flag = flag_sway_send_stewletter

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21042
				tooltip = tooltip_21041_A
			}
		}

		ai_chance = { factor = 60 }
	}

	option = { # Share your realm's wealth with a smaller ruler
		name = EVTOPTBHFP21041

		trigger = {
			persistent_event_target:sway_target = {
				is_ruler = yes
				lower_real_tier_than = ROOT
			}

			wealth >= 100
		}

		set_character_flag = flag_sway_share_wealth

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21042
				tooltip = tooltip_21041_B
			}
		}

		wealth = -100

		random = {
			chance = 10
			add_trait_partially_charitable_effect = yes
		}

		ai_chance = {
			factor = 40

			mult_modifier = {
				factor = 0.1
				trait = greedy
			}
		}
	}

	option = { # Tell about your prosperous realm - Diplomacy check
		name = EVTOPTCHFP21041

		set_character_flag = flag_sway_tell_prosperity

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21042
				tooltip = tooltip_21041_C
			}
		}

		ai_chance = { factor = 20 }
	}

	option = { # No
		name = EVTOPTDHFP21041

		ai_chance = { factor = 0 }
	}
}

# Swayed: Stewardship talk
character_event = {
	id = HF.21042
	picture = GFX_evt_pleasing_letter

	desc = {
		text = EVTDESCAHFP21042
		trigger = { FROM = { has_character_flag = flag_sway_send_stewletter } }
	}
	desc = {
		text = EVTDESCBHFP21042
		trigger = { FROM = { has_character_flag = flag_sway_share_wealth } }
	}
	desc = {
		text = EVTDESCCHFP21042
		trigger = { FROM = { has_character_flag = flag_sway_tell_prosperity } }
	}

	is_triggered_only = yes

	option = { # Really Impressed
		name = EVTOPTAHFP21042

		trigger = { FROM = { has_character_flag = flag_sway_send_stewletter } }

		opinion = {
			name = opinion_swayed_2
			who = FROM
			years = 10
		}

		FROM = {
			character_event = {
				id = HF.21043
				days = 10
			}
		}

		ai_chance = {
			factor = 70

			mult_modifier = {
				factor = 0.9
				FROM = { trait = shy }
			}

			mult_modifier = {
				factor = 1.1
				FROM = { trait = gregarious }
			}

			mult_modifier = {
				factor = 0.8
				trait = paranoid
			}

			mult_modifier = {
				factor = 0.8
				trait = envious
			}

			mult_modifier = {
				factor = 0.3

				FROM = { has_character_flag = flag_sway_send_stewletter }
				trait = slothful
			}
		}
	}

	option = { # Impressed
		name = EVTOPTBHFP21042

		opinion = {
			name = opinion_swayed_0
			who = FROM
			years = 5
		}

		if = {
			limit = { FROM = { has_character_flag = flag_sway_share_wealth } }
			wealth = 100
		}

		FROM = {
			character_event = {
				id = HF.21043
				days = 10
			}
		}

		ai_chance = {
			factor = 50

			mult_modifier = {
				factor = 0.9
				FROM = { trait = shy }
			}

			mult_modifier = {
				factor = 1.1
				FROM = { trait = gregarious }
			}

			mult_modifier = {
				factor = 0.8
				trait = paranoid
			}

			mult_modifier = {
				factor = 0.8
				trait = envious
			}

			mult_modifier = {
				factor = 0.3

				FROM = { has_character_flag = flag_sway_send_stewletter }
				trait = slothful
			}
		}
	}

	option = { # Not impressed
		name = EVTOPTCHFP21042

		FROM = {
			character_event = {
				id = HF.21044
				days = 10
			}
		}

		ai_chance = {
			factor = 20

			# Relative stewardship
			mult_modifier = {
				factor = 1.5

				FROM = {
					has_character_flag = flag_sway_send_stewletter

					attribute_diff = {
						character = ROOT
						attribute = stewardship
						value <= -2
					}
				}
			}

			mult_modifier = {
				factor = 1.5

				FROM = {
					has_character_flag = flag_sway_send_stewletter

					attribute_diff = {
						character = ROOT
						attribute = stewardship
						value <= -4
					}
				}
			}

			mult_modifier = {
				factor = 1.5

				FROM = {
					has_character_flag = flag_sway_send_stewletter

					attribute_diff = {
						character = ROOT
						attribute = stewardship
						value <= -6
					}
				}
			}

			# Raw stewardship
			mult_modifier = {
				factor = 0.95

				FROM = {
					has_character_flag = flag_sway_send_stewletter
					stewardship >= 10
				}
			}

			mult_modifier = {
				factor = 0.9

				FROM = {
					has_character_flag = flag_sway_send_stewletter
					stewardship >= 12
				}
			}

			mult_modifier = {
				factor = 0.9

				FROM = {
					has_character_flag = flag_sway_send_stewletter
					stewardship >= 15
				}
			}

			mult_modifier = {
				factor = 0.75

				FROM = {
					has_character_flag = flag_sway_send_stewletter
					stewardship >= 18
				}
			}

			mult_modifier = {
				factor = 0.75

				FROM = {
					has_character_flag = flag_sway_send_stewletter
					stewardship >= 20
				}
			}

			# Relative diplomacy
			mult_modifier = {
				factor = 1.5

				FROM = {
					has_character_flag = flag_sway_tell_prosperity

					attribute_diff = {
						character = ROOT
						attribute = diplomacy
						value <= -2
					}
				}
			}

			mult_modifier = {
				factor = 1.5

				FROM = {
					has_character_flag = flag_sway_tell_prosperity

					attribute_diff = {
						character = FROM
						attribute = diplomacy
						value <= -4
					}
				}
			}

			mult_modifier = {
				factor = 1.5

				FROM = {
					has_character_flag = flag_sway_tell_prosperity

					attribute_diff = {
						character = ROOT
						attribute = diplomacy
						value <= -6
					}
				}
			}

			# Raw diplomacy
			mult_modifier = {
				factor = 0.95

				FROM = {
					has_character_flag = flag_sway_tell_prosperity
					diplomacy >= 10
				}
			}

			mult_modifier = {
				factor = 0.9

				FROM = {
					has_character_flag = flag_sway_tell_prosperity
					diplomacy >= 12
				}
			}

			mult_modifier = {
				factor = 0.9

				FROM = {
					has_character_flag = flag_sway_tell_prosperity
					diplomacy >= 15
				}
			}

			mult_modifier = {
				factor = 0.75

				FROM = {
					has_character_flag = flag_sway_tell_prosperity
					diplomacy >= 18
				}
			}

			mult_modifier = {
				factor = 0.75

				FROM = {
					has_character_flag = flag_sway_tell_prosperity
					diplomacy >= 20
				}
			}

			mult_modifier = {
				factor = 0.85
				FROM = { trait = indulgent_wastrel }
			}

			mult_modifier = {
				factor = 0.75
				FROM = { trait = thrifty_clerk }
			}

			mult_modifier = {
				factor = 0.5
				FROM = { trait = fortune_builder }
			}

			mult_modifier = {
				factor = 0.5
				FROM = { trait = midas_touched }
			}

			mult_modifier = {
				factor = 0.5
				FROM = { trait = administrator }
			}
		}
	}
}

# Swayer: Swayed was impressed by your stewardship
character_event = {
	id = HF.21043
	picture = GFX_evt_state_diplomacy

	desc = {
		text = EVTDESCAHFP21043
		trigger = { has_character_flag = flag_sway_send_stewletter }
	}
	desc = {
		text = EVTDESCBHFP21043
		picture = GFX_evt_pleasing_letter
		trigger = { has_character_flag = flag_sway_share_wealth }
	}
	desc = {
		text = EVTDESCCHFP21043
		trigger = { has_character_flag = flag_sway_tell_prosperity}
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21043

		tooltip = {
			if = {
				limit = { has_character_flag = flag_sway_send_stewletter }

				reverse_opinion = {
					name = opinion_swayed_2
					who = FROM
					years = 10
				}
			}
			else_if = {
				limit = { has_character_flag = flag_sway_share_wealth }

				reverse_opinion = {
					name = opinion_swayed_1
					who = FROM
					years = 5
				}
			}
			else_if = {
				limit = { has_character_flag = flag_sway_tell_prosperity }

				reverse_opinion = {
					name = opinion_swayed_0
					who = ROOT
					years = 5
				}
			}
		}

		clr_character_flag = flag_sway_send_stewletter
		clr_character_flag = flag_sway_share_wealth
		clr_character_flag = flag_sway_tell_prosperity
	}
}

# Swayer: Swayed was not impressed by your stewardship
character_event = {
	id = HF.21044

	desc = {
		text = EVTDESCAHFP21044
		trigger = { has_character_flag = flag_sway_send_stewletter }
	}
	desc = {
		text = EVTDESCBHFP21044
		trigger = { has_character_flag = flag_sway_share_wealth }
	}
	desc = {
		text = EVTDESCCHFP21044
		trigger = { has_character_flag = flag_sway_tell_prosperity }
	}

	picture = {
		picture = GFX_evt_daughter_asking_mother
		trigger = { has_religion_feature = religion_matriarchal }
	}
	picture = {
		picture = GFX_evt_son_asking_father
		trigger = {
			NOT = { has_religion_feature = religion_matriarchal }
		}
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21044

		clr_character_flag = flag_sway_send_stewletter
		clr_character_flag = flag_sway_share_wealth
		clr_character_flag = flag_sway_tell_prosperity
	}
}

## Learning education event

# Swayer: use your learning education to improve opinion?
character_event = {
	id = HF.21046
	desc = EVTDESCHFP21046
	picture = GFX_evt_open_book_hf

	is_triggered_only = yes

	option = { # Gift book
		name = EVTOPTAHFP21046
		tooltip_info = learning

		trigger = { stewardship >= 10 }

		set_character_flag = flag_sway_gift_book

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21047
				tooltip = tooltip_21046_A
			}
		}

		scaled_wealth = -0.1

		ai_chance = { factor = 60 }
	}

	option = { # Offer theological advice
		name = EVTOPTBHFP21046
		trigger = {
			religion_group = persistent_event_target:sway_target
			NOT = { trait = cynical }
		}

		set_character_flag = flag_sway_offer_prayers

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21047
				tooltip = tooltip_21046_B
			}
		}

		ai_chance = {
			factor = 40

			mult_modifier = {
				factor = 0.1
				trait = greedy
			}
		}
	}

	option = { # Lend books
		name = EVTOPTCHFP21046

		set_character_flag = flag_sway_lend_books

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21047
				tooltip = tooltip_21046_C
			}
		}

		add_character_modifier = {
			name = emptied_library
			years = 2
		}

		ai_chance = { factor = 20 }
	}

	option = { # No
		name = EVTOPTDHFP21046

		ai_chance = { factor = 0 }
	}
}

# Swayed: Learning talk
character_event = {
	id = HF.21047
	picture = GFX_evt_pleasing_letter

	desc = {
		text = EVTDESCAHFP21047
		trigger = { FROM = { has_character_flag = flag_sway_gift_book } }
	}
	desc = {
		text = EVTDESCBHFP21047
		trigger = { FROM = { has_character_flag = flag_sway_offer_prayers } }
	}
	desc = {
		text = EVTDESCCHFP21047
		trigger = { FROM = { has_character_flag = flag_sway_lend_books } }
	}

	is_triggered_only = yes

	option = { # Really impressed
		name = EVTOPTAHFP21047

		trigger = { FROM = { has_character_flag = flag_sway_gift_book } }

		random = {
			chance = 30
			change_learning = 1
		}

		opinion = {
			name = opinion_swayed_1
			who = FROM
			years = 5
		}

		FROM = {
			character_event = {
				id = HF.21048
				days = 10
			}
		}

		ai_chance = {
			factor = 50

			mult_modifier = {
				factor = 0.9
				FROM = { trait = shy }
			}

			mult_modifier = {
				factor = 1.1
				FROM = { trait = gregarious }
			}

			mult_modifier = {
				factor = 0.8
				trait = paranoid
			}

			mult_modifier = {
				factor = 0.8
				trait = envious
			}

			mult_modifier = {
				factor = 0.8
				trait = greedy
			}
		}
	}

	option = { # Impressed
		name = EVTOPTBHFP21047

		opinion = {
			name = opinion_swayed_0
			who = FROM
			years = 5
		}

		if = {
			limit = { FROM = { has_character_flag = flag_sway_offer_prayers } }
			piety = 20
		}
		else_if = {
			limit = { FROM = { has_character_flag = flag_sway_lend_books } }

			random = {
				chance = 5
				change_learning = 1
			}
		}

		FROM = {
			character_event = {
				id = HF.21048
				days = 10
			}
		}

		ai_chance = {
			factor = 50

			mult_modifier = {
				factor = 0.9
				FROM = { trait = shy }
			}

			mult_modifier = {
				factor = 1.1
				FROM = { trait = gregarious }
			}

			mult_modifier = {
				factor = 0.8
				trait = paranoid
			}

			mult_modifier = {
				factor = 0.8
				trait = envious
			}

			mult_modifier = {
				factor = 0.8
				trait = greedy
			}
		}
	}

	option = { # Not impressed
		name = EVTOPTCHFP21047

		FROM = {
			character_event = {
				id = HF.21049
				days = 10
			}
		}

		ai_chance = {
			factor = 50

			# Relative learning

			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = learning
					value >= 2
				}
			}

			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = learning
					value >= 4
				}
			}

			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = learning
					value >= 6
				}
			}

			# Raw learning
			mult_modifier = {
				factor = 0.95
				FROM = { learning >= 10 }
			}

			mult_modifier = {
				factor = 0.9
				FROM = { learning >= 12 }
			}

			mult_modifier = {
				factor = 0.9
				FROM = { learning >= 15 }
			}

			mult_modifier = {
				factor = 0.75
				FROM = { learning >= 18 }
			}

			mult_modifier = {
				factor = 0.75
				FROM = { learning >= 20 }
			}

			# Relative diplomacy
			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = diplomacy
					value >= 2
				}
			}

			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = diplomacy
					value >= 4
				}
			}

			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = diplomacy
					value >= 6
				}
			}

			mult_modifier = {
				factor = 0.85
				FROM = { trait = detached_priest }
			}

			mult_modifier = {
				factor = 0.75
				FROM = { trait = dutiful_cleric }
			}

			mult_modifier = {
				factor = 0.5
				FROM = { trait = scholarly_theologian }
			}

			mult_modifier = {
				factor = 0.5
				FROM = { trait = mastermind_theologian }
			}

			mult_modifier = {
				factor = 0.5
				FROM = { trait = scholar }
			}
		}
	}
}

# Swayer: Swayed was impressed by your learning
character_event = {
	id = HF.21048
	picture = GFX_evt_pleasing_letter

	desc = {
		text = EVTDESCAHFP21048
		trigger = { has_character_flag = flag_sway_gift_book }
	}
	desc = {
		text = EVTDESCBHFP21048
		trigger = { has_character_flag = flag_sway_offer_prayers }
	}
	desc = {
		text = EVTDESCCHFP21048
		trigger = { has_character_flag = flag_sway_lend_books }
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21048

		tooltip = {
			if = {
				limit = { has_character_flag = flag_sway_gift_book }

				reverse_opinion = {
					name = opinion_swayed_1
					who = FROM
					years = 5
				}
			}
			else = {
				reverse_opinion = {
					name = opinion_swayed_0
					who = FROM
					years = 5
				}
			}
		}

		clr_character_flag = flag_sway_gift_book
		clr_character_flag = flag_sway_offer_prayers
		clr_character_flag = flag_sway_lend_books
	}
}

# Swayer: Swayed was not impressed by your learning
character_event = {
	id = HF.21049
	desc = {
		text = EVTDESCAHFP21049
		trigger = { has_character_flag = flag_sway_gift_book }
	}
	desc = {
		text = EVTDESCBHFP21049
		trigger = { has_character_flag = flag_sway_offer_prayers }
	}
	desc = {
		text = EVTDESCCHFP21049
		trigger = { has_character_flag = flag_sway_lend_books }
	}

	picture = {
		picture = GFX_evt_daughter_asking_mother
		trigger = { has_religion_feature = religion_matriarchal }
	}
	picture = {
		picture = GFX_evt_son_asking_father
		trigger = {
			NOT = { has_religion_feature = religion_matriarchal }
		}
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21049

		clr_character_flag = flag_sway_gift_book
		clr_character_flag = flag_sway_offer_prayers
		clr_character_flag = flag_sway_lend_books

		if = {
			limit = { has_character_modifier = emptied_library }
			remove_character_modifier = emptied_library
		}
	}
}

###############################
# Tier II Events - Events tied to the Swayer's personality traits
###############################

## Lustful event

# Swayer: Lust-based options
character_event = {
	id = HF.21051
	desc = EVTDESCHFP21051
	picture = GFX_evt_diplomat_hf
	portrait = persistent_event_target:sway_target

	is_triggered_only = yes

	option = { # Write dirty letter
		name = EVTOPTAHFP21051
		tooltip_info = learning

		trigger = { learning >= 10 }

		set_character_flag = flag_sway_dirty_letter

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21052
				tooltip = tooltip_21051_A
			}
		}

		ai_chance = { factor = 60 }
	}

	option = { # Send Prostitutes
		name = {
			text = EVTOPTBHFP21051_A
			trigger = { persistent_event_target:sway_target = { prefers_men_trigger = no } }
		}
		name = {
			text = EVTOPTBHFP21051_B
			trigger = { persistent_event_target:sway_target = { prefers_men_trigger = yes } }
		}

		set_character_flag = flag_sway_send_prostitutes

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21052
				tooltip = tooltip_21051_B
			}
		}

		scaled_wealth = {
			value = -0.5
			min = -25
			max = -75
		}

		ai_chance = {
			factor = 40

			mult_modifier = {
				factor = 0.1
				trait = greedy
			}
		}
	}

	option = { # Go yourself
		name = EVTOPTCHFP21051

		trigger = {
			persistent_event_target:sway_target = {
				attracted_to_root_trigger = yes
			}
		}

		set_character_flag = flag_sway_lustful_present

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21052
				tooltip = tooltip_21051_C
			}
		}

		tiered_piety_negative_effect = yes

		ai_chance = { factor = 20 }
	}

	option = { # No
		name = EVTOPTDHFP21051

		ai_chance = { factor = 0 }
	}
}

# Swayed: Lustful swaying
character_event = {
	id = HF.21052
	picture = GFX_evt_brothel

	desc = {
		text = EVTDESCAHFP21052
		trigger = { FROM = { has_character_flag = flag_sway_dirty_letter } }
	}
	desc = {
		text = EVTDESCBHFP21052
		trigger = { FROM = { has_character_flag = flag_sway_send_prostitutes } }
	}
	desc = {
		text = EVTDESCCHFP21052
		trigger = { FROM = { has_character_flag = flag_sway_lustful_present }}
	}

	is_triggered_only = yes

	option = { # Really impressed
		name = EVTOPTAHFP21052

		trigger = { trait = lustful }

		opinion = {
			name = opinion_swayed_2
			who = FROM
			years = 10
		}

		if = {
			limit = {
				FROM = { is_landed = yes }
				is_ruler = no
				is_married = no
				has_lover = no
				host = { NOT = { character = FROM } }

				opinion = {
					who = FROM
					value >= 20
				}
			}

			move_character = FROM
		}

		random = {
			chance = 10

			if = {
				limit = {
					NOT = { trait = celibate }
				}

				add_trait_lustful_effect = yes
			}

			remove_trait_chaste_effect = yes
		}

		FROM = {
			character_event = {
				id = HF.21053
				days = 10
			}
		}

		ai_chance = {
			factor = 60

			trigger = {
				FROM = {
					root_attraction_trigger = yes # Must be compatible
				}
			}

			mult_modifier = {
				factor = 0.9
				FROM = { trait = shy }
			}

			mult_modifier = {
				factor = 1.1
				FROM = { trait = gregarious }
			}

			mult_modifier = {
				factor = 0.5
				FROM = { practical_age >= 40 }
				practical_age <= 40
			}

			mult_modifier = {
				factor = 0.5

				FROM = { has_unattractive_trait_trigger = yes }
				NOT = { trait = blinded }
			}

			mult_modifier = {
				factor = 1.5

				FROM = { has_attractive_trait_trigger = yes }
				NOT = { trait = blinded }
			}

			mult_modifier = {
				factor = 0.8
				trait = paranoid
			}

			mult_modifier = {
				factor = 0.8
				trait = envious
			}

			mult_modifier = {
				factor = 0.2
				trait = chaste
			}

			mult_modifier = {
				factor = 0.1
				trait = celibate
			}
		}
	}

	option = { # Impressed
		name = EVTOPTBHFP21052

		trigger = {
			NOT = { FROM = { has_character_flag = flag_sway_lustful_present } }
		}

		opinion = {
			name = opinion_swayed_1
			who = FROM
			years = 5
		}

		FROM = {
			character_event = {
				id = HF.21053
				days = 10
			}
		}

		ai_chance = {
			factor = 50

			trigger = {
				FROM = { root_attraction_trigger = yes } # Must be compatible
			}

			mult_modifier = {
				factor = 0.9
				FROM = { trait = shy }
			}

			mult_modifier = {
				factor = 1.1
				FROM = { trait = gregarious }
			}

			mult_modifier = {
				factor = 0.8
				trait = paranoid
			}

			mult_modifier = {
				factor = 0.8
				trait = envious
			}

			mult_modifier = {
				factor = 0.8
				trait = greedy
			}

			mult_modifier = {
				factor = 0.2
				trait = chaste
			}

			mult_modifier = {
				factor = 0.1
				trait = celibate
			}
		}
	}

	option = { # Not impressed
		name = EVTOPTCHFP21052

		FROM = {
			character_event = {
				id = HF.21054
				days = 10
			}
		}

		ai_chance = {
			factor = 20

			# Relative learning (for letter)
			mult_modifier = {
				factor = 1.5

				FROM = {
					has_character_flag = flag_sway_dirty_letter

					attribute_diff = {
						character = ROOT
						attribute = learning
						value <= -2
					}
				}
			}

			mult_modifier = {
				factor = 1.5

				FROM = {
					has_character_flag = flag_sway_dirty_letter

					attribute_diff = {
						character = ROOT
						attribute = learning
						value <= -4
					}
				}
			}

			mult_modifier = {
				factor = 1.5

				FROM = {
					has_character_flag = flag_sway_dirty_letter

					attribute_diff = {
						character = ROOT
						attribute = learning
						value <= -6
					}
				}
			}

			# Raw learning
			mult_modifier = {
				factor = 0.95

				FROM = {
					has_character_flag = flag_sway_dirty_letter
					learning >= 10
				}
			}

			mult_modifier = {
				factor = 0.9

				FROM = {
					has_character_flag = flag_sway_dirty_letter
					learning >= 12
				}
			}

			mult_modifier = {
				factor = 0.9

				FROM = {
					has_character_flag = flag_sway_dirty_letter
					learning >= 15
				}
			}

			mult_modifier = {
				factor = 0.75

				FROM = {
					has_character_flag = flag_sway_dirty_letter
					learning >= 18
				}
			}

			mult_modifier = {
				factor = 0.75

				FROM = {
					has_character_flag = flag_sway_dirty_letter
					learning >= 20
				}
			}

			# Relative diplomacy
			mult_modifier = {
				factor = 1.5

				FROM = {
					NOT = { has_character_flag = flag_sway_dirty_letter }

					attribute_diff = {
						character = ROOT
						attribute = diplomacy
						value <= -2
					}
				}
			}

			mult_modifier = {
				factor = 1.5

				FROM = {
					NOT = { has_character_flag = flag_sway_dirty_letter }

					attribute_diff = {
						character = ROOT
						attribute = diplomacy
						value <= -4
					}
				}
			}

			mult_modifier = {
				factor = 1.5

				FROM = {
					NOT = { has_character_flag = flag_sway_dirty_letter }

					attribute_diff = {
						character = ROOT
						attribute = diplomacy
						value <= -6
					}
				}
			}

			# Raw diplomacy
			mult_modifier = {
				factor = 0.95

				FROM = {
					NOT = { has_character_flag = flag_sway_dirty_letter }
					diplomacy >= 10
				}
			}

			mult_modifier = {
				factor = 0.9

				FROM = {
					NOT = { has_character_flag = flag_sway_dirty_letter }
					diplomacy >= 12
				}
			}

			mult_modifier = {
				factor = 0.9

				FROM = {
					NOT = { has_character_flag = flag_sway_dirty_letter }
					diplomacy >= 15
				}
			}

			mult_modifier = {
				factor = 0.75

				FROM = {
					NOT = { has_character_flag = flag_sway_dirty_letter }
					diplomacy >= 18
				}
			}

			mult_modifier = {
				factor = 0.75

				FROM = {
					NOT = { has_character_flag = flag_sway_dirty_letter }
					diplomacy >= 20
				}
			}

			mult_modifier = {
				factor = 0.9

				FROM = {
					has_character_flag = flag_sway_lustful_present
					higher_real_tier_than = ROOT # Intimidated
				}
			}

			mult_modifier = {
				factor = 0.5
				FROM = { trait = master_seducer }
			}

			mult_modifier = {
				factor = 0.5
				FROM = { trait = master_seductress }
			}

			mult_modifier = {
				factor = 0.75
				FROM = { trait = master_schemer }
			}
		}
	}

	option = { # Repulsed
		name = EVTOPTDHFP21052

		trigger = {
			OR = {
				trait = chaste
				trait = celibate
			}
		}

		opinion = {
			name = opinion_disgusted
			who = FROM
			years = 5
		}

		FROM = {
			set_character_flag = flag_swaying_lustful_repulsed

			character_event = {
				id = HF.21054
				days = 10
			}
		}

		ai_chance = {
			factor = 10

			mult_modifier = {
				factor = 5
				trait = celibate
			}

			mult_modifier = {
				factor = 3
				trait = chaste
			}

			# Relative learning (for letter)

			mult_modifier = {
				factor = 1.5

				FROM = {
					has_character_flag = flag_sway_dirty_letter

					attribute_diff = {
						character = ROOT
						attribute = learning
						value <= -2
					}
				}
			}

			mult_modifier = {
				factor = 1.5

				FROM = {
					has_character_flag = flag_sway_dirty_letter

					attribute_diff = {
						character = ROOT
						attribute = learning
						value <= -4
					}
				}
			}

			mult_modifier = {
				factor = 1.5

				FROM = {
					has_character_flag = flag_sway_dirty_letter

					attribute_diff = {
						character = ROOT
						attribute = learning
						value <= -6
					}
				}
			}

			# Raw learning
			mult_modifier = {
				factor = 0.95

				FROM = {
					has_character_flag = flag_sway_dirty_letter
					learning >= 10
				}
			}

			mult_modifier = {
				factor = 0.9

				FROM = {
					has_character_flag = flag_sway_dirty_letter
					learning >= 12
				}
			}

			mult_modifier = {
				factor = 0.9

				FROM = {
					has_character_flag = flag_sway_dirty_letter
					learning >= 15
				}
			}

			mult_modifier = {
				factor = 0.75

				FROM = {
					has_character_flag = flag_sway_dirty_letter
					learning >= 18
				}
			}

			mult_modifier = {
				factor = 0.75

				FROM = {
					has_character_flag = flag_sway_dirty_letter
					learning >= 20
				}
			}

			# Relative diplomacy
			mult_modifier = {
				factor = 1.5

				FROM = {
					NOT = { has_character_flag = flag_sway_dirty_letter }

					attribute_diff = {
						character = ROOT
						attribute = diplomacy
						value <= -2
					}
				}
			}

			mult_modifier = {
				factor = 1.5

				FROM = {
					NOT = { has_character_flag = flag_sway_dirty_letter }

					attribute_diff = {
						character = ROOT
						attribute = diplomacy
						value <= -4
					}
				}
			}

			mult_modifier = {
				factor = 1.5

				FROM = {
					NOT = { has_character_flag = flag_sway_dirty_letter }

					attribute_diff = {
						character = ROOT
						attribute = diplomacy
						value <= -6
					}
				}
			}

			# Raw diplomacy
			mult_modifier = {
				factor = 0.95

				FROM = {
					NOT = { has_character_flag = flag_sway_dirty_letter }
					diplomacy >= 10
				}
			}

			mult_modifier = {
				factor = 0.9

				FROM = {
					NOT = { has_character_flag = flag_sway_dirty_letter }
					diplomacy >= 12
				}
			}

			mult_modifier = {
				factor = 0.9

				FROM = {
					NOT = { has_character_flag = flag_sway_dirty_letter }
					diplomacy >= 15
				}
			}

			mult_modifier = {
				factor = 0.75

				FROM = {
					NOT = { has_character_flag = flag_sway_dirty_letter }
					diplomacy >= 18
				}
			}

			mult_modifier = {
				factor = 0.75

				FROM = {
					NOT = { has_character_flag = flag_sway_dirty_letter }
					diplomacy >= 20
				}
			}

			mult_modifier = {
				factor = 0.9

				FROM = {
					has_character_flag = flag_sway_lustful_present
					higher_tier_than = ROOT # Intimidated
				}
			}

			mult_modifier = {
				factor = 0.65
				FROM = { has_character_flag = flag_sway_dirty_letter }
			}

			mult_modifier = {
				factor = 0.5
				FROM = { trait = master_seducer }
			}

			mult_modifier = {
				factor = 0.5
				FROM = { trait = master_seductress }
			}

			mult_modifier = {
				factor = 0.75
				FROM = { trait = master_schemer }
			}
		}
	}
}

# Swayer: Swayed was impressed by your present
character_event = {
	id = HF.21053

	desc = {
		text = EVTDESCAHFP21053
		picture = GFX_evt_recovery
		trigger = { has_character_flag = flag_sway_dirty_letter }
	}
	desc = {
		text = EVTDESCBHFP21053
		picture = GFX_evt_sultan
		trigger = { has_character_flag = flag_sway_send_prostitutes }
	}
	desc = {
		text = EVTDESCCHFP21053
		picture = GFX_evt_lovers
		trigger = { has_character_flag = flag_sway_lustful_present }
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21053

		tooltip = {
			if = {
				limit = { has_character_flag = flag_sway_lustful_present }

				reverse_opinion = {
					name = opinion_swayed_2
					who = FROM
					years = 10
				}
			}
			else = {
				reverse_opinion = {
					name = opinion_swayed_1
					who = FROM
					years = 5
				}
			}
		}

		clr_character_flag = flag_sway_lustful_present
		clr_character_flag = flag_sway_send_prostitutes
		clr_character_flag = flag_sway_dirty_letter
	}
}

# Swayer: Swayed was not impressed by your present
character_event = {
	id = HF.21054
	picture = GFX_evt_brothel

	desc = {
		text = EVTDESCAHFP21054
		trigger = {
			NOT = { has_character_flag = flag_swaying_lustful_repulsed }
		}
	}
	desc = {
		text = EVTDESCBHFP21054
		trigger = { has_character_flag = flag_swaying_lustful_repulsed }
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21054

		tooltip = {
			if = {
				limit = { has_character_flag = flag_swaying_lustful_repulsed }

				reverse_opinion = {
					name = opinion_disgusted
					who = FROM
					years = 5
				}
			}
		}

		clr_character_flag = flag_sway_lustful_present
		clr_character_flag = flag_sway_send_prostitutes
		clr_character_flag = flag_sway_dirty_letter
		clr_character_flag = flag_swaying_lustful_repulsed
	}
}

## Gluttonous event

# Swayer: Gluttony-based options
character_event = {
	id = HF.21056
	desc = EVTDESCHFP21056
	picture = GFX_evt_fancy_feast
	portrait = persistent_event_target:sway_target

	is_triggered_only = yes

	option = { # Send exotic food
		name = EVTOPTAHFP21056
		tooltip_info = learning

		trigger = { learning >= 10 }

		set_character_flag = flag_sway_exotic_food

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21057
				tooltip = tooltip_21056_A
			}
		}

		scaled_wealth = -0.5

		ai_chance = {
			factor = 60

			mult_modifier = {
				factor = 0.1
				trait = greedy
			}

		}
	}

	option = { # Invite to dinner
		name = EVTOPTBHFP21056

		set_character_flag = flag_sway_glutton_dinner

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21057
				tooltip = tooltip_21056_B
			}
		}

		tiered_prestige_negative_effect = yes

		ai_chance = { factor = 40 }
	}

	option = { # No
		name = EVTOPTCHFP21056

		ai_chance = { factor = 0 }
	}
}

# Swayed: Gluttonous swaying
character_event = {
	id = HF.21057
	picture = GFX_evt_fancy_feast

	desc = {
		text = EVTDESCAHFP21057
		trigger = { FROM = { has_character_flag = flag_sway_exotic_food } }
	}
	desc = {
		text = EVTDESCBHFP21057
		trigger = { FROM = { has_character_flag = flag_sway_glutton_dinner } }
	}

	is_triggered_only = yes

	option = { # Really impressed
		name = EVTOPTAHFP21057

		opinion = {
			name = opinion_swayed_2
			who = FROM
			years = 10
		}

		random = {
			chance = 10

			add_trait_partially_gluttonous_effect = yes
		}

		FROM = {
			set_character_flag = flag_crit_swayed_glutton

			character_event = {
				id = HF.21058
				days = 10
			}
		}

		ai_chance = {
			factor = 20

			mult_modifier = {
				factor = 0.9
				FROM = { trait = shy }
			}

			mult_modifier = {
				factor = 1.1
				FROM = { trait = gregarious }
			}

			mult_modifier = {
				factor = 0.8
				trait = paranoid
			}

			mult_modifier = {
				factor = 0.8
				trait = envious
			}

			mult_modifier = {
				factor = 0.2
				trait = temperate
			}

			mult_modifier = {
				factor = 1.75
				trait = gluttonous
			}

			mult_modifier = {
				factor = 1.5
				trait = fat
			}

			mult_modifier = {
				factor = 1.5
				FROM = { has_character_flag = flag_sway_exotic_food }
			}
		}
	}

	option = { # Impressed
		name = EVTOPTBHFP21057

		gain_weight_small_effect = yes
		weight_trait_check_effect = yes

		opinion = {
			name = opinion_swayed_1
			who = FROM
			years = 5
		}

		if = {
			limit = {
				FROM = {
					has_character_flag = flag_sway_glutton_dinner
					is_ruler = yes
				}

				is_ruler = no
				is_married = no
				has_lover = no
				host = { NOT = { character = FROM } }

				opinion = {
					who = FROM
					value >= 20
				}
			}

			move_character = FROM
		}

		FROM = {
			set_character_flag = flag_swayed_glutton

			character_event = {
				id = HF.21058
				days = 10
			}
		}

		ai_chance = {
			factor = 50

			mult_modifier = {
				factor = 0.9
				FROM = { trait = shy }
			}

			mult_modifier = {
				factor = 1.1
				FROM = { trait = gregarious }
			}

			mult_modifier = {
				factor = 0.8
				trait = paranoid
			}

			mult_modifier = {
				factor = 0.8
				trait = envious
			}

			mult_modifier = {
				factor = 0.2
				trait = temperate
			}

			mult_modifier = {
				factor = 1.75
				trait = gluttonous
			}

			mult_modifier = {
				factor = 1.5
				trait = fat
			}
		}
	}

	option = { # Not impressed
		name = EVTOPTCHFP21057

		FROM = {
			character_event = {
				id = HF.21059
				days = 10
			}
		}

		ai_chance = {
			factor = 20

			# Relative diplomacy
			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = diplomacy
					value >= 2
				}
			}

			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = diplomacy
					value >= 4
				}
			}

			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = diplomacy
					value >= 6
				}
			}

			# Raw diplomacy
			mult_modifier = {
				factor = 0.95
				FROM = { diplomacy >= 10 }
			}

			mult_modifier = {
				factor = 0.9
				FROM = { diplomacy >= 12 }
			}

			mult_modifier = {
				factor = 0.9
				FROM = { diplomacy >= 15 }
			}

			mult_modifier = {
				factor = 0.75
				FROM = { diplomacy >= 18 }
			}

			mult_modifier = {
				factor = 0.75
				FROM = { diplomacy >= 20 }
			}

			mult_modifier = {
				factor = 0.9

				FROM = {
					has_character_flag = flag_sway_glutton_dinner
					higher_real_tier_than = ROOT # Intimidated
				}
			}
		}
	}

	option = { # Repulsed
		name = EVTOPTDHFP21057

		FROM = {
			set_character_flag = flag_repulsed_glutton

			character_event = {
				id = HF.21059
				days = 10
			}
		}

		ai_chance = {
			factor = 10

			mult_modifier = {
				factor = 3
				trait = temperate
			}

			mult_modifier = {
				factor = 1.5
				trait = malnourished
			}

			# Relative diplomacy
			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = diplomacy
					value >= 2
				}
			}

			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = diplomacy
					value >= 4
				}
			}

			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = diplomacy
					value >= 6
				}
			}

			# Raw diplomacy
			mult_modifier = {
				factor = 0.95
				FROM = { diplomacy >= 10 }
			}

			mult_modifier = {
				factor = 0.9
				FROM = { diplomacy >= 12 }
			}

			mult_modifier = {
				factor = 0.9
				FROM = { diplomacy >= 15 }
			}

			mult_modifier = {
				factor = 0.75
				FROM = { diplomacy >= 18 }
			}

			mult_modifier = {
				factor = 0.75
				FROM = { diplomacy >= 20 }
			}

			mult_modifier = {
				factor = 0.9

				FROM = {
					has_character_flag = flag_sway_glutton_dinner
					higher_tier_than = ROOT # Intimidated
				}
			}

			mult_modifier = {
				factor = 0.5
				FROM = { trait = hedonist }
			}

			mult_modifier = {
				factor = 0.5
				FROM = { trait = socializer }
			}

			mult_modifier = {
				factor = 0.75
				FROM = { has_focus = focus_carousing }
			}
		}
	}
}

# Swayer: Swayed was impressed by your present
character_event = {
	id = HF.21058
	picture = GFX_evt_fancy_feast

	desc = {
		text = EVTDESCAHFP21058
		trigger = { has_character_flag = flag_crit_swayed_glutton }
	}
	desc = {
		text = EVTDESCBHFP21058
		trigger = {
			NOT = { has_character_flag = flag_crit_swayed_glutton }
		}
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21058

		tooltip = {
			if = {
				limit = { has_character_flag = flag_crit_swayed_glutton }

				reverse_opinion = {
					name = opinion_swayed_2
					who = FROM
					years = 10
				}
			}
			else = {
				reverse_opinion = {
					name = opinion_swayed_1
					who = FROM
					years = 5
				}
			}
		}

		clr_character_flag = flag_sway_exotic_food
		clr_character_flag = flag_sway_glutton_dinner
		clr_character_flag = flag_crit_swayed_glutton
	}
}

# Swayer: Swayed was not impressed by your present
character_event = {
	id = HF.21059
	picture = GFX_evt_brothel

	desc = {
		text = EVTDESCAHFP21059
		trigger = {
			NOT = { has_character_flag = flag_repulsed_glutton }
		}
	}
	desc = {
		text = EVTDESCBHFP21059
		trigger = { has_character_flag = flag_repulsed_glutton }
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21059

		if = {
			limit = { has_character_flag = flag_repulsed_glutton }

			reverse_opinion = {
				name = opinion_disgusted
				who = FROM
				years = 5
			}
		}

		clr_character_flag = flag_sway_exotic_food
		clr_character_flag = flag_sway_glutton_dinner
		clr_character_flag = flag_repulsed_glutton
	}
}

## Slothful event

# Swayer: Sloth-based options
character_event = {
	id = HF.21061
	desc = EVTDESCHFP21061
	picture = GFX_evt_recovery
	portrait = persistent_event_target:sway_target

	is_triggered_only = yes

	immediate = {
		job_chancellor = {
			save_event_target_as = localized_chancellor # Only for loc purposes
		}
	}

	option = { # Invite for sightseeing
		name = EVTOPTAHFP21061

		set_character_flag = flag_sway_sloth_sights

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21062
				tooltip = tooltip_21061_A
			}
		}

		ai_chance = {
			factor = 60

			mult_modifier = {
				factor = 1.5
				trait = gardener
			}
		}
	}

	option = { # Order chancellor to write letter
		name = EVTOPTBHFP21061

		trigger = { event_target:localized_chancellor = { always = yes } }

		set_character_flag = flag_sway_sloth_letter

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21062
				tooltip = tooltip_21061_B
			}
		}

		ai_chance = {
			factor = 40

			mult_modifier = {
				factor = 1.5
				is_ill = yes
			}
		}
	}

	option = { # No
		name = EVTOPTCHFP21061

		ai_chance = { factor = 0 }
	}
}

# Swayed: Slothful swaying
character_event = {
	id = HF.21062
	picture = GFX_evt_garden

	desc = {
		text = EVTDESCAHFP21062
		trigger = { FROM = { has_character_flag = flag_sway_sloth_sights } }
	}
	desc = {
		text = EVTDESCBHFP21062
		trigger = { FROM = { has_character_flag = flag_sway_sloth_letter }}
	}

	is_triggered_only = yes

	option = { # Really impressed
		name = EVTOPTAHFP21062

		opinion = {
			name = opinion_swayed_2
			who = FROM
			years = 10
		}

		if = {
			limit = {
				FROM = {
					is_ruler = yes
					has_character_flag = flag_sway_sloth_sights
				}

				is_ruler = no
				is_married = no
				has_lover = no
				host = { NOT = { character = FROM } }

				opinion = {
					who = FROM
					value >= 20
				}
			}

			move_character = FROM
		}

		FROM = {
			set_character_flag = flag_crit_swayed_slothful

			character_event = {
				id = HF.21063
				days = 10
			}
		}

		ai_chance = {
			factor = 20

			mult_modifier = {
				factor = 0.9
				FROM = { trait = shy }
			}

			mult_modifier = {
				factor = 1.1
				FROM = { trait = gregarious }
			}

			mult_modifier = {
				factor = 0.8
				trait = paranoid
			}

			mult_modifier = {
				factor = 0.8
				trait = envious
			}

			mult_modifier = {
				factor = 0.2
				trait = diligent
			}

			mult_modifier = {
				factor = 1.75
				trait = slothful
			}

			mult_modifier = {
				factor = 1.25
				trait = gardener
			}

			mult_modifier = {
				factor = 0.75
				FROM = { has_character_flag = flag_sway_sloth_letter }
			}
		}
	}

	option = { # Impressed
		name = EVTOPTBHFP21062

		opinion = {
			name = opinion_swayed_1
			who = FROM
			years = 5
		}

		FROM = {
			set_character_flag = flag_swayed_slothful

			character_event = {
				id = HF.21063
				days = 10
			}
		}

		ai_chance = {
			factor = 50

			mult_modifier = {
				factor = 0.9
				FROM = { trait = shy }
			}

			mult_modifier = {
				factor = 1.1
				FROM = { trait = gregarious }
			}

			mult_modifier = {
				factor = 0.8
				trait = paranoid
			}

			mult_modifier = {
				factor = 0.8
				trait = envious
			}

			mult_modifier = {
				factor = 0.2
				trait = diligent
			}

			mult_modifier = {
				factor = 1.75
				trait = slothful
			}

			mult_modifier = {
				factor = 1.25
				trait = gardener
			}
		}
	}

	option = { # Not impressed
		name = EVTOPTCHFP21062

		FROM = {
			character_event = {
				id = HF.21064
				days = 10
			}
		}

		ai_chance = {
			factor = 20

			# Relative diplomacy
			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = diplomacy
					value >= 2
				}
			}

			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = diplomacy
					value >= 4
				}
			}

			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = diplomacy
					value >= 6
				}
			}

			# Raw diplomacy
			mult_modifier = {
				factor = 0.95

				FROM = {
					has_character_flag = flag_sway_sloth_letter
					event_target:localized_chancellor = { diplomacy >= 10 }
				}
			}

			mult_modifier = {
				factor = 0.9

				FROM = { has_character_flag = flag_sway_sloth_letter }
				event_target:localized_chancellor = { diplomacy >= 12 }
			}

			mult_modifier = {
				factor = 0.9

				FROM = { has_character_flag = flag_sway_sloth_letter }
				event_target:localized_chancellor = { diplomacy >= 15 }
			}

			mult_modifier = {
				factor = 0.75

				FROM = { has_character_flag = flag_sway_sloth_letter }
				event_target:localized_chancellor = { diplomacy >= 18 }
			}

			mult_modifier = {
				factor = 0.75

				FROM = { has_character_flag = flag_sway_sloth_letter }
				event_target:localized_chancellor = { diplomacy >= 20 }
			}

			mult_modifier = {
				factor = 0.9

				FROM = {
					has_character_flag = flag_sway_sloth_sights
					higher_real_tier_than = ROOT # Intimidated
				}
			}
		}
	}

	option = { # Insulted
		name = {
			text = EVTOPTDHFP21062_A
			trigger = { FROM = { has_character_flag = flag_sway_sloth_sights } }
		}
		name = {
			text = EVTOPTDHFP21062_B
			trigger = { FROM = { has_character_flag = flag_sway_sloth_letter } }
		}

		opinion = {
			name = opinion_disgusted
			who = FROM
			years = 5
		}

		FROM = {
			set_character_flag = flag_repulsed_slothful

			character_event = {
				id = HF.21064
				days = 10
			}
		}

		ai_chance = {
			factor = 10

			mult_modifier = {
				factor = 3
				trait = diligent
			}

			mult_modifier = {
				factor = 1.25
				trait = proud
			}

			mult_modifier = {
				factor = 0.5
				FROM = { trait = hedonist }
			}

			mult_modifier = {
				factor = 0.5
				FROM = { trait = socializer }
			}

			mult_modifier = {
				factor = 0.75
				FROM = { has_focus = focus_carousing }
			}
		}
	}
}

# Swayer: Swayed was impressed by your present
character_event = {
	id = HF.21063
	picture = GFX_evt_garden

	desc = {
		text = EVTDESCAHFP21063
		trigger = { has_character_flag = flag_crit_swayed_slothful }
	}
	desc = {
		text = EVTDESCBHFP21063
		trigger = {
			NOT = { has_character_flag = flag_crit_swayed_slothful }
		}
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21063

		tooltip = {
			if = {
				limit = { has_character_flag = flag_crit_swayed_slothful }

				reverse_opinion = {
					name = opinion_swayed_2
					who = FROM
					years = 10
				}
			}
			else = {
				reverse_opinion = {
					name = opinion_swayed_1
					who = FROM
					years = 5
				}
			}
		}

		clr_character_flag = flag_sway_sloth_sights
		clr_character_flag = flag_sway_sloth_letter
		clr_character_flag = flag_crit_swayed_slothful
	}
}

# Swayer: Swayed not impressed by your present
character_event = {
	id = HF.21064
	picture = GFX_evt_garden

	desc = {
		text = EVTDESCAHFP21064
		trigger = {
			NOT = { has_character_flag = flag_repulsed_slothful }
		}
	}
	desc = {
		text = EVTDESCBHFP21064
		trigger = { has_character_flag = flag_repulsed_slothful }
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21064

		if = {
			limit = { has_character_flag = flag_repulsed_slothful }

			reverse_opinion = {
				who = FROM
				name = opinion_disgusted
				years = 5
			}
		}

		clr_character_flag = flag_sway_sloth_sights
		clr_character_flag = flag_sway_sloth_letter
		clr_character_flag = flag_repulsed_slothful
	}
}

## Wroth event

# Swayer: Wroth-based options
character_event = {
	id = HF.21066
	desc = EVTDESCHFP21066
	picture = GFX_evt_upsetting_letter
	portrait = persistent_event_target:sway_target

	is_triggered_only = yes

	option = { # Benefits of direct action
		name = EVTOPTAHFP21066

		set_character_flag = flag_sway_wroth_approach

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21067
				tooltip = tooltip_21066_A
			}
		}

		ai_chance = {
			factor = 60

			mult_modifier = {
				factor = 1.5
				trait = gardener
			}
		}
	}

	option = { # Demand friendship
		name = EVTOPTBHFP21066

		set_character_flag = flag_sway_wroth_demand

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21067
				tooltip = tooltip_21066_B
			}
		}

		ai_chance = {
			factor = 40

			mult_modifier = {
				factor = 0.5
				trait = humble
			}
		}
	}

	option = { # No
		name = EVTOPTCHFP21066

		ai_chance = { factor = 0 }
	}
}

# Swayed: Wroth swaying
character_event = {
	id = HF.21067
	picture = GFX_evt_upsetting_letter

	desc = {
		text = EVTDESCAHFP21067
		trigger = { FROM = { has_character_flag = flag_sway_wroth_approach } }
	}
	desc = {
		text = EVTDESCBHFP21067
		trigger = { FROM = { has_character_flag = flag_sway_wroth_demand } }
	}

	is_triggered_only = yes

	option = { # Impressed
		name = {
			text = EVTOPTAHFP21067_A
			trigger = { has_character_flag = flag_sway_wroth_approach }
		}
		name = {
			text = EVTOPTAHFP21067_B
			trigger = { has_character_flag = flag_sway_wroth_demand }
		}

		opinion = {
			name = opinion_swayed_1
			who = FROM
			years = 5
		}

		FROM = {
			character_event = {
				id = HF.21068
				days = 10
			}
		}

		ai_chance = {
			factor = 50

			mult_modifier = {
				factor = 0.9
				FROM = { trait = shy }
			}

			mult_modifier = {
				factor = 1.1
				FROM = { trait = gregarious }
			}

			mult_modifier = {
				factor = 0.8
				trait = paranoid
			}

			mult_modifier = {
				factor = 0.7
				trait = brave
			}

			mult_modifier = {
				factor = 0.2
				trait = patient
			}

			mult_modifier = {
				factor = 1.75
				trait = craven
			}

			mult_modifier = {
				factor = 1.25
				trait = duelist
			}
		}
	}

	option = { # Not impressed
		name = EVTOPTBHFP21067

		FROM = {
			character_event = {
				id = HF.21069
				days = 10
			}
		}

		ai_chance = {
			factor = 20

			# Relative diplomacy
			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = diplomacy
					value >= 2
				}
			}

			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = diplomacy
					value >= 4
				}
			}

			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = diplomacy
					value >= 6
				}
			}
		}
	}

	option = { # Insulted
		name = EVTOPTCHFP21067

		opinion = {
			name = opinion_disgusted
			who = FROM
			years = 5
		}

		FROM = {
			set_character_flag = flag_repulsed_wroth

			character_event = {
				id = HF.21069
				days = 10
			}
		}

		ai_chance = {
			factor = 10

			mult_modifier = {
				factor = 3
				trait = patient
			}

			mult_modifier = {
				factor = 1.25
				trait = proud
			}

			mult_modifier = {
				factor = 0.5
				FROM = { trait = gregarious }
			}

			mult_modifier = {
				factor = 0.5
				FROM = { trait = brave }
			}

			mult_modifier = {
				factor = 0.75
				FROM = { has_focus = focus_war }
			}
		}
	}
}

# Swayer: Swayed was impressed by your present
character_event = {
	id = HF.21068
	picture = GFX_evt_pleasing_letter

	desc = {
		text = EVTDESCAHFP21068
		trigger = { has_character_flag = flag_sway_wroth_approach }
	}
	desc = {
		text = EVTDESCBHFP21068
		trigger = { has_character_flag = flag_sway_wroth_demand }
	}

	is_triggered_only = yes

	option = {
		name = GOOD

		tooltip = {
			reverse_opinion = {
				name = opinion_swayed_1
				who = FROM
				years = 5
			}
		}

		clr_character_flag = flag_sway_wroth_approach
		clr_character_flag = flag_sway_wroth_demand
		clr_character_flag = flag_repulsed_wroth
	}
}

# Swayer: Swayed was not impressed by your present
character_event = {
	id = HF.21069
	picture = GFX_evt_upsetting_letter

	desc = {
		text = EVTDESCAHFP21069
		trigger = {
			NOT = { has_character_flag = flag_repulsed_wroth }
		}
	}
	desc = {
		text = EVTDESCBHFP21069
		trigger = { has_character_flag = flag_repulsed_wroth }
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21069

		if = {
			limit = { has_character_flag = flag_repulsed_wroth }

			reverse_opinion = {
				name = opinion_disgusted
				who = FROM
				years = 5
			}
		}

		clr_character_flag = flag_sway_wroth_approach
		clr_character_flag = flag_sway_wroth_demand
		clr_character_flag = flag_repulsed_wroth
	}
}

## Proud event

# Swayer: Proud-based options
character_event = {
	id = HF.21071
	desc = EVTDESCHFP21071
	picture = GFX_evt_diplomat_hf
	portrait = persistent_event_target:sway_target

	is_triggered_only = yes

	option = { # Send letter
		name = EVTOPTAHFP21071

		set_character_flag = flag_sway_proud_letter

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21072
				tooltip = tooltip_21071_A
			}
		}

		ai_chance = {
			factor = 60

			mult_modifier = {
				factor = 1.5
				trait = poet
			}
		}
	}

	option = { # Send statue
		name = EVTOPTBHFP21071

		trigger = { job_chancellor = { always = yes } }

		set_character_flag = flag_sway_proud_statue

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21072
				tooltip = tooltip_21071_B
			}
		}

		scaled_wealth = {
			value = -0.07
			min = -5
			max = -100
		}

		ai_chance = {
			factor = 40

			mult_modifier = {
				factor = 0.5
				trait = greedy
			}
		}
	}

	option = { # No
		name = EVTOPTCHFP21071

		ai_chance = { factor = 0 }
	}
}

# Swayed: Proud swaying
character_event = {
	id = HF.21072
	picture = GFX_evt_diplomat_hf

	desc = {
		text = EVTDESCAHFP21072
		trigger = { FROM = { has_character_flag = flag_sway_proud_letter } }
	}
	desc = {
		text = EVTDESCBHFP21072
		trigger = { FROM = { has_character_flag = flag_sway_proud_statue } }
	}

	is_triggered_only = yes

	option = { # Really impressed
		name = EVTOPTAHFP21072

		opinion = {
			name = opinion_swayed_2
			who = FROM
			years = 10
		}

		FROM = {
			set_character_flag = flag_crit_swayed_proud

			character_event = {
				id = HF.21073
				days = 10
			}
		}

		ai_chance = {
			factor = 20

			mult_modifier = {
				factor = 0.9
				FROM = { trait = shy }
			}

			mult_modifier = {
				factor = 1.1
				FROM = { trait = gregarious }
			}

			mult_modifier = {
				factor = 0.8
				trait = paranoid
			}

			mult_modifier = {
				factor = 0.7
				trait = envious
			}

			mult_modifier = {
				factor = 0.2
				trait = humble
			}

			mult_modifier = {
				factor = 1.75
				trait = proud
			}

			mult_modifier = {
				factor = 1.25
				trait = gardener
			}

			mult_modifier = {
				factor = 0.75
				FROM = { has_character_flag = flag_sway_proud_letter }
			}
		}
	}

	option = { # Impressed
		name = EVTOPTBHFP21072

		opinion = {
			name = opinion_swayed_1
			who = FROM
			years = 5
		}

		FROM = {
			set_character_flag = flag_swayed_proud

			character_event = {
				id = HF.21073
				days = 10
			}
		}

		ai_chance = {
			factor = 50

			mult_modifier = {
				factor = 0.9
				FROM = { trait = shy }
			}

			mult_modifier = {
				factor = 1.1
				FROM = { trait = gregarious }
			}

			mult_modifier = {
				factor = 0.8
				trait = paranoid
			}

			mult_modifier = {
				factor = 0.8
				trait = envious
			}

			mult_modifier = {
				factor = 0.2
				trait = diligent
			}

			mult_modifier = {
				factor = 1.75
				trait = slothful
			}

			mult_modifier = {
				factor = 1.25
				trait = gardener
			}
		}
	}

	option = { # Not impressed
		name = EVTOPTCHFP21072

		FROM = {
			character_event = {
				id = HF.21074
				days = 10
			}
		}

		ai_chance = {
			factor = 20

			# Relative diplomacy
			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = diplomacy
					value >= 2
				}
			}

			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = diplomacy
					value >= 4
				}
			}

			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = diplomacy
					value >= 6
				}
			}

			# Raw diplomacy
			mult_modifier = {
				factor = 0.95

				FROM = {
					has_character_flag = flag_sway_proud_letter
					diplomacy >= 10
				}
			}

			mult_modifier = {
				factor = 0.9

				FROM = {
					has_character_flag = flag_sway_proud_letter
					diplomacy >= 12
				}
			}

			mult_modifier = {
				factor = 0.9

				FROM = {
					has_character_flag = flag_sway_proud_letter
					diplomacy >= 15
				}
			}

			mult_modifier = {
				factor = 0.75

				FROM = {
					has_character_flag = flag_sway_proud_letter
					diplomacy >= 18
				}
			}

			mult_modifier = {
				factor = 0.75

				FROM = {
					has_character_flag = flag_sway_proud_letter
					diplomacy >= 20
				}
			}

			mult_modifier = {
				factor = 0.9

				FROM = {
					has_character_flag = flag_sway_proud_statue
					higher_real_tier_than = ROOT # Intimidated
				}
			}
		}
	}

	option = { # Insulted
		name = EVTOPTDHFP21072

		FROM = {
			set_character_flag = flag_repulsed_proud

			character_event = {
				id = HF.21074
				days = 10
			}
		}

		ai_chance = {
			factor = 10

			mult_modifier = {
				factor = 3
				trait = humble
			}

			mult_modifier = {
				factor = 1.25
				trait = proud
			}

			mult_modifier = {
				factor = 0.5
				FROM = { prestige >= 500 }
			}

			mult_modifier = {
				factor = 0.5
				FROM = { trait = socializer }
			}

			mult_modifier = {
				factor = 0.75
				FROM = { has_focus = focus_rulership }
			}
		}
	}
}

# Swayer: Swayed was impressed by your present
character_event = {
	id = HF.21073
	picture = GFX_evt_pleasing_letter

	desc = {
		text = EVTDESCAHFP21073
		trigger = { has_character_flag = flag_crit_swayed_proud }
	}
	desc = {
		text = EVTDESCBHFP21073
		trigger = {
			NOT = { has_character_flag = flag_crit_swayed_proud }
		}
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21073

		tooltip = {
			if = {
				limit = { has_character_flag = flag_crit_swayed_proud }

				reverse_opinion = {
					name = opinion_swayed_2
					who = FROM
					years = 10
				}
			}

			else = {
				reverse_opinion = {
					name = opinion_swayed_1
					who = FROM
					years = 5
				}
			}
		}

		clr_character_flag = flag_sway_proud_letter
		clr_character_flag = flag_sway_proud_statue
		clr_character_flag = flag_crit_swayed_proud
	}
}

# Swayer: Swayed was not impressed by your present
character_event = {
	id = HF.21074
	picture = GFX_evt_upsetting_letter

	desc = {
		text = EVTDESCAHFP21074
		trigger = {
			NOT = { has_character_flag = flag_repulsed_proud }
		}
	}
	desc = {
		text = EVTDESCBHFP21074
		trigger = { has_character_flag = flag_repulsed_proud }
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21074

		if = {
			limit = { has_character_flag = flag_repulsed_proud }

			reverse_opinion = {
				name = opinion_disgusted
				who = FROM
				years = 5
			}
		}

		clr_character_flag = flag_sway_proud_letter
		clr_character_flag = flag_sway_proud_statue
		clr_character_flag = flag_repulsed_proud
	}
}

## Kind event

# Swayer: Kind-based options
character_event = {
	id = HF.21076
	portrait = persistent_event_target:sway_target

	desc = {
		text = EVTDESCAHFP21076
		trigger = {
			trait = gregarious
			NOT = { trait = kind }
		}
	}
	desc = {
		text = EVTDESCBHFP21076
		trigger = { trait = kind }
	}

	picture = {
		picture = GFX_evt_daughter_asking_mother
		trigger = { has_religion_feature = religion_matriarchal }
	}
	picture = {
		picture = GFX_evt_son_asking_father
		trigger = {
			NOT = { has_religion_feature = religion_matriarchal }
		}
	}

	is_triggered_only = yes

	option = { # Ask for friendship
		name = EVTOPTAHFP21076

		set_character_flag = flag_sway_kind_approach

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21077
				tooltip = tooltip_21076_A
			}
		}

		tiered_prestige_negative_effect = yes

		ai_chance = {
			factor = 60

			mult_modifier = {
				factor = 0.5
				trait = proud
			}
		}
	}

	option = { # Inquire about health
		name = EVTOPTBHFP21076

		trigger = {
			persistent_event_target:sway_target = { is_ill = yes }
			has_assigned_minor_title = title_court_physician
		}

		set_character_flag = flag_sway_kind_health

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21077
				tooltip = tooltip_21076_B
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Inquire about religion
		name = EVTOPTCHFP21076

		trigger = {
			NOR = {
				trait = zealous
				religion = persistent_event_target:sway_target
			}
		}

		set_character_flag = flag_sway_kind_religion

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21077
				tooltip = tooltip_21076_C
			}

			if = {
				limit = {
					NOT = { religion_group = ROOT }

					trigger_if = {
						limit = { religion_group = christian }
						ROOT = { NOT = { trait = sympathy_christendom } }
					}
					trigger_else_if = {
						limit = { religion_group = muslim }
						ROOT = { NOT = { trait = sympathy_islam } }
					}
					trigger_else_if = {
						limit = { religion_group = zoroastrian_group }
						ROOT = { NOT = { trait = sympathy_zoroastrianism } }
					}
					trigger_else_if = {
						limit = { religion_group = pagan_group }
						ROOT = { NOT = { trait = sympathy_pagans } }
					}
					trigger_else_if = {
						limit = { religion_group = jewish_group }
						ROOT = { NOT = { trait = sympathy_judaism } }
					}
					trigger_else = {
						religion_group = indian_group
						ROOT = { NOT = { trait = sympathy_indian } }
					}
				}
			}

			custom_tooltip = { text = tooltip_21076_sympathy }
		}

		ai_chance = { factor = 40 }
	}

	option = { # No
		name = EVTOPTDHFP21076

		ai_chance = { factor = 0 }
	}
}

# Swayed: Kind swaying
character_event = {
	id = HF.21077

	desc = {
		text = EVTDESCAHFP21077
		trigger = { FROM = { has_character_flag = flag_sway_kind_approach } }
	}
	desc = {
		text = EVTDESCBHFP21077
		trigger = { FROM = { has_character_flag = flag_sway_kind_health } }
	}
	desc = {
		text = EVTDESCCHFP21077
		trigger = { FROM = { has_character_flag = flag_sway_kind_religion } }
	}

	picture = {
		picture = GFX_evt_daughter_asking_mother
		trigger = { has_religion_feature = religion_matriarchal }
	}
	picture = {
		picture = GFX_evt_son_asking_father
		trigger = {
			NOT = { has_religion_feature = religion_matriarchal }
		}
	}

	is_triggered_only = yes

	option = { # Impressed
		name = {
			text = EVTOPTAHFP21077_A
			trigger = { FROM = { has_character_flag = flag_sway_kind_approach } }
		}
		name = {
			text = EVTOPTAHFP21077_B
			trigger = { FROM = { has_character_flag = flag_sway_kind_health } }
		}
		name = {
			text = EVTOPTAHFP21077_C
			trigger = { FROM = { has_character_flag = flag_sway_kind_religion }}
		}

		if = {
			limit = {
				FROM = { has_character_flag = flag_sway_kind_approach }
			}

			opinion = {
				name = opinion_swayed_2
				who = FROM
				years = 10
			}
		}
		else = {
			opinion = {
				name = opinion_swayed_1
				who = FROM
				years = 5
			}
		}

		if = {
			limit = { FROM = { has_character_flag = flag_sway_kind_health } }

			custom_tooltip = {
				text = TOOLTIP_EVTOPTAHFP21077_B

				FROM = {
					random_courtier_or_vassal = {
						limit = { has_minor_title = title_court_physician }

						character_event = {
							id = HF.21080 # Check physician
							days = 1
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				FROM = {
					has_character_flag = flag_sway_kind_religion
					NOT = { religion_group = ROOT }
				}
			}

			random = {
				chance = 30

				if = {
					limit = {
						FROM = { religion_group = christian }
						NOT = { trait = sympathy_christendom }
					}

					add_trait = sympathy_christendom
				}
				else_if = {
					limit = {
						FROM = { religion_group = muslim }
						NOT = { trait = sympathy_islam }
					}

					add_trait = sympathy_islam
				}
				else_if = {
					limit = {
						FROM = { religion_group = pagan_group }
						NOT = { trait = sympathy_pagans }
					}

					add_trait = sympathy_pagans
				}
				else_if = {
					limit = {
						FROM = { religion_group = zoroastrian_group }
						NOT = { trait = sympathy_zoroastrianism }
					}

					add_trait = sympathy_zoroastrianism
				}
				else_if = {
					limit = {
						FROM = { religion_group = indian_group }
						NOT = { trait = sympathy_indian }
					}

					add_trait = sympathy_indian
				}
				else_if = {
					limit = {
						FROM = { religion_group = jewish_group }
						NOT = { trait = sympathy_judaism }
					}

					add_trait = sympathy_judaism
				}
			}
		}

		FROM = {
			character_event = {
				id = HF.21078
				days = 10
			}
		}

		ai_chance = {
			factor = 50

			mult_modifier = {
				factor = 0.9
				FROM = { trait = shy }
			}

			mult_modifier = {
				factor = 1.1
				FROM = { trait = gregarious }
			}

			mult_modifier = {
				factor = 0.8
				trait = paranoid
			}

			mult_modifier = {
				factor = 0.5
				trait = cruel
			}

			mult_modifier = {
				factor = 0.5
				trait = envious
			}

			mult_modifier = {
				factor = 1.75
				trait = kind
			}

			mult_modifier = {
				factor = 1.25
				trait = humble
			}

			mult_modifier = {
				factor = 1.25
				trait = gregarious
			}
		}
	}

	option = { # Not impressed
		name = {
			text = EVTOPTBHFP21077_A
			trigger = {
				FROM = { has_character_flag = flag_sway_kind_approach }
			}
		}
		name = {
			text = EVTOPTBHFP21077_B
			trigger = {
				FROM = { has_character_flag = flag_sway_kind_health }
			}
		}
		name = {
			text = EVTOPTBHFP21077_C
			trigger = {
				FROM = { has_character_flag = flag_sway_kind_religion }
			}
		}

		FROM = {
			character_event = {
				id = HF.21079
				days = 10
			}
		}

		ai_chance = {
			factor = 30

			# Physician's skill
			mult_modifier = {
				factor = 0.5

				NOT = { trait = trusting }

				FROM = {
					any_courtier_or_vassal = {
						has_minor_title = title_court_physician
						learning < 10
					}
				}
			}

			mult_modifier = {
				factor = 0.75

				FROM = { has_character_flag = flag_sway_kind_religion }
				trait = zealous
			}

			mult_modifier = {
				factor = 1.5 # Boring subject

				FROM = { has_character_flag = flag_sway_kind_religion }
				trait = cynical
			}

			# Raw diplomacy
			mult_modifier = {
				factor = 0.95
				FROM = { diplomacy >= 10 }
			}

			mult_modifier = {
				factor = 0.9
				FROM = { diplomacy >= 12 }
			}

			mult_modifier = {
				factor = 0.9
				FROM = { diplomacy >= 15 }
			}

			mult_modifier = {
				factor = 0.75
				FROM = { diplomacy >= 18 }
			}

			mult_modifier = {
				factor = 0.75
				FROM = { diplomacy >= 20 }
			}
		}
	}
}

# Swayer: Swayed was impressed by your present
character_event = {
	id = HF.21078

	desc = {
		text = EVTDESCAHFP21078
		trigger = { has_character_flag = flag_sway_kind_approach }
	}
	desc = {
		text = EVTDESCBHFP21078
		trigger = { has_character_flag = flag_sway_kind_health }
	}
	desc = {
		text = EVTDESCCHFP21078
		trigger = { has_character_flag = flag_sway_kind_religion }
	}

	picture = {
		picture = GFX_evt_daughter_asking_mother
		trigger = { has_religion_feature = religion_matriarchal }
	}
	picture = {
		picture = GFX_evt_son_asking_father
		trigger = {
			NOT = { has_religion_feature = religion_matriarchal }
		}
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21078

		tooltip = {
			if = {
				limit = { has_character_flag = flag_sway_kind_approach }

				reverse_opinion = {
					name = opinion_swayed_2
					who = FROM
					years = 10
				}
			}
			else = {
				reverse_opinion = {
					name = opinion_swayed_1
					who = FROM
					years = 5
				}
			}
		}

		if = {
			limit = {
				has_character_flag = flag_sway_kind_religion
				NOT = { religion_group = ROOT }
			}

			random = {
				chance = 30

				if = {
					limit = {
						FROM = { religion_group = christian }
						NOT = { trait = sympathy_christendom }
					}

					add_trait = sympathy_christendom
				}
				else_if = {
					limit = {
						FROM = { religion_group = muslim }
						NOT = { trait = sympathy_islam }
					}

					add_trait = sympathy_islam
				}
				else_if = {
					limit = {
						FROM = { religion_group = pagan_group }
						NOT = { trait = sympathy_pagans }
					}

					add_trait = sympathy_pagans
				}
				else_if = {
					limit = {
						FROM = { religion_group = zoroastrian_group }
						NOT = { trait = sympathy_zoroastrianism }
					}

					add_trait = sympathy_zoroastrianism
				}
				else_if = {
					limit = {
						FROM = { religion_group = indian_group }
						NOT = { trait = sympathy_indian }
					}

					add_trait = sympathy_indian
				}
				else_if = {
					limit = {
						FROM = { religion_group = jewish_group }
						NOT = { trait = sympathy_judaism }
					}

					add_trait = sympathy_judaism
				}
			}
		}

		clr_character_flag = flag_sway_kind_approach
		clr_character_flag = flag_sway_kind_health
		clr_character_flag = flag_sway_kind_religion
	}
}

# Swayer: Swayed was not impressed by your present
character_event = {
	id = HF.21079

	desc = {
		text = EVTDESCAHFP21079
		trigger = { has_character_flag = flag_sway_kind_approach }
	}
	desc = {
		text = EVTDESCBHFP21079
		trigger = { has_character_flag = flag_sway_kind_health }
	}
	desc = {
		text = EVTDESCCHFP21079
		trigger = { has_character_flag = flag_sway_kind_religion }
	}

	picture = {
		picture = GFX_evt_daughter_asking_mother
		trigger = { has_religion_feature = religion_matriarchal }
	}
	picture = {
		picture = GFX_evt_son_asking_father
		trigger = {
			NOT = { has_religion_feature = religion_matriarchal }
		}
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21079

		clr_character_flag = flag_sway_kind_approach
		clr_character_flag = flag_sway_kind_health
		clr_character_flag = flag_sway_kind_religion
	}
}

# Physician: Hidden event to administer cure to Swayed
character_event = {
	id = HF.21080

	is_triggered_only = yes
	hide_window = yes

	immediate = {
		random_list = {
			15 = { # Crit success
				mult_modifier = {
					factor = 1.5
					learning >= 15
				}

				mult_modifier = {
					factor = 1.5
					learning >= 17
				}

				mult_modifier = {
					factor = 1.5
					learning >= 19
				}

				mult_modifier = {
					factor = 1.5
					learning >= 21
				}

				mult_modifier = {
					factor = 0.25
					NOT = { trait = physician }
				}

				FROM = { character_event = { id = HF.21081 } }
			}

			45 = { # Success
				FROM = { character_event = { id = HF.21082 } }
			}

			5 = { # Failure
				mult_modifier = {
					factor = 2
					trait = slow
				}

				mult_modifier = {
					factor = 2
					trait = imbecile
				}

				mult_modifier = {
					factor = 2
					learning < 10
				}

				mult_modifier = {
					factor = 2
					learning < 8
				}

				mult_modifier = {
					factor = 2
					learning < 6
				}

				mult_modifier = {
					factor = 2
					NOT = { trait = physician }
				}

				FROM = { character_event = { id = HF.21083 } }
			}
		}
	}
}

# Swayed: Physician was extremely good
character_event = {
	id = HF.21081
	desc = EVTDESCAHFP21081
	picture = GFX_evt_court_physician

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21081

		add_character_modifier = {
			name = successful_treatment_2
			years = 2
			stacking = yes
		}
	}
}

# Swayed: Physician was just good
character_event = {
	id = HF.21082
	desc = EVTDESCAHFP21082
	picture = GFX_evt_court_physician

	is_triggered_only = yes

	option = {
		name = GOOD

		add_character_modifier = {
			name = successful_treatment_1
			years = 2
			stacking = yes
		}
	}
}

# Swayed: Physician failed
character_event = {
	id = HF.21083
	desc = EVTDESCAHFP21083
	picture = GFX_evt_court_physician

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21083

		add_character_modifier = {
			name = failed_treatment_1
			years = 2
			stacking = yes
		}
	}
}

## Cruel/Envious event

# Swayer: Cruel-based options
character_event = {
	id = HF.21085
	desc = EVTDESCHFP21085
	portrait = persistent_event_target:sway_target

	picture = {
		picture = GFX_evt_prisoner_hf
		trigger = { is_female = yes }
	}
	picture = {
		picture = GFX_evt_hooded_figure_hf
		trigger = { is_female = no }
	}

	is_triggered_only = yes

	option = { # Offer head of detractor
		name = EVTOPTAHFP21085

		set_character_flag = flag_way_cruel_head

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21086
				tooltip = tooltip_21085_A
			}
		}

		ai_chance = {
			factor = 60

			mult_modifier = {
				factor = 1.5
				trait = impaler
			}
		}
	}

	option = { # Send treaty on torture
		name = EVTOPTBHFP21085

		set_character_flag = flag_way_cruel_letter

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21086
				tooltip = tooltip_21085_B
			}
		}

		ai_chance = {
			factor = 40

			mult_modifier = {
				factor = 1.5
				trait = cruel
			}
		}
	}

	option = { # No
		name = EVTOPTCHFP21085

		ai_chance = { factor = 0 }
	}
}

# Swayed: Cruel swaying
character_event = {
	id = HF.21086

	desc = {
		text = EVTDESCAHFP21086
		trigger = { FROM = { has_character_flag = flag_way_cruel_head } }
	}
	desc = {
		text = EVTDESCBHFP21086
		trigger = { FROM = { has_character_flag = flag_way_cruel_letter } }
	}

	picture = {
		picture = GFX_evt_prisoner_hf
		trigger = { is_female = yes }
	}
	picture = {
		picture = GFX_evt_hooded_figure_hf
		trigger = { is_female = no }
	}

	is_triggered_only = yes

	option = { # Really impressed
		name = EVTOPTAHFP21086

		trigger = {
			OR = {
				trait = cruel
				trait = impaler
				trait = envious
			}
		}

		opinion = {
			name = opinion_swayed_2
			who = FROM
			years = 10
		}

		FROM = {
			set_character_flag = flag_crit_swayed_cruel

			character_event = {
				id = HF.21087
				days = 10
			}
		}

		ai_chance = {
			factor = 20

			mult_modifier = {
				factor = 0.9
				FROM = { trait = shy }
			}

			mult_modifier = {
				factor = 1.1
				FROM = { trait = gregarious }
			}

			mult_modifier = {
				factor = 0.8
				trait = trusting
			}

			mult_modifier = {
				factor = 0.8
				trait = socializer
			}

			mult_modifier = {
				factor = 1.5
				trait = proud
			}

			mult_modifier = {
				factor = 1.25
				trait = impaler
			}

			mult_modifier = {
				factor = 0.75
				FROM = { has_character_flag = flag_way_cruel_letter }
			}
		}
	}

	option = { # Impressed
		name = EVTOPTBHFP21086

		random = {
			chance = 30
			add_trait_partially_cruel_effect = yes
		}

		opinion = {
			name = opinion_swayed_1
			who = FROM
			years = 5
		}

		FROM = {
			set_character_flag = flag_swayed_cruel

			character_event = {
				id = HF.21087
				days = 10
			}
		}

		ai_chance = {
			factor = 50

			mult_modifier = {
				factor = 0.9
				FROM = { trait = shy }
			}

			mult_modifier = {
				factor = 1.1
				FROM = { trait = gregarious }
			}

			mult_modifier = {
				factor = 0.8
				trait = trusting
			}

			mult_modifier = {
				factor = 0.8
				trait = humble
			}

			mult_modifier = {
				factor = 0.2
				trait = kind
			}

			mult_modifier = {
				factor = 1.25
				trait = impaler
			}

			mult_modifier = {
				factor = 0.8
				trait = charitable
			}
		}
	}

	option = { # Not impressed
		name = EVTOPTCHFP21086

		FROM = {
			character_event = {
				id = HF.21088
				days = 10
			}
		}

		ai_chance = {
			factor = 20

			# Relative diplomacy
			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = diplomacy
					value >= 2
				}
			}

			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = diplomacy
					value >= 4
				}
			}

			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = diplomacy
					value >= 6
				}
			}

			# Raw diplomacy
			mult_modifier = {
				factor = 0.95

				FROM = {
					has_character_flag = flag_way_cruel_letter
					diplomacy >= 10
				}
			}

			mult_modifier = {
				factor = 0.9

				FROM = {
					has_character_flag = flag_way_cruel_letter
					diplomacy >= 12
				}
			}

			mult_modifier = {
				factor = 0.9

				FROM = {
					has_character_flag = flag_way_cruel_letter
					diplomacy >= 15
				}
			}

			mult_modifier = {
				factor = 0.75

				FROM = {
					has_character_flag = flag_way_cruel_letter
					diplomacy >= 18
				}
			}

			mult_modifier = {
				factor = 0.75

				FROM = {
					has_character_flag = flag_way_cruel_letter
					diplomacy >= 20
				}
			}

			mult_modifier = {
				factor = 0.9

				FROM = {
					has_character_flag = flag_way_cruel_letter
					higher_real_tier_than = ROOT # Intimidated
				}
			}
		}
	}

	option = { # Insulted
		name = EVTOPTDHFP21086

		trigger = {
			NOR = {
				trait = cruel
				trait = impaler
			}
		}

		FROM = {
			set_character_flag = flag_repulsed_cruel

			character_event = {
				id = HF.21088
				days = 10
			}
		}

		ai_chance = {
			factor = 10

			mult_modifier = {
				factor = 4
				trait = kind
			}

			mult_modifier = {
				factor = 1.25
				trait = charitable
			}

			mult_modifier = {
				factor = 1.5
				trait = humble
			}

			mult_modifier = {
				factor = 0.8
				trait = paranoid
			}

			mult_modifier = {
				factor = 0.9
				FROM = { trait = impaler }
			}
		}
	}
}

# Swayer: Swayed was impressed by your present
character_event = {
	id = HF.21087

	desc = {
		text = EVTDESCAHFP21087
		trigger = { has_character_flag = flag_crit_swayed_cruel }
	}
	desc = {
		text = EVTDESCBHFP21087
		trigger = {
			NOT = { has_character_flag = flag_crit_swayed_cruel }
		}
	}

	picture = {
		picture = GFX_evt_prisoner_hf
		trigger = { is_female = yes }
	}
	picture = {
		picture = GFX_evt_hooded_figure_hf
		trigger = { is_female = no }
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21087

		tooltip = {
			if = {
				limit = { has_character_flag = flag_crit_swayed_cruel }

				reverse_opinion = {
					name = opinion_swayed_2
					who = FROM
					years = 10
				}
			}
			else = {
				reverse_opinion = {
					name = opinion_swayed_1
					who = FROM
					years = 5
				}
			}
		}

		clr_character_flag = flag_way_cruel_letter
		clr_character_flag = flag_way_cruel_head
		clr_character_flag = flag_crit_swayed_cruel
	}
}

# Swayer: Swayed was not impressed by your present
character_event = {
	id = HF.21088

	desc = {
		text = EVTDESCAHFP21088
		trigger = {
			NOT = { has_character_flag = flag_repulsed_cruel }
		}
	}
	desc = {
		text = EVTDESCBHFP21088
		trigger = { has_character_flag = flag_repulsed_cruel }
	}

	picture = {
		picture = GFX_evt_prisoner_hf
		trigger = { is_female = yes }
	}
	picture = {
		picture = GFX_evt_hooded_figure_hf
		trigger = { is_female = no }
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21088

		if = {
			limit = { has_character_flag = flag_repulsed_cruel }

			reverse_opinion = {
				name = opinion_disgusted
				who = FROM
				years = 5
			}
		}

		clr_character_flag = flag_way_cruel_letter
		clr_character_flag = flag_way_cruel_head
		clr_character_flag = flag_repulsed_cruel
	}
}

## Poet event

# Swayer: Poet-based options
character_event = {
	id = HF.21090
	desc = EVTDESCHFP21090
	picture = GFX_evt_pleasing_letter
	portrait = persistent_event_target:sway_target

	is_triggered_only = yes

	option = { # Write about his looks
		name = {
			text = EVTOPTAHFP21090_A
			trigger = { persistent_event_target:sway_target = { is_female = yes } }
		}
		name = {
			text = EVTOPTAHFP21090_B
			trigger = { persistent_event_target:sway_target = { is_female = no } }
		}

		trigger = {
			persistent_event_target:sway_target = {
				root_attraction_trigger = yes
			}
		}

		set_character_flag = flag_sway_poet_looks

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21091
				tooltip = tooltip_21090_A
			}
		}

		ai_chance = {
			factor = 40

			mult_modifier = {
				factor = 1.5
				trait = lustful
			}

			mult_modifier = {
				factor = 1.5
				persistent_event_target:sway_target = { has_fair_trait_trigger = yes }
			}
		}
	}

	option = { # Write about realm
		name = EVTOPTBHFP21090

		trigger = { is_ruler = yes }

		set_character_flag = flag_sway_poet_realm

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21091
				tooltip = tooltip_21090_B
			}
		}

		ai_chance = {
			factor = 40

			mult_modifier = {
				factor = 1.5
				lower_real_tier_than = persistent_event_target:sway_target
			}
		}
	}

	option = { # Write about accomplishments
		name = EVTOPTCHFP21090

		set_character_flag = flag_sway_poet_deeds

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21091
				tooltip = tooltip_21090_C
			}
		}

		ai_chance = {
			factor = 40

			mult_modifier = {
				factor = 1.5

				persistent_event_target:sway_target = {
					OR = {
						trait = brave
						trait = zealous
						trait = ambitious
					}
				}
			}

			mult_modifier = {
				factor = 1.5

				persistent_event_target:sway_target = {
					OR = {
						prestige >= 500
						piety >= 150
					}
				}
			}
		}
	}

	option = { # No
		name = EVTOPTDHFP21090

		ai_chance = { factor = 0 }
	}
}

# Swayed: Poet swaying
character_event = {
	id = HF.21091
	picture = GFX_evt_pleasing_letter

	desc = {
		text = EVTDESCAHFP21091
		trigger = { FROM = { has_character_flag = flag_sway_poet_looks } }
	}
	desc = {
		text = EVTDESCBHFP21091
		trigger = { FROM = { has_character_flag = flag_sway_poet_realm } }
	}
	desc = {
		text = EVTDESCCHFP21091
		trigger = { FROM = { has_character_flag = flag_sway_poet_deeds } }
	}

	is_triggered_only = yes

	option = { # Really impressed
		name = EVTOPTAHFP21091

		trigger = {
			OR = {
				trait = poet
				trait = scholar
				trait = mystic
				trait = proud
			}
		}

		opinion = {
			name = opinion_swayed_2
			who = FROM
			years = 10
		}

		FROM = {
			set_character_flag = flag_crit_swayed_poet

			character_event = {
				id = HF.21092
				days = 10
			}
		}

		ai_chance = {
			factor = 20

			mult_modifier = {
				factor = 0.9
				FROM = { trait = shy }
			}

			mult_modifier = {
				factor = 1.1
				FROM = { trait = gregarious }
			}

			mult_modifier = {
				factor = 0.8
				trait = paranoid
			}

			mult_modifier = {
				factor = 0.4

				FROM = { has_character_flag = flag_sway_poet_looks }
				NOT = { trait = trusting }

				OR = {
					trait = ugly
					trait = inbred
					trait = harelip
					trait = one_eyed
					trait = disfigured
				}
			}

			mult_modifier = {
				factor = 1.5

				FROM = { has_character_flag = flag_sway_poet_looks }
				has_fair_trait_trigger = yes

				NOR = {
					trait = ugly
					trait = inbred
					trait = harelip
					trait = one_eyed
					trait = disfigured
				}
			}

			mult_modifier = {
				factor = 1.5
				trait = proud
			}

			mult_modifier = {
				factor = 0.25
				trait = humble
			}

			mult_modifier = {
				factor = 0.75
				FROM = { has_character_flag = flag_sway_poet_realm }
			}
		}
	}

	option = { # Impressed
		name = EVTOPTBHFP21091

		random = {
			chance = 20
			add_trait_partially_proud_effect = yes
		}

		opinion = {
			name = opinion_swayed_1
			who = FROM
			years = 5
		}

		FROM = {
			set_character_flag = flag_swayed_poet

			character_event = {
				id = HF.21092
				days = 10
			}
		}

		ai_chance = {
			factor = 20

			mult_modifier = {
				factor = 0.9
				FROM = { trait = shy }
			}

			mult_modifier = {
				factor = 1.1
				FROM = { trait = gregarious }
			}

			mult_modifier = {
				factor = 0.8
				trait = paranoid
			}

			mult_modifier = {
				factor = 0.4

				FROM = { has_character_flag = flag_sway_poet_looks }
				NOT = { trait = trusting }

				OR = {
					trait = ugly
					trait = inbred
					trait = harelip
					trait = one_eyed
					trait = disfigured
				}
			}

			mult_modifier = {
				factor = 1.5

				FROM = { has_character_flag = flag_sway_poet_looks }
				has_fair_trait_trigger = yes

				NOR = {
					trait = ugly
					trait = inbred
					trait = harelip
					trait = one_eyed
					trait = disfigured
				}
			}

			mult_modifier = {
				factor = 1.5
				trait = proud
			}

			mult_modifier = {
				factor = 0.25
				trait = humble
			}

			mult_modifier = {
				factor = 0.75
				FROM = { has_character_flag = flag_sway_poet_realm }
			}
		}
	}

	option = { # Not impressed
		name = EVTOPTCHFP21091

		opinion = {
			name = opinion_antagonized_0
			who = FROM
			years = 5
		}

		FROM = {
			character_event = {
				id = HF.21093
				days = 10
			}
		}

		ai_chance = {
			factor = 20

			# Relative diplomacy
			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = diplomacy
					value >= 2
				}
			}

			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = diplomacy
					value >= 4
				}
			}

			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = diplomacy
					value >= 6
				}
			}

			# Raw diplomacy
			mult_modifier = {
				factor = 0.95
				FROM = { diplomacy >= 10 }
			}

			mult_modifier = {
				factor = 0.9
				FROM = { diplomacy >= 12 }
			}

			mult_modifier = {
				factor = 0.9
				FROM = { diplomacy >= 15 }
			}

			mult_modifier = {
				factor = 0.75
				FROM = { diplomacy >= 18 }
			}

			mult_modifier = {
				factor = 0.75
				FROM = { diplomacy >= 20 }
			}

			mult_modifier = {
				factor = 0.75

				FROM = { has_character_flag = flag_sway_poet_deeds }
				prestige < 50
				piety < 0
			}

			mult_modifier = {
				factor = 0.9

				FROM = {
					has_character_flag = flag_sway_poet_realm
					lower_real_tier_than = ROOT # Not fooled
				}
			}
		}
	}

	option = { # Insulted
		name = EVTOPTDHFP21091

		trigger = {
			NOR = {
				trait = poet
				trait = scholar
				trait = mystic
				trait = proud
			}
		}

		opinion = {
			name = opinion_antagonized_1
			who = FROM
			years = 5
		}

		FROM = {
			set_character_flag = flag_repulsed_poet

			character_event = {
				id = HF.21093
				days = 10
			}
		}

		ai_chance = {
			factor = 10

			mult_modifier = {
				factor = 4
				learning < 6
			}

			mult_modifier = {
				factor = 1.5
				trait = greedy
			}

			mult_modifier = {
				factor = 1.5
				trait = humble
			}

			mult_modifier = {
				factor = 0.8
				trait = trusting
			}

			mult_modifier = {
				factor = 0.9
				FROM = { trait = socializer }
			}
		}
	}
}

# Swayer: Swayed was impressed by your present
character_event = {
	id = HF.21092
	picture = GFX_evt_pleasing_letter

	desc = {
		text = EVTDESCAHFP21092
		trigger = { has_character_flag = flag_crit_swayed_poet }
	}
	desc = {
		text = EVTDESCBHFP21092
		trigger = {
			NOT = { has_character_flag = flag_crit_swayed_poet }
		}
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21092

		tooltip = {
			if = {
				limit = { has_character_flag = flag_crit_swayed_poet }

				reverse_opinion = {
					name = opinion_swayed_2
					who = FROM
					years = 10
				}
			}
			else = {
				reverse_opinion = {
					name = opinion_swayed_1
					who = FROM
					years = 5
				}
			}
		}

		clr_character_flag = flag_sway_poet_looks
		clr_character_flag = flag_sway_poet_deeds
		clr_character_flag = flag_sway_poet_realm
		clr_character_flag = flag_crit_swayed_poet
	}
}

# Swayer: Swayed was not impressed by your present
character_event = {
	id = HF.21093
	picture = GFX_evt_upsetting_letter

	desc = {
		text = EVTDESCAHFP21093
		trigger = {
			NOT = { has_character_flag = flag_repulsed_poet }
		}
	}
	desc = {
		text = EVTDESCBHFP21093
		trigger = { has_character_flag = flag_repulsed_poet }
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21093

		tooltip = {
			if = {
				limit = { has_character_flag = flag_repulsed_poet }

				reverse_opinion = {
					name = opinion_antagonized_1
					who = FROM
					years = 5
				}
			}
			else = {
				reverse_opinion = {
					name = opinion_antagonized_0
					who = FROM
					years = 5
				}
			}
		}

		clr_character_flag = flag_sway_poet_looks
		clr_character_flag = flag_sway_poet_deeds
		clr_character_flag = flag_sway_poet_realm
		clr_character_flag = flag_repulsed_poet
	}
}

## War friends event
# Swayed: fighting a war against Swayer as an unlanded commander, switch sides?
character_event = {
	id = HF.21094
	desc = EVTDESCHFP21094
	picture = GFX_evt_battle

	is_triggered_only = yes

	# Additional option for landed vassal, who is simply no longer available as commander for the war

	option = { # Defect - rulers
		name = EVTOPTAHFP21094

		trigger = { is_ruler = yes }

		tiered_piety_reward_effect = yes
		remove_title = title_commander

		add_character_modifier = {
			name = refusing_to_lead
			years = 3
		}

		FROM = {
			show_scope_change = no

			opinion = {
				name = opinion_swayed_2
				who = ROOT
				years = 10
			}

			character_event = { id = HF.21096 } # Notify Swayer
		}

		if = {
			limit = {
				is_feudal = yes
				liege = { NOT = { trait = kind } }
			}

			liege = {
				show_scope_change = no

				opinion = {
					name = opinion_broke_contract
					who = ROOT
				}
			}
		}

		liege = {
			character_event = { id = HF.21095 } # Notify liege
		}

		ai_chance = {
			factor = 50

			mult_modifier = {
				factor = 1.5
				trait = brave
			}

			mult_modifier = {
				factor = 1.5
				trait = gregarious
			}

			mult_modifier = {
				factor = 1.5
				trait = kind
			}

			mult_modifier = {
				factor = 1.5
				trait = charitable
			}

			mult_modifier = {
				factor = 1.5
				trait = humble
			}
		}
	}

	option = { # Defect
		name = EVTOPTBHFP21094

		trigger = { is_ruler = no }

		tiered_piety_reward_effect = yes

		liege = {
			show_scope_change = no

			if = {
				limit = { NOT = { trait = kind } }

				opinion = {
					name = opinion_traitor
					who = ROOT
				}
			}

			character_event = { id = HF.21095 } # Notify liege
		}

		move_character = FROM

		any_spouse = {
			show_scope_change = no

			limit = { is_ruler = no }

			move_character = FROM
		}

		any_child = {
			show_scope_change = no

			limit = {
				is_ruler = no
				is_adult = no
			}

			move_character = FROM
		}

		FROM = {
			character_event = { id = HF.21096 } # Notify Swayer
		}

		ai_chance = {
			factor = 50

			mult_modifier = {
				factor = 1.5
				trait = brave
			}

			mult_modifier = {
				factor = 1.5
				trait = gregarious
			}

			mult_modifier = {
				factor = 1.5
				trait = kind
			}

			mult_modifier = {
				factor = 1.5
				trait = charitable
			}

			mult_modifier = {
				factor = 1.5
				trait = humble
			}
		}
	}

	option = { # Stay loyal
		name = EVTOPTCHFP21094

		ai_chance = {
			factor = 50

			mult_modifier = {
				factor = 1.5
				trait = craven
			}

			mult_modifier = {
				factor = 1.5
				trait = shy
			}

			mult_modifier = {
				factor = 1.5
				trait = cruel
			}

			mult_modifier = {
				factor = 1.5
				trait = envious
			}

			mult_modifier = {
				factor = 1.5
				trait = greedy
			}

			mult_modifier = {
				factor = 1.5
				trait = proud
			}
		}
	}
}

# Liege: Swayed refuses to fight!
character_event = {
	id = HF.21095
	picture = GFX_evt_battle

	desc = {
		text = EVTDESCAHFP21095
		trigger = { FROM = { is_ruler = yes } }
	}
	desc = {
		text = EVTDESCBHFP21095
		trigger = { FROM = { is_ruler = no } }
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21095
		tooltip_info = kind

		trigger = { trait = kind }
	}

	option = {
		name = EVTOPTBHFP21095

		trigger = { NOT = { trait = kind } }
	}
}

# Swayer: Swayed refuses to fight against you
character_event = {
	id = HF.21096
	picture = GFX_evt_battle

	desc = {
		text = EVTDESCAHFP21096
		trigger = { FROM = { is_ruler = yes } }
	}
	desc = {
		text = EVTDESCBHFP21096
		trigger = { FROM = { is_ruler = no } }
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21096

		trigger = {
			has_dlc = "Conclave"
			NOT = { holds_favor_on = FROM }
		}

		add_favor = FROM

		tooltip = {
			opinion = {
				name = opinion_swayed_2
				who = FROM
				years = 10
			}
		}

		ai_chance = {
			factor = 60

			mult_modifier = {
				factor = 1.5
				trait = kind
			}

			mult_modifier = {
				factor = 1.5
				trait = charitable
			}
		}
	}

	option = {
		name = EVTOPTBHFP21096

		tooltip = {
			opinion = {
				name = opinion_swayed_2
				who = FROM
				years = 10
			}
		}

		ai_chance = {
			factor = 40

			mult_modifier = {
				factor = 1.25
				trait = proud
			}

			mult_modifier = {
				factor = 1.25
				trait = greedy
			}

			mult_modifier = {
				factor = 1.5
				trait = envious
			}
		}
	}
}

###############################
# Tier III Events - Long event chains
###############################

## Visit event

# Swayer: Do you wish to invite Swayed to court?
character_event = {
	id = HF.21098
	picture = GFX_evt_diplomat_hf
	portrait = persistent_event_target:sway_target

	desc = {
		text = EVTDESCHFP21098
		trigger = { at_location = persistent_event_target:sway_target }
	}
	desc = {
		text = EVTDESCHFPB21098
		trigger = {
			NOT = { at_location = persistent_event_target:sway_target }
		}
	}

	is_triggered_only = yes

	immediate = {
		# Do not let this event happen too often
		add_character_modifier = {
			name = sway_visit_cooldown
			days = 2000
			hidden = yes
		}
	}

	option = { # Invite him to court for a while
		name = EVTOPTAHFP21098

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21099
				days = 9
				tooltip = tooltip_21098_A
			}
		}
	}

	option = { # No
		name = EVTOPTBHFP21098

		ai_chance = { factor = 0 }
	}
}

# Swayed: Request to join Swayer for a few days
character_event = {
	id = HF.21099
	desc = EVTDESCHFP21099
	picture = GFX_evt_diplomatic_greeting

	trigger = {
		FROM = {
			is_alive = yes
			is_incapable = no
		}
	}

	is_triggered_only = yes

	option = { # Go
		name = EVTOPTAHFP21099

		FROM = {
			show_scope_change = no

			character_event = {
				id = HF.21100
				tooltip = tooltip_21099_A
			}
		}

		add_character_modifier = {
			name = out_traveling
			days = 15
		}
	}

	option = { # No
		name = EVTOPTBHFP21099

		FROM = {
			show_scope_change = no

			character_event = {
				id = HF.21101
				tooltip = tooltip_21099_B
			}
		}

		ai_chance = { factor = 0 }
	}
}

# Swayer: Swayed has arrived
character_event = {
	id = HF.21100
	desc = EVTDESCHFP21100

	picture = {
		picture = GFX_evt_daughter_asking_mother
		trigger = { has_religion_feature = religion_matriarchal }
	}
	picture = {
		picture = GFX_evt_son_asking_father
		trigger = {
			NOT = { has_religion_feature = religion_matriarchal }
		}
	}

	trigger = {
		FROM = {
			is_alive = yes
			is_incapable = no
		}
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21100

		FROM = {
			show_scope_change = no

			character_event = {
				id = HF.21102 # Notify swayed of welcome
				tooltip = tooltip_21100_A
			}
		}

		repeat_event = { # Keep sway_target in FROM
			id = HF.21103 # Hidden event setting up flags and randomizing result
			days = 7
		}
	}
}

# Swayer: Swayed did not come
character_event = {
	id = HF.21101
	desc = EVTDESCHFP21101
	picture = GFX_evt_upsetting_letter

	ai = no

	trigger = {
		FROM = {
			is_alive = yes
			is_incapable = no
		}
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21101
	}
}

# Swayed: Notified of welcome
character_event = {
	id = HF.21102
	picture = GFX_evt_state_diplomacy

	desc = {
		text = EVTDESCAHFP21102
		trigger = {
			host = { character = FROM }
		}
	}
	desc = {
		text = EVTDESCBHFP21102
		trigger = {
			NOT = { host = { character = FROM } }
		}
	}

	ai = no

	trigger = {
		FROM = {
			is_alive = yes
			is_incapable = no
		}
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21102
	}
}

# Swayer: hidden event setting up flags for options and randomizing result
character_event = {
	id = HF.21103

	is_triggered_only = yes
	hide_window = yes

	trigger = {
		FROM = {
			is_alive = yes
			is_incapable = no
		}
	}

	immediate = {
		# First random lists pick two out the Swayer's traits. This will allow the next event to use those traits as special options without going beyond the 4-options limit (the other two options are the default and the high diplomacy ones).

		while = {
			count = 2

			random_list = {
				10 = {
					trigger = {
						trait = drunkard
						NOT = { has_character_flag = flag_swayer_option_drunkard }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = temperate }
					}

					set_character_flag = flag_swayer_option_drunkard
				}

				10 = {
					trigger = {
						trait = lunatic
						NOT = { has_character_flag = flag_swayer_option_lunatic }
					}

					mult_modifier = { #Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = paranoid }
					}

					set_character_flag = flag_swayer_option_lunatic
				}

				10 = {
					trigger = {
						trait = possessed
						NOT = { has_character_flag = flag_swayer_option_possessed }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = zealous }
					}

					set_character_flag = flag_swayer_option_possessed
				}

				10 = {
					trigger = {
						has_fair_trait_trigger = yes
						NOT = { has_character_flag = flag_swayer_option_fair }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = envious }
					}

					set_character_flag = flag_swayer_option_fair
				}

				10 = {
					trigger = {
						trait = chaste
						NOT = { has_character_flag = flag_swayer_option_chaste }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = lustful }
					}

					set_character_flag = flag_swayer_option_chaste
				}

				10 = {
					trigger = {
						trait = temperate
						NOT = { has_character_flag = flag_swayer_option_temperate }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = gluttonous }
					}

					set_character_flag = flag_swayer_option_temperate
				}

				10 = {
					trigger = {
						trait = charitable
						NOT = { has_character_flag = flag_swayer_option_charitable }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = greedy }
					}

					set_character_flag = flag_swayer_option_charitable
				}

				10 = {
					trigger = {
						trait = diligent
						NOT = { has_character_flag = flag_swayer_option_diligent }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = slothful }
					}

					set_character_flag = flag_swayer_option_diligent
				}

				10 = {
					trigger = {
						trait = patient
						NOT = { has_character_flag = flag_swayer_option_patient }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = wroth }
					}

					set_character_flag = flag_swayer_option_patient
				}

				10 = {
					trigger = {
						trait = kind
						NOT = { has_character_flag = flag_swayer_option_kind }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = cruel }
					}

					set_character_flag = flag_swayer_option_kind
				}

				10 = {
					trigger = {
						trait = humble
						NOT = { has_character_flag = flag_swayer_option_humble }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = proud }
					}

					set_character_flag = flag_swayer_option_humble
				}

				10 = {
					trigger = {
						trait = lustful
						NOT = { has_character_flag = flag_swayer_option_lustful }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = chaste }
					}

					set_character_flag = flag_swayer_option_lustful
				}

				10 = {
					trigger = {
						trait = gluttonous
						NOT = { has_character_flag = flag_swayer_option_gluttonous }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = temperate }
					}

					set_character_flag = flag_swayer_option_gluttonous
				}

				10 = {
					trigger = {
						trait = greedy
						NOT = { has_character_flag = flag_swayer_option_greedy }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = charitable }
					}

					set_character_flag = flag_swayer_option_greedy
				}

				10 = {
					trigger = {
						trait = slothful
						NOT = { has_character_flag = flag_swayer_option_slothful }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = diligent }
					}

					set_character_flag = flag_swayer_option_slothful
				}

				10 = {
					trigger = {
						trait = wroth
						NOT = { has_character_flag = flag_swayer_option_wroth }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = patient }
					}

					set_character_flag = flag_swayer_option_wroth
				}

				10 = {
					trigger = {
						trait = envious
						NOT = { has_character_flag = flag_swayer_option_envious }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = kind }
					}

					set_character_flag = flag_swayer_option_envious
				}

				10 = {
					trigger = {
						trait = proud
						NOT = { has_character_flag = flag_swayer_option_proud }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = humble }
					}

					set_character_flag = flag_swayer_option_proud
				}

				10 = {
					trigger = {
						trait = ambitious
						NOT = { has_character_flag = flag_swayer_option_ambitious }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = content }
					}

					set_character_flag = flag_swayer_option_ambitious
				}

				10 = {
					trigger = {
						trait = arbitrary
						NOT = { has_character_flag = flag_swayer_option_arbitrary }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = just }
					}

					set_character_flag = flag_swayer_option_arbitrary
				}

				10 = {
					trigger = {
						trait = brave
						NOT = { has_character_flag = flag_swayer_option_brave }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = craven }
					}

					set_character_flag = flag_swayer_option_brave
				}

				10 = {
					trigger = {
						trait = content
						NOT = { has_character_flag = flag_swayer_option_content }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = ambitious }
					}

					set_character_flag = flag_swayer_option_content
				}

				10 = {
					trigger = {
						trait = craven
						NOT = { has_character_flag = flag_swayer_option_craven }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = brave }
					}

					set_character_flag = flag_swayer_option_craven
				}

				10 = {
					trigger = {
						trait = cruel
						NOT = { has_character_flag = flag_swayer_option_cruel }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = kind }
					}

					set_character_flag = flag_swayer_option_cruel
				}

				10 = {
					trigger = {
						trait = cynical
						NOT = { has_character_flag = flag_swayer_option_cynical }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5

						FROM = {
							trait = zealous
							religion = ROOT
						}
					}

					set_character_flag = flag_swayer_option_cynical
				}

				10 = {
					trigger = {
						trait = deceitful
						NOT = { has_character_flag = flag_swayer_option_deceitful }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = honest }
					}

					set_character_flag = flag_swayer_option_deceitful
				}

				10 = {
					trigger = {
						trait = erudite
						NOT = { has_character_flag = flag_swayer_option_erudite }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = dull }
					}

					set_character_flag = flag_swayer_option_erudite
				}

				10 = {
					trigger = {
						trait = gregarious
						NOT = { has_character_flag = flag_swayer_option_gregarious }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = shy }
					}

					set_character_flag = flag_swayer_option_gregarious
				}

				10 = {
					trigger = {
						trait = honest
						NOT = { has_character_flag = flag_swayer_option_honest }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = deceitful }
					}

					set_character_flag = flag_swayer_option_honest
				}

				10 = {
					trigger = {
						trait = just
						NOT = { has_character_flag = flag_swayer_option_just }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = arbitrary }
					}

					set_character_flag = flag_swayer_option_just
				}

				10 = {
					trigger = {
						trait = paranoid
						NOT = { has_character_flag = flag_swayer_option_paranoid }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = trusting }
					}

					set_character_flag = flag_swayer_option_paranoid
				}

				10 = {
					trigger = {
						trait = shy
						NOT = { has_character_flag = flag_swayer_option_paranoid }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = gregarious }
					}

					set_character_flag = flag_swayer_option_shy
				}

				10 = {
					trigger = {
						trait = stubborn
						NOT = { has_character_flag = flag_swayer_option_stubborn }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = wroth }
					}

					set_character_flag = flag_swayer_option_stubborn
				}

				10 = {
					trigger = {
						trait = trusting
						NOT = { has_character_flag = flag_swayer_option_trusting }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5
						FROM = { trait = paranoid }
					}

					set_character_flag = flag_swayer_option_trusting
				}

				10 = {
					trigger = {
						trait = zealous
						NOT = { has_character_flag = flag_swayer_option_zealous }
					}

					mult_modifier = { # Try not to pick opposite traits if better ones are available
						factor = 0.5

						FROM = {
							trait = cynical
							religion = ROOT
						}
					}

					set_character_flag = flag_swayer_option_zealous
				}
			}
		}

		# This third random list instead determines the flavor of the event received by the Swayer
		random_list = {
			# Special event for spouse/close relative
			# Discussing religion with infidel
			# Generic good time inside
			# Generic good time outside
			# Strong disagreement due to opposite personality traits

			40 = {
				trigger = { is_close_relative = FROM }

				set_character_flag = flag_sway_visit_relative
				repeat_event = { id = HF.21104 } # Special event for spouse/close relative
			}

			20 = {
				trigger = {
					NOT =  { religion = FROM }
				}

				mult_modifier = {
					factor = 0.5
					trait = cynical
				}

				mult_modifier = {
					factor = 1.5
					trait = zealous
				}

				set_character_flag = flag_sway_visit_religion
				repeat_event = { id = HF.21104 } # Talking about religion with infidel
			}

			20 = {
				mult_modifier = {
					factor = 0.75
					trait = diligent
				}

				mult_modifier = {
					factor = 1.25
					trait = slothful
				}

				mult_modifier = {
					factor = 1.5

					OR = {
						trait = scholar
						trait = mystic
						trait = socializer
						trait = game_master
						trait = hedonist
					}
				}

				set_character_flag = flag_sway_visit_inside
				repeat_event = { id = HF.21104 } # Generic good time outside
			}

			20 = {
				mult_modifier = {
					factor = 0.75
					trait = slothful
				}

				mult_modifier = {
					factor = 1.25
					trait = diligent
				}

				mult_modifier = {
					factor = 1.5

					OR = {
						trait = hunter
						trait = gardener
						trait = duelist
						trait = architect
					}
				}

				set_character_flag = flag_sway_visit_outside
				repeat_event = { id = HF.21104 } # Generic good time outside
			}

			10 = {
				mult_modifier = {
					factor = 1.5
					diplomacy < 8
				}

				mult_modifier = {
					factor = 0.8
					diplomacy >= 10
				}

				mult_modifier = {
					factor = 0.8
					diplomacy >= 12
				}

				mult_modifier = {
					factor = 0.8
					diplomacy >= 14
				}

				mult_modifier = {
					factor = 0.8
					diplomacy >= 16
				}

				mult_modifier = {
					factor = 0.8
					diplomacy >= 18
				}

				mult_modifier = {
					factor = 1.5
					trait = shy
				}

				mult_modifier = {
					factor = 0.75
					trait = gregarious
				}

				mult_modifier = {
					factor = 0.5
					trait = socializer
				}

				mult_modifier = {
					factor = 0.75
					trait = patient
				}

				mult_modifier = {
					factor = 0.75
					FROM = { trait = patient }
				}

				mult_modifier = {
					factor = 1.5
					FROM = { trait = wroth }
				}

				mult_modifier = {
					factor = 1.5
					trait = wroth
				}

				mult_modifier = {
					factor = 2

					trigger_if = {
						limit = { trait = chaste }
						FROM = { trait = lustful }
					}
					trigger_else_if = {
						limit = { trait = lustful }
						FROM = { trait = chaste }
					}
				}

				mult_modifier = {
					factor = 2

					trigger_if = {
						limit = { trait = temperate }
						FROM = { trait = gluttonous }
					}
					trigger_else_if = {
						limit = { trait = gluttonous }
						FROM = { trait = temperate }
					}
				}

				mult_modifier = {
					factor = 2

					trigger_if = {
						limit = { trait = charitable }
						FROM = { trait = greedy }
					}
					trigger_else_if = {
						limit = { trait = greedy }
						FROM = { trait = charitable }
					}
				}

				mult_modifier = {
					factor = 2

					trigger_if = {
						limit = { trait = diligent }
						FROM = { trait = slothful }
					}
					trigger_else_if = {
						limit = { trait = slothful }
						FROM = { trait = diligent }
					}
				}

				mult_modifier = {
					factor = 2

					trigger_if = {
						limit = { trait = patient }
						FROM = { trait = wroth }
					}
					trigger_else_if = {
						limit = { trait = wroth }
						FROM = { trait = patient }
					}
				}

				mult_modifier = {
					factor = 2

					trigger_if = {
						limit = { trait = kind }

						FROM = {
							OR = {
								trait = envious
								trait = cruel
							}
						}
					}
					trigger_else_if = {
						limit = {
							OR = {
								trait = envious
								trait = cruel
							}
						}

						FROM = { trait = kind }
					}
				}

				mult_modifier = {
					factor = 2

					trigger_if = {
						limit = { trait = humble }
						FROM = { trait = proud }
					}
					trigger_else_if = {
						limit = { trait = proud }
						FROM = { trait = humble }
					}
				}

				mult_modifier = {
					factor = 2

					trigger_if = {
						limit = { trait = ambitious }
						FROM = { trait = content }
					}
					trigger_else_if = {
						limit = { trait = content }
						FROM = { trait = ambitious }
					}
				}

				mult_modifier = {
					factor = 2

					trigger_if = {
						limit = { trait = arbitrary }
						FROM = { trait = just }
					}
					trigger_else_if = {
						limit = { trait = just }
						FROM = { trait = arbitrary }
					}
				}

				mult_modifier = {
					factor = 2

					trigger_if = {
						limit = { trait = brave }
						FROM = { trait = craven }
					}
					trigger_else_if = {
						limit = { trait = craven }
						FROM = { trait = brave }
					}
				}

				mult_modifier = {
					factor = 2

					trigger_if = {
						limit = { trait = cynical }
						FROM = { trait = zealous }
					}
					trigger_else_if = {
						limit = { trait = zealous }
						FROM = { trait = cynical }
					}
				}

				mult_modifier = {
					factor = 2

					trigger_if = {
						limit = { trait = deceitful }
						FROM = { trait = honest }
					}
					trigger_else_if = {
						limit = { trait = honest }
						FROM = { trait = deceitful }
					}
				}

				mult_modifier = {
					factor = 2

					trigger_if = {
						limit = { trait = gregarious }
						FROM = { trait = shy }
					}
					trigger_else_if = {
						limit = { trait = shy }
						FROM = { trait = gregarious }
					}
				}

				mult_modifier = {
					factor = 2

					trigger_if = {
						limit = { trait = paranoid }
						persistent_event_target:sway_target = { trait = trusting }
					}
					trigger_else_if = {
						limit = { trait = trusting }
						persistent_event_target:sway_target = { trait = paranoid }
					}
				}

				repeat_event = { id = HF.21117 } # Incompatible traits cause strong disagreement
			}
		}
	}
}

# Swayer: Visit event
character_event = {
	id = HF.21104
	picture = GFX_evt_state_diplomacy

	desc = {
		text = EVTDESCHFPA21104
		picture = GFX_evt_state_diplomacy
		trigger = { has_character_flag = flag_sway_visit_relative }
	}
	desc = {
		text = EVTDESCHFPB21104
		picture = GFX_evt_church_council
		trigger = { has_character_flag = flag_sway_visit_religion }
	}
	desc = {
		text = EVTDESCHFPC21104
		picture = GFX_evt_sultan
		trigger = {
			has_character_flag = flag_sway_visit_inside
			trait = hedonist
		}
	}
	desc = {
		text = EVTDESCHFPD21104
		picture = GFX_evt_war_planning
		trigger = {
			has_character_flag = flag_sway_visit_inside
			trait = game_master
		}
	}
	desc = {
		text = EVTDESCHFPE21104
		picture = GFX_evt_state_diplomacy
		trigger = {
			has_character_flag = flag_sway_visit_inside
			trait = socializer
		}
	}
	desc = {
		text = EVTDESCHFPF21104
		picture = GFX_evt_library
		trigger = {
			has_character_flag = flag_sway_visit_inside
			trait = mystic
		}
	}
	desc = {
		text = EVTDESCHFPG21104
		picture = GFX_evt_library
		trigger = {
			has_character_flag = flag_sway_visit_inside
			trait = scholar
		}
	}
	desc = {
		text = EVTDESCHFPH21104
		picture = GFX_evt_state_diplomacy
		trigger = { # Generic
			has_character_flag = flag_sway_visit_inside
			NOR = {
				trait = scholar
				trait = mystic
				trait = socializer
				trait = game_master
				trait = hedonist
			}
		}
	}
	desc = {
		text = EVTDESCHFPI21104
		picture = GFX_evt_diplomatic_greeting
		trigger = {
			has_character_flag = flag_sway_visit_outside
			trait = hunter
		}
	}
	desc = {
		text = EVTDESCHFPJ21104
		picture = GFX_evt_falconing
		trigger = {
			has_character_flag = flag_sway_visit_outside
			trait = falconer
		}
	}
	desc = {
		text = EVTDESCHFPL21104
		picture = GFX_evt_garden
		trigger = {
			has_character_flag = flag_sway_visit_outside
			trait = gardener
		}
	}
	desc = {
		text = EVTDESCHFPM21104
		picture = GFX_evt_teaching_moment
		trigger = {
			has_character_flag = flag_sway_visit_outside
			trait = duelist
		}
	}
	desc = {
		text = EVTDESCHFPN21104
		picture = GFX_evt_magnificent_castle
		trigger = {
			has_character_flag = flag_sway_visit_outside
			trait = architect
		}
	}
	desc = {
		text = EVTDESCHFPO21104
		picture = GFX_evt_diplomatic_greeting
		trigger = { # Generic
			has_character_flag = flag_sway_visit_outside
			NOR = {
				trait = hunter
				trait = falconer
				trait = gardener
				trait = duelist
				trait = architect
			}
		}
	}

	is_triggered_only = yes

	option = { # High diplomacy option assures medium opinion bonus
		name = {
			text = EVTOPTAHFP21104_A
			trigger = { has_character_flag = flag_sway_visit_relative }
		}
		name = {
			text = EVTOPTAHFP21104_B
			trigger = { has_character_flag = flag_sway_visit_religion }
		}
		name = {
			text = EVTOPTAHFP21104_C
			trigger = { has_character_flag = flag_sway_visit_inside }
		}
		name = {
			text = EVTOPTAHFP21104_D
			trigger = { has_character_flag = flag_sway_visit_outside }
		}
		tooltip_info = diplomacy

		trigger = { diplomacy >= 15 }

		FROM = {
			show_scope_change = no

			opinion = {
				name = opinion_swayed_2
				who = ROOT
				years = 10
			}

			set_character_flag = flag_sway_visit_swayed_3
		}

		ai_chance = { factor = 60 }
	}

	option = { # Drunkard-based option
		name = EVTOPTBHFP21104_DRUNKARD
		tooltip_info = drunkard

		trigger = { has_character_flag = flag_swayer_option_drunkard }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = drunkard }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = { trait = hedonist }

				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
			else = {
				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				ROOT = {
					show_scope_change = no

					tiered_prestige_reward_effect = yes
				}

				set_character_flag = flag_sway_visit_failure_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Lunatic-based option
		name = EVTOPTCHFP21104_LUNATIC
		tooltip_info = lunatic

		trigger = { has_character_flag = flag_swayer_option_lunatic }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = trusting }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = { trait = paranoid }

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				ROOT = {
					show_scope_change = no

					tiered_prestige_reward_effect = yes
				}

				set_character_flag = flag_sway_visit_failure_1
			}

			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Possessed-based option
		name = EVTOPTDHFP21104_POSSESSED
		tooltip_info = possessed

		trigger = { has_character_flag = flag_swayer_option_possessed}

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = trusting }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = { trait = zealous }

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				ROOT = {
					show_scope_change = no

					tiered_prestige_reward_effect = yes
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Fair-based option
		name = EVTOPTEHFP21104_FAIR
		tooltip_info = attractive

		trigger = { has_character_flag = flag_swayer_option_fair }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = content }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = { trait = envious }

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				ROOT = {
					show_scope_change = no

					tiered_prestige_reward_effect = yes
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Chaste-based option
		name = EVTOPTFHFP21104_CHASTE
		tooltip_info = chaste

		trigger = { has_character_flag = flag_swayer_option_chaste }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = chaste }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = { trait = lustful }

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				custom_tooltip = {
					text = tooltip_sway_into_personality_trait

					random = {
						chance = 40

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -2
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -4
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -6
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -8
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -10
							}
						}

						mult_modifier = {
							factor = 1.25
							ROOT = { trait = gregarious }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = socializer }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = grey_eminence }
						}

						set_character_flag = flag_sway_turning_chaste

						character_event = {
							id = HF.21124
							days = 12
						}
					}
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Temperate-based option
		name = EVTOPTGHFP21104_TEMPERATE
		tooltip_info = temperate

		trigger = { has_character_flag = flag_swayer_option_temperate }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = temperate }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = { trait = gluttonous }

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				custom_tooltip = {
					text = tooltip_sway_into_personality_trait

					random = {
						chance = 40

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -2
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -4
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -6
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -8
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -10
							}
						}

						mult_modifier = {
							factor = 1.25
							ROOT = { trait = gregarious }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = socializer }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = grey_eminence }
						}

						set_character_flag = flag_sway_turning_temperate

						character_event = {
							id = HF.21124
							days = 12
						}
					}
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Charitable-based option
		name = EVTOPTHHFP21104_CHARITABLE
		tooltip_info = charitable

		trigger = { has_character_flag = flag_swayer_option_charitable }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = charitable }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}

			else_if = {
				limit = { trait = greedy }

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				custom_tooltip = {
					text = tooltip_sway_into_personality_trait

					random = {
						chance = 40

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -2
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -4
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -6
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -8
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -10
							}
						}

						mult_modifier = {
							factor = 1.25
							ROOT = { trait = gregarious }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = socializer }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = grey_eminence }
						}

						set_character_flag = flag_sway_turning_charitable

						character_event = {
							id = HF.21124
							days = 12
						}
					}
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Diligent-based option
		name = EVTOPTIHFP21104_DILIGENT
		tooltip_info = diligent

		trigger = { has_character_flag = flag_swayer_option_diligent }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = diligent }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = { trait = slothful }

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				custom_tooltip = {
					text = tooltip_sway_into_personality_trait

					random = {
						chance = 40

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -2
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -4
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -6
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -8
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -10
							}
						}

						mult_modifier = {
							factor = 1.25
							ROOT = { trait = gregarious }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = socializer }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = grey_eminence }
						}

						set_character_flag = flag_sway_turning_diligent

						character_event = {
							id = HF.21124
							days = 12
						}
					}
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Patient-based option
		name = EVTOPTLHFP21104_PATIENT
		tooltip_info = patient

		trigger = { has_character_flag = flag_swayer_option_patient }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = patient }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = { trait = wroth }

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				custom_tooltip = {
					text = tooltip_sway_into_personality_trait

					random = {
						chance = 40

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -2
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -4
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -6
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -8
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -10
							}
						}

						mult_modifier = {
							factor = 1.25
							ROOT = { trait = gregarious }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = socializer }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = grey_eminence }
						}

						set_character_flag = flag_sway_turning_patient

						character_event = {
							id = HF.21124
							days = 12
						}
					}
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Kind-based option
		name = EVTOPTMHFP21104_KIND
		tooltip_info = kind

		trigger = { has_character_flag = flag_swayer_option_kind }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = kind }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = {
					OR = {
						trait = envious
						trait = cruel
					}
				}


				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				custom_tooltip = {
					text = tooltip_sway_into_personality_trait

					random = {
						chance = 40

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -2
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -4
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -6
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -8
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -10
							}
						}

						mult_modifier = {
							factor = 1.25
							ROOT = { trait = gregarious }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = socializer }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = grey_eminence }
						}

						set_character_flag = flag_sway_turning_kind

						character_event = {
							id = HF.21124
							days = 12
						}
					}
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Humble-based option
		name = EVTOPTNHFP21104_HUMBLE
		tooltip_info = humble

		trigger = { has_character_flag = flag_swayer_option_humble }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = humble }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = { trait = proud }

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				custom_tooltip = {
					text = tooltip_sway_into_personality_trait

					random = {
						chance = 40

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -2
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -4
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -6
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -8
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -10
							}
						}

						mult_modifier = {
							factor = 1.25
							ROOT = { trait = gregarious }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = socializer }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = grey_eminence }
						}

						set_character_flag = flag_sway_turning_humble

						character_event = {
							id = HF.21124
							days = 12
						}
					}
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Lustful-based option
		name = EVTOPTOHFP21104_LUSTFUL
		tooltip_info = lustful

		trigger = { has_character_flag = flag_swayer_option_lustful }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = lustful }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = {
					OR = {
						trait = chaste
						trait = celibate
					}
				}

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				if = {
					limit = { NOT = { trait = celibate } }

					custom_tooltip = {
						text = tooltip_sway_into_personality_trait

						random = {
							chance = 20

							mult_modifier = {
								factor = 1.25

								attribute_diff = {
									character = ROOT
									attribute = diplomacy
									value <= -2
								}
							}

							mult_modifier = {
								factor = 1.25

								attribute_diff = {
									character = ROOT
									attribute = diplomacy
									value <= -4
								}
							}

							mult_modifier = {
								factor = 1.25

								attribute_diff = {
									character = ROOT
									attribute = diplomacy
									value <= -6
								}
							}

							mult_modifier = {
								factor = 1.5

								attribute_diff = {
									character = ROOT
									attribute = diplomacy
									value <= -8
								}
							}

							mult_modifier = {
								factor = 1.5

								attribute_diff = {
									character = ROOT
									attribute = diplomacy
									value <= -10
								}
							}

							mult_modifier = {
								factor = 1.25
								ROOT = { trait = gregarious }
							}

							mult_modifier = {
								factor = 1.5
								ROOT = { trait = socializer }
							}

							mult_modifier = {
								factor = 1.5
								ROOT = { trait = grey_eminence }
							}

							set_character_flag = flag_sway_turning_lustful

							character_event = {
								id = HF.21124
								days = 12
							}
						}
					}
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Gluttonous-based option
		name = EVTOPTPHFP21104_GLUTTONOUS
		tooltip_info = gluttonous

		trigger = { has_character_flag = flag_swayer_option_gluttonous }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = gluttonous }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = { trait = temperate }

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				custom_tooltip = {
					text = tooltip_sway_into_personality_trait

					random = {
						chance = 40

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -2
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -4
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -6
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -8
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -10
							}
						}

						mult_modifier = {
							factor = 1.25
							ROOT = { trait = gregarious }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = socializer }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = grey_eminence }
						}

						set_character_flag = flag_sway_turning_gluttonous

						character_event = {
							id = HF.21124
							days = 12
						}
					}
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Greedy-based option
		name = EVTOPTQHFP21104_GREEDY
		tooltip_info = greedy

		trigger = { has_character_flag = flag_swayer_option_greedy }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = greedy }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = { trait = charitable }

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				custom_tooltip = {
					text = tooltip_sway_into_personality_trait

					random = {
						chance = 40

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -2
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -4
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -6
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -8
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -10
							}
						}

						mult_modifier = {
							factor = 1.25
							ROOT = { trait = gregarious }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = socializer }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = grey_eminence }
						}

						set_character_flag = flag_sway_turning_greedy

						character_event = {
							id = HF.21124
							days = 12
						}
					}
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Slothful-based option
		name = EVTOPTQHFP21104_SLOTHFUL
		tooltip_info = slothful

		trigger = { has_character_flag = flag_swayer_option_slothful }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = slothful }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = { trait = diligent }

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				custom_tooltip = {
					text = tooltip_sway_into_personality_trait

					random = {
						chance = 40

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -2
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -4
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -6
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -8
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -10
							}
						}

						mult_modifier = {
							factor = 1.25
							ROOT = { trait = gregarious }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = socializer }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = grey_eminence }
						}

						set_character_flag = flag_sway_turning_slothful

						character_event = {
							id = HF.21124
							days = 12
						}
					}
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Wroth-based option
		name = EVTOPTQHFP21104_WROTH
		tooltip_info = wroth

		trigger = { has_character_flag = flag_swayer_option_wroth }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = wroth }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = { trait = patient }

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				custom_tooltip = {
					text = tooltip_sway_into_personality_trait

					random = {
						chance = 40

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -2
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -4
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -6
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -8
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -10
							}
						}

						mult_modifier = {
							factor = 1.25
							ROOT = { trait = gregarious }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = socializer }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = grey_eminence }
						}

						set_character_flag = flag_sway_turning_wroth

						character_event = {
							id = HF.21124
							days = 12
						}
					}
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Envious-based option
		name = EVTOPTQHFP21104_ENVIOUS
		tooltip_info = envious

		trigger = { has_character_flag = flag_swayer_option_envious }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = envious }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = { trait = kind }

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				custom_tooltip = {
					text = tooltip_sway_into_personality_trait

					random = {
						chance = 40

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -2
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -4
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -6
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -8
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -10
							}
						}

						mult_modifier = {
							factor = 1.25
							ROOT = { trait = gregarious }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = socializer }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = grey_eminence }
						}

						set_character_flag = flag_sway_turning_envious

						character_event = {
							id = HF.21124
							days = 12
						}
					}
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Proud-based option
		name = EVTOPTQHFP21104_PROUD
		tooltip_info = proud

		trigger = { has_character_flag = flag_swayer_option_proud }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = proud }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = { trait = humble }

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				custom_tooltip = {
					text = tooltip_sway_into_personality_trait

					random = {
						chance = 40

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -2
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -4
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -6
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -8
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -10
							}
						}

						mult_modifier = {
							factor = 1.25
							ROOT = { trait = gregarious }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = socializer }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = grey_eminence }
						}

						set_character_flag = flag_sway_turning_proud

						character_event = {
							id = HF.21124
							days = 12
						}
					}
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Ambitious-based option
		name = EVTOPTQHFP21104_AMBITIOUS
		tooltip_info = ambitious

		trigger = { has_character_flag = flag_swayer_option_ambitious }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = ambitious }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = { trait = content }

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				custom_tooltip = {
					text = tooltip_sway_into_personality_trait

					random = {
						chance = 40

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -2
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -4
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -6
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -8
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -10
							}
						}

						mult_modifier = {
							factor = 1.25
							ROOT = { trait = gregarious }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = socializer }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = grey_eminence }
						}

						set_character_flag = flag_sway_turning_ambitious

						character_event = {
							id = HF.21124
							days = 12
						}
					}
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Arbitrary-based option
		name = EVTOPTQHFP21104_ARBITRARY
		tooltip_info = arbitrary

		trigger = { has_character_flag = flag_swayer_option_arbitrary }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = arbitrary }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = { trait = just }

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				custom_tooltip = {
					text = tooltip_sway_into_personality_trait

					random = {
						chance = 40

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -2
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -4
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -6
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -8
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -10
							}
						}

						mult_modifier = {
							factor = 1.25
							ROOT = { trait = gregarious }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = socializer }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = grey_eminence }
						}

						set_character_flag = flag_sway_turning_arbitrary

						character_event = {
							id = HF.21124
							days = 12
						}
					}
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Brave-based option
		name = EVTOPTQHFP21104_BRAVE
		tooltip_info = brave

		trigger = { has_character_flag = flag_swayer_option_brave }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = brave }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = { trait = craven }

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				custom_tooltip = {
					text = tooltip_sway_into_personality_trait

					random = {
						chance = 40

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -2
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -4
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -6
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -8
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -10
							}
						}

						mult_modifier = {
							factor = 1.25
							ROOT = { trait = gregarious }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = socializer }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = grey_eminence }
						}

						set_character_flag = flag_sway_turning_brave

						character_event = {
							id = HF.21124
							days = 12
						}
					}
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Content-based option
		name = EVTOPTQHFP21104_CONTENT
		tooltip_info = content

		trigger = { has_character_flag = flag_swayer_option_content }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = content }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = { trait = ambitious }

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				custom_tooltip = {
					text = tooltip_sway_into_personality_trait

					random = {
						chance = 40

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -2
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -4
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -6
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -8
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -10
							}
						}

						mult_modifier = {
							factor = 1.25
							ROOT = { trait = gregarious }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = socializer }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = grey_eminence }
						}

						set_character_flag = flag_sway_turning_content

						character_event = {
							id = HF.21124
							days = 12
						}
					}
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Craven-based option
		name = EVTOPTQHFP21104_CRAVEN
		tooltip_info = craven

		trigger = { has_character_flag = flag_swayer_option_craven }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = craven }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = { trait = brave }

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				custom_tooltip = {
					text = tooltip_sway_into_personality_trait

					random = {
						chance = 40

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -2
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -4
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -6
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -8
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -10
							}
						}

						mult_modifier = {
							factor = 1.25
							ROOT = { trait = gregarious }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = socializer }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = grey_eminence }
						}

						set_character_flag = flag_sway_turning_craven

						character_event = {
							id = HF.21124
							days = 12
						}
					}
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Cruel-based option
		name = EVTOPTQHFP21104_CRUEL
		tooltip_info = cruel

		trigger = { has_character_flag = flag_swayer_option_cruel }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = cruel }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = { trait = kind }

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				custom_tooltip = {
					text = tooltip_sway_into_personality_trait

					random = {
						chance = 40

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -2
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -4
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -6
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -8
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -10
							}
						}

						mult_modifier = {
							factor = 1.25
							ROOT = { trait = gregarious }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = socializer }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = grey_eminence }
						}

						set_character_flag = flag_sway_turning_cruel

						character_event = {
							id = HF.21124
							days = 12
						}
					}
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Cynical-based option
		name = EVTOPTQHFP21104_CYNICAL
		tooltip_info = cynical

		trigger = { has_character_flag = flag_swayer_option_cynical }

		FROM = {
			show_scope_change = no

			if = {
				limit = {
					OR = {
						trait = cynical

						AND = {
							trait = zealous
							NOT = { religion = ROOT }
						}
					}
				}

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = {
					trait = zealous
					religion = ROOT
				}

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				custom_tooltip = {
					text = tooltip_sway_into_personality_trait

					random = {
						chance = 20

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -2
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -4
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -6
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -8
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -10
							}
						}

						mult_modifier = {
							factor = 1.25
							ROOT = { trait = gregarious }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = socializer }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = grey_eminence }
						}

						set_character_flag = flag_sway_turning_cynical

						character_event = {
							id = HF.21124
							days = 12
						}
					}
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else_if = {
				limit = {
					NOR = {
						trait = cynical
						trait = zealous
					}
				}

				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Deceitful-based option
		name = EVTOPTQHFP21104_DECEITFUL
		tooltip_info = deceitful

		trigger = { has_character_flag = flag_swayer_option_deceitful }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = deceitful }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = { trait = honest }

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				custom_tooltip = {
					text = tooltip_sway_into_personality_trait

					random = {
						chance = 40

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -2
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -4
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -6
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -8
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -10
							}
						}

						mult_modifier = {
							factor = 1.25
							ROOT = { trait = gregarious }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = socializer }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = grey_eminence }
						}

						set_character_flag = flag_sway_turning_deceitful

						character_event = {
							id = HF.21124
							days = 12
						}
					}
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Erudite-based option
		name = EVTOPTQHFP21104_ERUDITE
		tooltip_info = erudite

		trigger = { has_character_flag = flag_swayer_option_erudite }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = erudite }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = { trait = dull }

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				ROOT = {
					show_scope_change = no

					tiered_prestige_reward_effect = yes
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Gregarious-based option
		name = EVTOPTQHFP21104_GREGARIOUS
		tooltip_info = gregarious

		trigger = { has_character_flag = flag_swayer_option_gregarious }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = gregarious }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = { trait = shy }

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				custom_tooltip = {
					text = tooltip_sway_into_personality_trait

					random = {
						chance = 40

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -2
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -4
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -6
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -8
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -10
							}
						}

						mult_modifier = {
							factor = 1.25
							ROOT = { trait = gregarious }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = socializer }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = grey_eminence }
						}

						set_character_flag = flag_sway_turning_gregarious

						character_event = {
							id = HF.21124
							days = 12
						}
					}
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Honest-based option
		name = EVTOPTQHFP21104_HONEST
		tooltip_info = honest

		trigger = { has_character_flag = flag_swayer_option_honest }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = honest }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = { trait = deceitful }

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				custom_tooltip = {
					text = tooltip_sway_into_personality_trait

					random = {
						chance = 40

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -2
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -4
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -6
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -8
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -10
							}
						}

						mult_modifier = {
							factor = 1.25
							ROOT = { trait = gregarious }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = socializer }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = grey_eminence }
						}

						set_character_flag = flag_sway_turning_honest

						character_event = {
							id = HF.21124
							days = 12
						}
					}
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Just-based option
		name = EVTOPTQHFP21104_JUST
		tooltip_info = just

		trigger = { has_character_flag = flag_swayer_option_just }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = just }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = { trait = arbitrary }

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				custom_tooltip = {
					text = tooltip_sway_into_personality_trait

					random = {
						chance = 40

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -2
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -4
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -6
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -8
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -10
							}
						}

						mult_modifier = {
							factor = 1.25
							ROOT = { trait = gregarious }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = socializer }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = grey_eminence }
						}

						set_character_flag = flag_sway_turning_just

						character_event = {
							id = HF.21124
							days = 12
						}
					}
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Paranoid-based option
		name = EVTOPTQHFP21104_PARANOID
		tooltip_info = paranoid

		trigger = { has_character_flag = flag_swayer_option_paranoid }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = paranoid }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = { trait = trusting }

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				custom_tooltip = {
					text = tooltip_sway_into_personality_trait

					random = {
						chance = 40

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -2
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -4
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -6
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -8
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -10
							}
						}

						mult_modifier = {
							factor = 1.25
							ROOT = { trait = gregarious }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = socializer }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = grey_eminence }
						}

						set_character_flag = flag_sway_turning_paranoid

						character_event = {
							id = HF.21124
							days = 12
						}
					}
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Shy-based option
		name = EVTOPTQHFP21104_SHY
		tooltip_info = shy

		trigger = { has_character_flag = flag_swayer_option_shy }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = shy }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = { trait = gregarious }

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				custom_tooltip = {
					text = tooltip_sway_into_personality_trait

					random = {
						chance = 40

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -2
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -4
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -6
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -8
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -10
							}
						}

						mult_modifier = {
							factor = 1.25
							ROOT = { trait = gregarious }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = socializer }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = grey_eminence }
						}

						set_character_flag = flag_sway_turning_shy

						character_event = {
							id = HF.21124
							days = 12
						}
					}
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Stubborn-based option
		name = EVTOPTQHFP21104_STUBBORN
		tooltip_info = stubborn

		trigger = { has_character_flag = flag_swayer_option_stubborn }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = stubborn }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = { trait = wroth }

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				ROOT = {
					show_scope_change = no

					tiered_prestige_reward_effect = yes
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Trusting-based option
		name = EVTOPTQHFP21104_TRUSTING
		tooltip_info = trusting

		trigger = { has_character_flag = flag_swayer_option_trusting }

		FROM = {
			show_scope_change = no

			if = {
				limit = { trait = trusting }

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = { trait = paranoid }

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				custom_tooltip = {
					text = tooltip_sway_into_personality_trait

					random = {
						chance = 40

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -2
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -4
							}
						}

						mult_modifier = {
							factor = 1.25

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -6
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -8
							}
						}

						mult_modifier = {
							factor = 1.5

							attribute_diff = {
								character = ROOT
								attribute = diplomacy
								value <= -10
							}
						}

						mult_modifier = {
							factor = 1.25
							ROOT = { trait = gregarious }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = socializer }
						}

						mult_modifier = {
							factor = 1.5
							ROOT = { trait = grey_eminence }
						}

						set_character_flag = flag_sway_turning_trusting

						character_event = {
							id = HF.21124
							days = 12
						}
					}
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Zealous-based option
		name = EVTOPTQHFP21104_ZEALOUS
		tooltip_info = zealous

		trigger = { has_character_flag = flag_swayer_option_zealous }

		FROM = {
			show_scope_change = no

			if = {
				limit = {
					religion = ROOT
					trait = zealous
				}

				opinion = {
					name = opinion_swayed_3
					who = ROOT
					years = 10
				}

				set_character_flag = flag_sway_visit_swayed_2
			}
			else_if = {
				limit = {
					trigger_if = {
						limit = { trait = cynical }
						religion = ROOT
					}
				}

				opinion = {
					name = opinion_antagonized_1
					who = ROOT
					years = 5
				}

				if = {
					limit = { religion = ROOT } # Can also be zealous and of a different religion

					custom_tooltip = {
						text = tooltip_sway_into_personality_trait

						random = {
							chance = 20

							mult_modifier = {
								factor = 1.25

								attribute_diff = {
									character = ROOT
									attribute = diplomacy
									value <= -2
								}
							}

							mult_modifier = {
								factor = 1.25

								attribute_diff = {
									character = ROOT
									attribute = diplomacy
									value <= -4
								}
							}

							mult_modifier = {
								factor = 1.25

								attribute_diff = {
									character = ROOT
									attribute = diplomacy
									value <= -6
								}
							}

							mult_modifier = {
								factor = 1.5

								attribute_diff = {
									character = ROOT
									attribute = diplomacy
									value <= -8
								}
							}

							mult_modifier = {
								factor = 1.5

								attribute_diff = {
									character = ROOT
									attribute = diplomacy
									value <= -10
								}
							}

							mult_modifier = {
								factor = 1.25
								ROOT = { trait = gregarious }
							}

							mult_modifier = {
								factor = 1.5
								ROOT = { trait = socializer }
							}

							mult_modifier = {
								factor = 1.5
								ROOT = { trait = grey_eminence }
							}


							set_character_flag = flag_sway_turning_zealous

							character_event = {
								id = HF.21124
								days = 12
							}
						}
					}
				}

				set_character_flag = flag_sway_visit_failure_1
			}
			else = {
				opinion = {
					name = opinion_swayed_1
					who = ROOT
					years = 5
				}

				set_character_flag = flag_sway_visit_swayed_1
			}
		}

		ai_chance = { factor = 40 }
	}

	option = { # Default option ensures the lowest opinion bonus
		name = EVTOPTZHFP21104_A

		reverse_opinion = {
			name = opinion_swayed_0
			who = ROOT
			years = 5
		}

		set_character_flag = flag_sway_visit_swayed_0

		ai_chance = { factor = 10 }
	}

	after = {
		clr_character_flag = flag_swayer_option_drunkard
		clr_character_flag = flag_swayer_option_lunatic
		clr_character_flag = flag_swayer_option_possessed
		clr_character_flag = flag_swayer_option_fair
		clr_character_flag = flag_swayer_option_chaste
		clr_character_flag = flag_swayer_option_temperate
		clr_character_flag = flag_swayer_option_charitable
		clr_character_flag = flag_swayer_option_diligent
		clr_character_flag = flag_swayer_option_patient
		clr_character_flag = flag_swayer_option_kind
		clr_character_flag = flag_swayer_option_humble
		clr_character_flag = flag_swayer_option_lustful
		clr_character_flag = flag_swayer_option_gluttonous
		clr_character_flag = flag_swayer_option_greedy
		clr_character_flag = flag_swayer_option_slothful
		clr_character_flag = flag_swayer_option_wroth
		clr_character_flag = flag_swayer_option_envious
		clr_character_flag = flag_swayer_option_proud
		clr_character_flag = flag_swayer_option_ambitious
		clr_character_flag = flag_swayer_option_arbitrary
		clr_character_flag = flag_swayer_option_brave
		clr_character_flag = flag_swayer_option_content
		clr_character_flag = flag_swayer_option_craven
		clr_character_flag = flag_swayer_option_cruel
		clr_character_flag = flag_swayer_option_cynical
		clr_character_flag = flag_swayer_option_deceitful
		clr_character_flag = flag_swayer_option_erudite
		clr_character_flag = flag_swayer_option_gregarious
		clr_character_flag = flag_swayer_option_honest
		clr_character_flag = flag_swayer_option_just
		clr_character_flag = flag_swayer_option_paranoid
		clr_character_flag = flag_swayer_option_shy
		clr_character_flag = flag_swayer_option_stubborn
		clr_character_flag = flag_swayer_option_trusting
		clr_character_flag = flag_swayer_option_zealous

		FROM = {
			character_event = { id = HF.21105 } # Notify, then end chain
		}
	}
}

# Swayed: Reaction to Swayer's visit
character_event = {
	id = HF.21105
	desc = EVTDESCHFP21105 # Composite custom loc

	picture = {
		picture = GFX_evt_daughter_asking_mother
		trigger = { has_religion_feature = religion_matriarchal }
	}
	picture = {
		picture = GFX_evt_son_asking_father
		trigger = {
			NOT = { has_religion_feature = religion_matriarchal }
		}
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21105

		tooltip = {
			trigger_switch = {
				on_trigger = has_character_flag

				flag_sway_visit_swayed_3 = {
					opinion = {
						name = opinion_swayed_3
						who = FROM
						years = 10
					}
				}

				flag_sway_visit_swayed_2 = {
					opinion = {
						name = opinion_swayed_2
						who = FROM
						years = 10
					}
				}

				flag_sway_visit_swayed_1 = {
					opinion = {
						name = opinion_swayed_1
						who = FROM
						years = 5
					}
				}

				flag_sway_visit_swayed_0 = {
					opinion = {
						name = opinion_swayed_0
						who = FROM
						years = 5
					}
				}

				flag_sway_visit_failure_1 = {
					opinion = {
						name = opinion_antagonized_1
						who = FROM
						years = 5
					}
				}
			}
		}

		clr_character_flag = flag_sway_visit_relative
		clr_character_flag = flag_sway_visit_religion
		clr_character_flag = flag_sway_visit_inside
		clr_character_flag = flag_sway_visit_outside

		clr_character_flag = flag_sway_visit_swayed_3
		clr_character_flag = flag_sway_visit_swayed_2
		clr_character_flag = flag_sway_visit_swayed_1
		clr_character_flag = flag_sway_visit_swayed_0
		clr_character_flag = flag_sway_visit_failure_1

		hidden_effect = {
			random_list = {
				# Chance for friendship, romance, lifestyle trait sharing, favor

				40 = { } # Nothing

				20 = {
					trigger = {
						NOT = { is_friend = FROM }
						num_of_friends < 3
						FROM = { num_of_friends < 3 }

						opinion = {
							who = FROM
							value >= 60
						}

						reverse_opinion = {
							who = FROM
							value >= 60
						}
					}

					mult_modifier = {
						factor = 1.5
						FROM = { trait = gregarious }
					}

					mult_modifier = {
						factor = 1.5
						FROM = { trait = socializer }
					}

					mult_modifier = {
						factor = 3
						FROM = { has_ambition = obj_make_friends }
					}

					mult_modifier = {
						factor = 0.5
						FROM = { trait = shy }
					}

					FROM = {
						character_event = { id = HF.21106 } # Becoming friends
					}
				}

				10 = {
					trigger = {
						num_of_lovers < 3

						NOR = {
							is_lover = FROM
							trait = celibate
						}

						FROM = {
							num_of_lovers < 3
							root_attraction_trigger = yes
							attracted_to_root_trigger = yes
							NOT = { trait = celibate }
						}

						opinion = {
							who = FROM
							value >= 60
						}

						reverse_opinion = {
							who = FROM
							value >= 60
						}
					}

					mult_modifier = {
						factor = 1.5
						FROM = { trait = gregarious }
					}

					mult_modifier = {
						factor = 1.5
						FROM = { trait = lustful }
					}

					mult_modifier = {
						factor = 0.5

						FROM = {
							trait = chaste
							NOT = { is_married = ROOT }
						}
					}

					mult_modifier = {
						factor = 0.5

						trait = chaste
						NOT = { is_married = ROOT }
					}

					mult_modifier = {
						factor = 1.5
						is_married = FROM
					}

					FROM = {
						character_event = { id = HF.21109 } # Becoming lovers
					}
				}

				20 = {
					trigger = {
						lifestyle_traits < 1

						FROM = {
							OR = {
								trait = scholar
								trait = mystic
								trait = hunter
								trait = falconer
								trait = gardener
								trait = duelist
								trait = architect
								trait = hedonist
								trait = game_master
								trait = socializer
							}
						}

						opinion = {
							who = FROM
							value >= 40
						}
					}

					mult_modifier = {
						factor = 1.5
						FROM = { trait = gregarious }
					}

					mult_modifier = {
						factor = 1.5
						FROM = { trait = socializer }
					}

					mult_modifier = {
						factor = 0.5
						FROM = { trait = shy }
					}

					FROM = {
						character_event = {
							id = HF.21112 # Acquiring Swayer's lifestyle
							days = 5
						}
					}
				}

				10 = {
					trigger = {
						has_dlc = "Conclave"
						NOT = { owes_favor_to = FROM }

						opinion = {
							who = FROM
							value >= 40
						}
					}

					mult_modifier = {
						factor = 2.5
						trait = charitable
					}

					mult_modifier = {
						factor = 1.5
						FROM = { trait = socializer }
					}

					mult_modifier = {
						factor = 0.5
						FROM = { trait = shy }
					}

					character_event = { id = HF.21115 } # Feeling indebted after the visit
				}
			}
		}
	}
}

# Swayer: Becoming friends with swayed
character_event = {
	id = HF.21106
	desc = EVTDESCHFP21106
	picture = GFX_evt_state_diplomacy

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21106

		add_friend = FROM

		FROM = {
			character_event = { id = HF.21107 }
		}
	}

	option = {
		name = EVTOPTBHFP21106

		ai_chance = { factor = 0 }
	}
}

# Swayed: Accept offer of friendship?
character_event = {
	id = HF.21107
	desc = EVTDESCHFP21107
	picture = GFX_evt_state_diplomacy

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21107

		add_friend = FROM

		hidden_effect = {
			FROM = {
				persistent_event_target:sway_target = {
					clr_character_flag = flag_character_being_swayed
				}

				remove_special_interest = persistent_event_target:sway_target
				clear_persistent_event_target = sway_target
				clr_character_flag = flag_tired_of_gifts
			}
		}
	}

	option = { # Player only
		name = EVTOPTBHFP21107

		remove_friend = FROM

		FROM = {
			character_event = { id = HF.21108 }
		}

		ai_chance = { factor = 0 }
	}
}

# Swayer: Notified Swayed has refused friendship
character_event = {
	id = HF.21108
	desc = EVTDESCHFP21108
	picture = GFX_evt_state_diplomacy

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21108

		remove_friend = FROM
	}
}

# Swayer: Falling in love with swayed
character_event = {
	id = HF.21109
	desc = EVTDESCHFP21109
	picture = GFX_evt_lovers

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21109

		add_lover = FROM

		FROM = {
			character_event = { id = HF.21110 }
		}
	}

	option = {
		name = EVTOPTBHFP21109

		ai_chance = { factor = 0 }
	}
}

# Swayed: Accept offer of romance?
character_event = {
	id = HF.21110
	desc = EVTDESCHFP21110
	picture = GFX_evt_lovers

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21110

		add_lover = FROM

		hidden_effect = {
			FROM = {
				persistent_event_target:sway_target = {
					clr_character_flag = flag_character_being_swayed
				}

				remove_special_interest = persistent_event_target:sway_target
				clear_persistent_event_target = sway_target
				clr_character_flag = flag_tired_of_gifts
			}
		}
	}

	option = { # Player only
		name = EVTOPTBHFP21110

		remove_lover = FROM

		FROM = {
			character_event = { id = HF.21111 }
		}

		ai_chance = { factor = 0 }
	}
}

# Swayer: Notified Swayed has refused romance
character_event = {
	id = HF.21111
	desc = EVTDESCHFP21111
	picture = GFX_evt_quarrel

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21111

		remove_lover = FROM
	}
}

# Swayed: Hidden event to pick a potential lifestyle trait (in case character has more than one for whatever reason)
character_event = {
	id = HF.21112

	is_triggered_only = yes
	hide_window = yes

	immediate = {
		random_list = {
			10 = {
				trigger = { trait = scholar }
				FROM = { set_character_flag = flag_becoming_scholar }
			}

			10 = {
				trigger = { trait = mystic }
				FROM = { set_character_flag = flag_becoming_mystic }
			}

			10 = {
				trigger = { trait = socializer }
				FROM = { set_character_flag = flag_becoming_socializer }
			}

			10 = {
				trigger = { trait = game_master }
				FROM = { set_character_flag = flag_becoming_gamer }
			}

			10 = {
				trigger = { trait = hunter }
				FROM = { set_character_flag = flag_becoming_hunter }
			}

			10 = {
				trigger = { trait = falconer }
				FROM = { set_character_flag = flag_becoming_falconer }
			}

			10 = {
				trigger = { trait = gardener }
				FROM = { set_character_flag = flag_becoming_gardener }
			}

			10 = {
				trigger = { trait = duelist }
				FROM = { set_character_flag = flag_becoming_duelist }
			}

			10 = {
				trigger = { trait = architect }
				FROM = { set_character_flag = flag_becoming_architect }
			}

			10 = {
				trigger = { trait = hedonist }
				FROM = { set_character_flag = flag_becoming_hedonist }
			}
		}

		FROM = {
			character_event = { id = HF.21113 }
		}
	}
}

# Swayed: choose if you want to learn the Swayer's lifestyle trait
character_event = {
	id = HF.21113
	picture = GFX_evt_library

	desc = {
		text = EVTDESCAHFP21113
		trigger = { has_character_flag = flag_becoming_scholar }
	}
	desc = {
		text = EVTDESCBHFP21113
		trigger = { has_character_flag = flag_becoming_mystic }
	}
	desc = {
		text = EVTDESCCHFP21113
		picture = GFX_evt_fancy_feast
		trigger = { has_character_flag = flag_becoming_socializer }
	}
	desc = {
		text = EVTDESCDHFP21113
		picture = GFX_evt_war_planning
		trigger = { has_character_flag = flag_becoming_gamer }
	}
	desc = {
		text = EVTDESCEHFP21113
		picture = GFX_evt_hunt
		trigger = { has_character_flag = flag_becoming_hunter }
	}
	desc = {
		text = EVTDESCFHFP21113
		picture = GFX_evt_falconing
		trigger = { has_character_flag = flag_becoming_falconer }
	}
	desc = {
		text = EVTDESCGHFP21113
		picture = GFX_evt_garden
		trigger = { has_character_flag = flag_becoming_gardener }
	}
	desc = {
		text = EVTDESCHHFP21113
		picture = GFX_evt_teaching_moment
		trigger = { has_character_flag = flag_becoming_duelist }
	}
	desc = {
		text = EVTDESCIHFP21113
		picture = GFX_evt_magnificent_castle
		trigger = { has_character_flag = flag_becoming_architect }
	}
	desc = {
		text = EVTDESCLHFP21113
		picture = GFX_evt_sultan
		trigger = { has_character_flag = flag_becoming_hedonist }
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21113

		trigger_switch = {
			on_trigger = has_character_flag

			flag_becoming_scholar    = { add_trait = scholar }
			flag_becoming_mystic     = { add_trait = mystic }
			flag_becoming_socializer = { add_trait = socializer }
			flag_becoming_gamer      = { add_trait = game_master }
			flag_becoming_hunter     = { add_trait = hunter }
			flag_becoming_falconer   = { add_trait = falconer }
			flag_becoming_gardener   = { add_trait = gardener }
			flag_becoming_duelist    = { add_trait = duelist }
			flag_becoming_architect  = { add_trait = architect }
			flag_becoming_hedonist   = { add_trait = hedonist }
		}

		FROM = {
			character_event = { id = HF.21114 }
		}

		ai_chance = { factor = 70 }
	}

	option = { # No
		name = EVTOPTBHFP21113

		ai_chance = {
			factor = 30

			mult_modifier = {
				factor = 1.5
				trait = paranoid
			}
		}
	}

	after = {
		clr_character_flag = flag_becoming_scholar
		clr_character_flag = flag_becoming_mystic
		clr_character_flag = flag_becoming_socializer
		clr_character_flag = flag_becoming_gamer
		clr_character_flag = flag_becoming_hunter
		clr_character_flag = flag_becoming_falconer
		clr_character_flag = flag_becoming_gardener
		clr_character_flag = flag_becoming_duelist
		clr_character_flag = flag_becoming_architect
		clr_character_flag = flag_becoming_hedonist
	}
}

# Swayer: Notified Swayed now shares your lifestyle after the visit
character_event = {
	id = HF.21114
	desc = EVTDESCHFP21114

	picture = {
		picture = GFX_evt_daughter_asking_mother
		trigger = { has_religion_feature = religion_matriarchal }
	}
	picture = {
		picture = GFX_evt_son_asking_father
		trigger = {
			NOT = { has_religion_feature = religion_matriarchal }
		}
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21114

		tiered_prestige_reward_effect = yes
	}
}

# Swayed: Feeling indebted for the nice visit
character_event = {
	id = HF.21115
	desc = EVTDESCHFP21115
	picture = GFX_evt_state_diplomacy

	is_triggered_only = yes
	show_from_from = yes

	option = {
		name = EVTOPTAHFP21115

		tiered_piety_reward_effect = yes

		FROMFROM = {
			show_scope_change = no

			add_favor = ROOT
			character_event = { id = HF.21116 }
		}

		ai_chance = { factor = 90 }
	}

	option = {
		name = EVTOPTBHFP21115

		trigger = { NOT = { trait = charitable } }

		tiered_piety_negative_effect = yes

		ai_chance = { factor = 10 }
	}
}

# Swayer: Notified of Favor
character_event = {
	id = HF.21116
	desc = EVTDESCHFP21116
	picture = GFX_evt_state_diplomacy

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTAHFP21116

		tooltip = {
			add_favor = FROM
		}
	}
}

# Swayer: Having strong disagreement
character_event = {
	id = HF.21117
	desc = EVTDESCHFP21117
	picture = GFX_evt_rival_rulers

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21117
		tooltip_info = diplomacy

		trigger = { diplomacy >= 15 }

		FROM = {
			show_scope_change = no

			opinion = {
				name = opinion_swayed_1
				who = ROOT
				years = 5
			}

			character_event = { id = HF.21118 }
		}

		ai_chance = { factor = 80 }
	}

	option = {
		name = EVTOPTBHFP21117
		tooltip_info = patient

		trigger = { trait = patient }

		tiered_prestige_negative_effect = yes

		FROM = {
			show_scope_change = no

			opinion = {
				name = opinion_swayed_0
				who = ROOT
				years = 5
			}

			character_event = { id = HF.21119 }
		}

		ai_chance = { factor = 60 }
	}

	option = {
		name = EVTOPTCHFP21117

		trigger = { NOT = { trait = wroth } }

		FROM = {
			show_scope_change = no

			opinion = {
				name = opinion_antagonized_1
				who = ROOT
				years = 5
			}

			character_event = { id = HF.21120 }
		}

		ai_chance = { factor = 20 }
	}

	option = {
		name = EVTOPTDHFP21117
		tooltip_info = wroth

		trigger = { trait = wroth }

		opinion = {
			name = opinion_antagonized_3
			who = persistent_event_target:sway_target
			years = 10
		}

		FROM = {
			show_scope_change = no

			opinion = {
				name = opinion_antagonized_3
				who = ROOT
				years = 10
			}

			character_event = { id = HF.21121 }
		}

		ai_chance = { factor = 80 }
	}
}

# Swayed: Having strong disagreement, Swayer used diplomacy to resolve it
character_event = {
	id = HF.21118
	desc = EVTDESCHFP21118
	picture = GFX_evt_rival_rulers

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTAHFP21118

		tooltip = {
			opinion = {
				name = opinion_swayed_1
				who = FROM
				years = 5
			}
		}
	}
}

# Swayed: Having strong disagreement, Swayer remained patient
character_event = {
	id = HF.21119
	desc = EVTDESCHFP21119
	picture = GFX_evt_rival_rulers

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTAHFP21119

		tooltip = {
			opinion = {
				name = opinion_swayed_0
				who = FROM
				years = 5
			}
		}
	}
}

# Swayed: Having strong disagreement
character_event = {
	id = HF.21120
	desc = EVTDESCHFP21120
	picture = GFX_evt_rival_rulers

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTAHFP21120

		tooltip = {
			opinion = {
				name = opinion_antagonized_1
				who = FROM
				years = 5
			}
		}
	}
}

# Swayed: Having strong disagreement, and the Swayer is wroth
character_event = {
	id = HF.21121
	desc = EVTDESCHFP21121
	picture = GFX_evt_rival_rulers

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTAHFP21121

		tooltip = {
			opinion = {
				name = opinion_antagonized_3
				who = FROM
				years = 10
			}
		}
	}
}

# Swayer: Has become rivals with Swayed
character_event = {
	id = HF.21123
	desc = EVTDESCHFP21123
	picture = GFX_evt_upsetting_letter
	portrait = persistent_event_target:sway_target

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21123

		custom_tooltip = {
			text = tooltip_21123_A

			persistent_event_target:sway_target = {
				clr_character_flag = flag_character_being_swayed
			}

			remove_special_interest = persistent_event_target:sway_target
			clear_persistent_event_target = sway_target
			clr_character_flag = flag_tired_of_gifts
		}
	}
}

# Swayed is convinced to switch personality trait after visit
character_event = {
	id = HF.21124
	picture = GFX_evt_courtiers_talking

	desc = {
		text = EVTDESCAHFP21124_CHASTE
		picture = GFX_evt_lovers
		trigger = { has_character_flag = flag_sway_turning_chaste }
	}
	desc = {
		text = EVTDESCAHFP21124_TEMPERATE
		picture = GFX_evt_recovery
		trigger = { has_character_flag = flag_sway_turning_temperate }
	}
	desc = {
		text = EVTDESCAHFP21124_CHARITABLE
		trigger = { has_character_flag = flag_sway_turning_charitable }
	}
	desc = {
		text = EVTDESCAHFP21124_DILIGENT
		trigger = { has_character_flag = flag_sway_turning_diligent }
	}
	desc = {
		text = EVTDESCAHFP21124_PATIENT
		trigger = { has_character_flag = flag_sway_turning_patient }
	}
	desc = {
		text = EVTDESCAHFP21124_KIND
		trigger = { has_character_flag = flag_sway_turning_kind }
	}
	desc = {
		text = EVTDESCAHFP21124_HUMBLE
		picture = GFX_evt_recovery
		trigger = { has_character_flag = flag_sway_turning_humble }
	}
	desc = {
		text = EVTDESCAHFP21124_LUSTFUL
		picture = GFX_evt_brothel
		trigger = { has_character_flag = flag_sway_turning_lustful }
	}
	desc = {
		text = EVTDESCAHFP21124_GLUTTONOUS
		picture = GFX_evt_fancy_feast
		trigger = { has_character_flag = flag_sway_turning_gluttonous }
	}
	desc = {
		text = EVTDESCAHFP21124_GREEDY
		trigger = { has_character_flag = flag_sway_turning_greedy }
	}
	desc = {
		text = EVTDESCAHFP21124_SLOTHFUL
		picture = GFX_evt_drunk
		trigger = { has_character_flag = flag_sway_turning_slothful }
	}
	desc = {
		text = EVTDESCAHFP21124_WROTH
		picture = GFX_evt_quarrel
		trigger = { has_character_flag = flag_sway_turning_wroth }
	}
	desc = {
		text = EVTDESCAHFP21124_ENVIOUS
		trigger = { has_character_flag = flag_sway_turning_envious }
	}
	desc = {
		text = EVTDESCAHFP21124_PROUD
		trigger = { has_character_flag = flag_sway_turning_proud }
	}
	desc = {
		text = EVTDESCAHFP21124_AMBITIOUS
		trigger = { has_character_flag = flag_sway_turning_ambitious }
	}
	desc = {
		text = EVTDESCAHFP21124_ARBITRARY
		picture = GFX_evt_beheading
		trigger = { has_character_flag = flag_sway_turning_arbitrary }
	}
	desc = {
		text = EVTDESCAHFP21124_BRAVE
		picture = GFX_evt_melee
		trigger = { has_character_flag = flag_sway_turning_brave }
	}
	desc = {
		text = EVTDESCAHFP21124_CONTENT
		picture = GFX_evt_drunk
		trigger = { has_character_flag = flag_sway_turning_content }
	}
	desc = {
		text = EVTDESCAHFP21124_CRAVEN
		picture = GFX_evt_scandal
		trigger = { has_character_flag = flag_sway_turning_craven }
	}
	desc = {
		text = EVTDESCAHFP21124_ENVIOUS # EVTDESCAHFP21124_CRUEL unneeded
		picture = GFX_evt_beheading
		trigger = { has_character_flag = flag_sway_turning_cruel }
	}
	desc = {
		text = EVTDESCAHFP21124_CYNICAL
		picture = GFX_evt_library
		trigger = { has_character_flag = flag_sway_turning_cynical }
	}
	desc = {
		text = EVTDESCAHFP21124_DECEITFUL
		picture = GFX_evt_lunatic
		trigger = { has_character_flag = flag_sway_turning_deceitful }
	}
	desc = {
		text = EVTDESCAHFP21124_GREGARIOUS
		trigger = { has_character_flag = flag_sway_turning_gregarious }
	}
	desc = {
		text = EVTDESCAHFP21124_HONEST
		trigger = {  has_character_flag = flag_sway_turning_honest }
	}
	desc = {
		text = EVTDESCAHFP21124_JUST
		trigger = { has_character_flag = flag_sway_turning_just }
	}
	desc = {
		text = EVTDESCAHFP21124_PARANOID
		picture = GFX_evt_lunatic
		trigger = { has_character_flag = flag_sway_turning_paranoid }
	}
	desc = {
		text = EVTDESCAHFP21124_SHY
		trigger = { has_character_flag = flag_sway_turning_shy }
	}
	desc = {
		text = EVTDESCAHFP21124_TRUSTING
		trigger = { has_character_flag = flag_sway_turning_trusting }
	}
	desc = {
		text = EVTDESCAHFP21124_ZEALOUS
		picture = GFX_evt_library
		trigger = { has_character_flag = flag_sway_turning_zealous }
	}

	is_triggered_only = yes

	option = { # Yes
		name = EVTOPTAHFP21124

		trigger_switch = {
			on_trigger = has_character_flag

			flag_sway_turning_chaste = {
				remove_trait = lustful
				add_trait = chaste
				clr_character_flag = flag_sway_turning_chaste
				FROM = { set_character_flag = flag_sway_turned_chaste }
			}

			flag_sway_turning_temperate = {
				remove_trait_silently_drunkard_effect = yes
				add_trait_fully_silently_temperate_effect = yes # Includes weight effects
				clr_character_flag = flag_sway_turning_temperate
				FROM = { set_character_flag = flag_sway_turned_temperate }
			}

			flag_sway_turning_charitable = {
				remove_trait = greedy
				add_trait = charitable
				clr_character_flag = flag_sway_turning_charitable
				FROM = { set_character_flag = flag_sway_turned_charitable }
			}

			flag_sway_turning_diligent = {
				remove_trait = slothful
				add_trait = diligent
				clr_character_flag = flag_sway_turning_diligent
				FROM = { set_character_flag = flag_sway_turned_diligent }
			}

			flag_sway_turning_patient = {
				remove_trait = wroth
				add_trait = patient
				clr_character_flag = flag_sway_turning_patient
				FROM = { set_character_flag = flag_sway_turned_patient }
			}

			flag_sway_turning_kind = {
				remove_trait_silently_envious_effect = yes
				remove_trait_silently_cruel_effect = yes
				add_trait = kind
				clr_character_flag = flag_sway_turning_kind
				FROM = { set_character_flag = flag_sway_turned_kind }
			}

			flag_sway_turning_humble = {
				remove_trait = proud
				add_trait = humble
				clr_character_flag = flag_sway_turning_humble
				FROM = { set_character_flag = flag_sway_turned_humble }
			}

			flag_sway_turning_lustful = {
				remove_trait = chaste
				add_trait = lustful
				clr_character_flag = flag_sway_turning_lustful
				FROM = { set_character_flag = flag_sway_turned_lustful }
			}

			flag_sway_turning_gluttonous = {
				remove_trait = temperate
				add_trait = gluttonous
				clr_character_flag = flag_sway_turning_gluttonous
				FROM = { set_character_flag = flag_sway_turned_gluttonous }
			}

			flag_sway_turning_greedy = {
				remove_trait = charitable
				add_trait = greedy
				clr_character_flag = flag_sway_turning_greedy
				FROM = { set_character_flag = flag_sway_turned_greedy }
			}

			flag_sway_turning_slothful = {
				remove_trait = diligent
				add_trait = slothful
				clr_character_flag = flag_sway_turning_slothful
				FROM = { set_character_flag = flag_sway_turned_slothful }
			}

			flag_sway_turning_wroth = {
				remove_trait = patient
				add_trait = wroth
				clr_character_flag = flag_sway_turning_wroth
				FROM = { set_character_flag = flag_sway_turned_wroth }
			}

			flag_sway_turning_envious = {
				remove_trait = kind
				add_trait = envious
				clr_character_flag = flag_sway_turning_envious
				FROM = { set_character_flag = flag_sway_turned_envious }
			}

			flag_sway_turning_proud = {
				remove_trait = humble
				add_trait = proud
				clr_character_flag = flag_sway_turning_proud
				FROM = { set_character_flag = flag_sway_turned_proud }
			}

			flag_sway_turning_ambitious = {
				remove_trait = content
				add_trait = ambitious
				clr_character_flag = flag_sway_turning_ambitious
				FROM = { set_character_flag = flag_sway_turned_ambitious }
			}

			flag_sway_turning_arbitrary = {
				remove_trait = just
				add_trait = arbitrary
				clr_character_flag = flag_sway_turning_arbitrary
				FROM = { set_character_flag = flag_sway_turned_arbitrary }
			}

			flag_sway_turning_brave = {
				remove_trait = craven
				add_trait = brave
				clr_character_flag = flag_sway_turning_brave
				FROM = { set_character_flag = flag_sway_turned_brave }
			}

			flag_sway_turning_content = {
				remove_trait = ambitious
				add_trait = content
				clr_character_flag = flag_sway_turning_content
				FROM = { set_character_flag = flag_sway_turned_content }
			}

			flag_sway_turning_craven = {
				remove_trait = brave
				add_trait = craven
				clr_character_flag = flag_sway_turning_craven
				FROM = { set_character_flag = flag_sway_turned_craven }
			}

			flag_sway_turning_cruel = {
				remove_trait = kind
				add_trait = cruel
				clr_character_flag = flag_sway_turning_cruel
				FROM = { set_character_flag = flag_sway_turned_cruel }
			}

			flag_sway_turning_cynical = {
				remove_trait = zealous
				add_trait = cynical
				clr_character_flag = flag_sway_turning_cynical
				FROM = { set_character_flag = flag_sway_turned_cynical }
			}

			flag_sway_turning_deceitful = {
				remove_trait = honest
				add_trait = deceitful
				clr_character_flag = flag_sway_turning_deceitful
				FROM = { set_character_flag = flag_sway_turned_deceitful }
			}

			flag_sway_turning_gregarious = {
				remove_trait = shy
				add_trait = gregarious
				clr_character_flag = flag_sway_turning_gregarious
				FROM = { set_character_flag = flag_sway_turned_gregarious }
			}

			flag_sway_turning_honest = {
				remove_trait = deceitful
				add_trait = honest
				clr_character_flag = flag_sway_turning_honest
				FROM = { set_character_flag = flag_sway_turned_honest }
			}

			flag_sway_turning_just = {
				remove_trait = arbitrary
				add_trait = just
				clr_character_flag = flag_sway_turning_just
				FROM = { set_character_flag = flag_sway_turned_just }
			}

			flag_sway_turning_paranoid = {
				remove_trait = trusting
				add_trait = paranoid
				clr_character_flag = flag_sway_turning_paranoid
				FROM = { set_character_flag = flag_sway_turned_paranoid }
			}

			flag_sway_turning_shy = {
				remove_trait = gregarious
				add_trait = shy
				clr_character_flag = flag_sway_turning_shy
				FROM = { set_character_flag = flag_sway_turned_shy }
			}

			flag_sway_turning_trusting = {
				remove_trait = paranoid
				add_trait = trusting
				clr_character_flag = flag_sway_turning_trusting
				FROM = { set_character_flag = flag_sway_turned_trusting }
			}

			flag_sway_turning_zealous = {
				remove_trait = cynical
				add_trait = zealous
				clr_character_flag = flag_sway_turning_zealous
				FROM = { set_character_flag = flag_sway_turned_zealous }
			}
		}

		FROM = {
			character_event = { id = HF.21125 } # Notify Swayer
		}

		ai_chance = {
			factor = 30

			mult_modifier = {
				factor = 0.5

				opinion = {
					who = FROM
					value < 50
				}
			}

			mult_modifier = {
				factor = 2

				opinion = {
					who = FROM
					value >= 70
				}
			}

			mult_modifier = {
				factor = 0.1
				trait = paranoid
			}

			mult_modifier = {
				factor = 1.75
				trait = trusting
			}

			mult_modifier = {
				factor = 1.75
				trait = gregarious
			}

			mult_modifier = {
				factor = 0.5
				trait = shy
			}
		}
	}

	option = { # No
		name = EVTOPTBHFP21124

		ai_chance = { factor = 70 }
	}
}

# Swayer notified of switch
character_event = {
	id = HF.21125
	picture = GFX_evt_courtiers_talking

	desc = {
		text = EVTDESCAHFP21125_CHASTE
		picture = GFX_evt_lovers
		trigger = { has_character_flag = flag_sway_turned_chaste }
	}
	desc = {
		text = EVTDESCAHFP21125_TEMPERATE
		picture = GFX_evt_recovery
		trigger = { has_character_flag = flag_sway_turned_temperate }
	}
	desc = {
		text = EVTDESCAHFP21125_CHARITABLE
		trigger = { has_character_flag = flag_sway_turned_charitable }
	}
	desc = {
		text = EVTDESCAHFP21125_DILIGENT
		trigger = { has_character_flag = flag_sway_turned_diligent }
	}
	desc = {
		text = EVTDESCAHFP21125_PATIENT
		trigger = { has_character_flag = flag_sway_turned_patient }
	}
	desc = {
		text = EVTDESCAHFP21125_KIND
		trigger = { has_character_flag = flag_sway_turned_kind }
	}
	desc = {
		text = EVTDESCAHFP21125_HUMBLE
		picture = GFX_evt_recovery
		trigger = { has_character_flag = flag_sway_turned_humble }
	}
	desc = {
		text = EVTDESCAHFP21125_LUSTFUL
		picture = GFX_evt_brothel
		trigger = { has_character_flag = flag_sway_turned_lustful }
	}
	desc = {
		text = EVTDESCAHFP21125_GLUTTONOUS
		picture = GFX_evt_fancy_feast
		trigger = { has_character_flag = flag_sway_turned_gluttonous }
	}
	desc = {
		text = EVTDESCAHFP21125_GREEDY
		trigger = { has_character_flag = flag_sway_turned_greedy }
	}
	desc = {
		text = EVTDESCAHFP21125_SLOTHFUL
		picture = GFX_evt_drunk
		trigger = { has_character_flag = flag_sway_turned_slothful }
	}
	desc = {
		text = EVTDESCAHFP21125_WROTH
		picture = GFX_evt_quarrel
		trigger = { has_character_flag = flag_sway_turned_wroth }
	}
	desc = {
		text = EVTDESCAHFP21125_ENVIOUS
		trigger = { has_character_flag = flag_sway_turned_envious }
	}
	desc = {
		text = EVTDESCAHFP21125_PROUD
		trigger = { has_character_flag = flag_sway_turned_proud }
	}
	desc = {
		text = EVTDESCAHFP21125_AMBITIOUS
		trigger = { has_character_flag = flag_sway_turned_ambitious }
	}
	desc = {
		text = EVTDESCAHFP21125_ARBITRARY
		picture = GFX_evt_beheading
		trigger = { has_character_flag = flag_sway_turned_arbitrary }
	}
	desc = {
		text = EVTDESCAHFP21125_BRAVE
		picture = GFX_evt_melee
		trigger = { has_character_flag = flag_sway_turned_brave }
	}
	desc = {
		text = EVTDESCAHFP21125_CONTENT
		picture = GFX_evt_drunk
		trigger = { has_character_flag = flag_sway_turned_content }
	}
	desc = {
		text = EVTDESCAHFP21125_CRAVEN
		picture = GFX_evt_scandal
		trigger = { has_character_flag = flag_sway_turned_craven }
	}
	desc = {
		text = EVTDESCAHFP21125_ENVIOUS # EVTDESCAHFP21125_CRUEL Redundant
		picture = GFX_evt_beheading
		trigger = { has_character_flag = flag_sway_turned_cruel }
	}
	desc = {
		text = EVTDESCAHFP21125_CYNICAL
		picture = GFX_evt_library
		trigger = { has_character_flag = flag_sway_turned_cynical }
	}
	desc = {
		text = EVTDESCAHFP21125_DECEITFUL
		picture = GFX_evt_lunatic
		trigger = { has_character_flag = flag_sway_turned_deceitful }
	}
	desc = {
		text = EVTDESCAHFP21125_GREGARIOUS
		trigger = { has_character_flag = flag_sway_turned_gregarious }
	}
	desc = {
		text = EVTDESCAHFP21125_HONEST
		trigger = { has_character_flag = flag_sway_turned_honest }
	}
	desc = {
		text = EVTDESCAHFP21125_JUST
		trigger = { has_character_flag = flag_sway_turned_just }
	}
	desc = {
		text = EVTDESCAHFP21125_PARANOID
		picture = GFX_evt_lunatic
		trigger = { has_character_flag = flag_sway_turned_paranoid }
	}
	desc = {
		text = EVTDESCAHFP21125_SHY
		trigger = { has_character_flag = flag_sway_turned_shy }
	}
	desc = {
		text = EVTDESCAHFP21125_TRUSTING
		trigger = { has_character_flag = flag_sway_turned_trusting }
	}
	desc = {
		text = EVTDESCAHFP21125_ZEALOUS
		picture = GFX_evt_library
		trigger = { has_character_flag = flag_sway_turned_zealous }
	}

	trigger = {
		FROM = { is_alive = yes }
	}

	is_triggered_only = yes

	option = { # Good on him
		name = EVTOPTAHFP21125

		tiered_prestige_reward_effect = yes
		clr_character_flag = flag_sway_turned_chaste
		clr_character_flag = flag_sway_turned_temperate
		clr_character_flag = flag_sway_turned_charitable
		clr_character_flag = flag_sway_turned_diligent
		clr_character_flag = flag_sway_turned_patient
		clr_character_flag = flag_sway_turned_kind
		clr_character_flag = flag_sway_turned_humble
		clr_character_flag = flag_sway_turned_lustful
		clr_character_flag = flag_sway_turned_gluttonous
		clr_character_flag = flag_sway_turned_greedy
		clr_character_flag = flag_sway_turned_slothful
		clr_character_flag = flag_sway_turned_wroth
		clr_character_flag = flag_sway_turned_envious
		clr_character_flag = flag_sway_turned_proud
		clr_character_flag = flag_sway_turned_ambitious
		clr_character_flag = flag_sway_turned_arbitrary
		clr_character_flag = flag_sway_turned_brave
		clr_character_flag = flag_sway_turned_content
		clr_character_flag = flag_sway_turned_craven
		clr_character_flag = flag_sway_turned_cruel
		clr_character_flag = flag_sway_turned_cynical
		clr_character_flag = flag_sway_turned_deceitful
		clr_character_flag = flag_sway_turned_gregarious
		clr_character_flag = flag_sway_turned_honest
		clr_character_flag = flag_sway_turned_just
		clr_character_flag = flag_sway_turned_paranoid
		clr_character_flag = flag_sway_turned_shy
		clr_character_flag = flag_sway_turned_trusting
		clr_character_flag = flag_sway_turned_zealous
	}
}

## Special events for people the Swayer hurt badly

# Swayer notified of hatred
character_event = {
	id = HF.21127
	picture = GFX_evt_upsetting_letter
	portrait = persistent_event_target:sway_target

	desc = {
		text = EVTDESCAHF21127
		trigger = { has_character_flag = flag_swayed_hates_me }
	}
	desc = {
		text = EVTDESCBHF21127
		trigger = { has_character_flag = flag_swayed_was_tortured }
	}
	desc = {
		text = EVTDESCCHF21127
		trigger = { has_character_flag = flag_swayed_was_mutilated }
	}
	desc = {
		text = EVTDESCDHF21127
		trigger = { has_character_flag = flag_swayed_was_imprisoned }
	}
	desc = {
		text = EVTDESCEHF21127
		trigger = { has_character_flag = flag_swayed_attempted_murder }
	}
	desc = {
		text = EVTDESCFHF21127
		trigger = { has_character_flag = flag_swayed_family_was_tortured }
	}
	desc = {
		text = EVTDESCGHF21127
		trigger = { has_character_flag = flag_swayed_child_was_executed }
	}
	desc = {
		text = EVTDESCHHF21127
		trigger = { has_character_flag = flag_swayed_spouse_attempted_murder }
	}
	desc = {
		text = EVTDESCIHF21127
		trigger = { has_character_flag = flag_swayed_family_attempted_murder }
	}

	is_triggered_only = yes

	immediate = {
		clr_character_flag = flag_swayed_hates_me
		clr_character_flag = flag_swayed_was_tortured
		clr_character_flag = flag_swayed_was_mutilated
		clr_character_flag = flag_swayed_was_imprisoned
		clr_character_flag = flag_swayed_attempted_murder
		clr_character_flag = flag_swayed_family_was_tortured
		clr_character_flag = flag_swayed_child_was_executed
		clr_character_flag = flag_swayed_spouse_attempted_murder
		clr_character_flag = flag_swayed_family_attempted_murder

		# Select grievance to try and remove, if more than one is available
		random_list = {
			10 = {
				trigger = { reverse_has_opinion_modifier = { who = persistent_event_target:sway_target name = opinion_hate } }
				set_character_flag = flag_swayed_hates_me
			}

			20 = {
				trigger = { reverse_has_opinion_modifier = { who = persistent_event_target:sway_target name = opinion_tortured_me } }
				set_character_flag = flag_swayed_was_tortured
			}

			20 = {
				trigger = { reverse_has_opinion_modifier = { who = persistent_event_target:sway_target name = opinion_mutilated_me } }
				set_character_flag = flag_swayed_was_mutilated
			}

			20 = {
				trigger = { reverse_has_opinion_modifier = { who = persistent_event_target:sway_target name = opinion_imprisoned } }
				set_character_flag = flag_swayed_was_imprisoned
			}

			20 = {
				trigger = { reverse_has_opinion_modifier = { who = persistent_event_target:sway_target name = attempted_murder } }
				set_character_flag = flag_swayed_attempted_murder
			}

			5 = {
				trigger = { reverse_has_opinion_modifier = { who = persistent_event_target:sway_target name = opinion_tortured_family } }
				set_character_flag = flag_swayed_family_was_tortured
			}

			5 = {
				trigger = { reverse_has_opinion_modifier = { who = persistent_event_target:sway_target name = opinion_tortured_close_kin } }
				set_character_flag = flag_swayed_family_was_tortured
			}

			5 = {
				trigger = { reverse_has_opinion_modifier = { who = persistent_event_target:sway_target name = opinion_mutilated_family } }
				set_character_flag = flag_swayed_family_was_tortured
			}

			5 = {
				trigger = { reverse_has_opinion_modifier = { who = persistent_event_target:sway_target name = opinion_mutilated_close_kin } }
				set_character_flag = flag_swayed_family_was_tortured
			}

			5 = {
				trigger = { reverse_has_opinion_modifier = { who = persistent_event_target:sway_target name = opinion_executed_child } }
				set_character_flag = flag_swayed_child_was_executed
			}

			5 = {
				trigger = { reverse_has_opinion_modifier = { who = persistent_event_target:sway_target name = attempted_murder_of_spouse } }
				set_character_flag = flag_swayed_spouse_attempted_murder
			}

			5 = {
				trigger = { reverse_has_opinion_modifier = { who = persistent_event_target:sway_target name = attempted_murder_of_child } }
				set_character_flag = flag_swayed_family_attempted_murder
			}

			5 = {
				trigger = { reverse_has_opinion_modifier = { who = persistent_event_target:sway_target name = attempted_murder_of_parent } }
				set_character_flag = flag_swayed_family_attempted_murder
			}

			5 = {
				trigger = { reverse_has_opinion_modifier = { who = persistent_event_target:sway_target name = attempted_murder_of_sibling } }
				set_character_flag = flag_swayed_family_attempted_murder
			}
		}
	}

	# Use diplomacy
	# Use intrigue
	# Use Kindness
	# Default option

	option = {
		name = EVTOPTAHFP21127
		tooltip_info = diplomacy

		trigger = { diplomacy >= 20 }

		persistent_event_target:sway_target = {
			character_event = { id = HF.21128 }
		}

		ai_chance = { factor = 100 }
	}

	option = {
		name = EVTOPTBHFP21127
		tooltip_info = intrigue

		trigger = { intrigue >= 20 }

		persistent_event_target:sway_target = {
			character_event = { id = HF.21129 }
		}

		ai_chance = { factor = 80 }
	}

	option = {
		name = EVTOPTCHFP21127
		tooltip_info = kind

		trigger = { trait = kind }

		tiered_piety_negative_effect = yes

		persistent_event_target:sway_target = {
			character_event = { id = HF.21130 }
		}

		ai_chance = { factor = 60 }
	}

	option = {
		name = EVTOPTDHFP21127

		persistent_event_target:sway_target = {
			character_event = { id = HF.21131 }
		}

		ai_chance = { factor = 5 }
	}
}

# Diplomacy option: Swayed forgives
character_event = {
	id = HF.21128
	picture = GFX_evt_pleasing_letter

	desc = {
		text = EVTDESCAHF21128
		trigger = {
			FROM = {
				OR = {
					has_character_flag = flag_swayed_hates_me
					has_character_flag = flag_swayed_was_mutilated
					has_character_flag = flag_swayed_was_imprisoned
					has_character_flag = flag_swayed_attempted_murder
				}
			}
		}
	}
	desc = {
		text = EVTDESCBHF21128
		trigger = {
			FROM = {
				OR = {
					has_character_flag = flag_swayed_family_was_tortured
					has_character_flag = flag_swayed_child_was_executed
					has_character_flag = flag_swayed_spouse_attempted_murder
					has_character_flag = flag_swayed_family_attempted_murder
				}
			}
		}
	}

	trigger = {
		FROM = { is_alive = yes }
	}

	is_triggered_only = yes

	option = { # Envious character does not care
		name = EVTOPTAHF21128
		tooltip_info = envious

		trigger = { trait = envious }

		FROM = {
			character_event = { id = HF.21132 }
		}

		ai_chance = { factor = 50 }
	}

	option = {
		name = EVTOPTBHF21128

		tooltip = {
			if = {
				limit = { FROM = { has_character_flag = flag_swayed_hates_me } }

				remove_opinion = {
					name = opinion_hate
					who = FROM
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_was_tortured } }

				remove_opinion = {
					name = opinion_tortured_me
					who = FROM
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_was_mutilated } }

				remove_opinion = {
					name = opinion_mutilated_me
					who = FROM
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_was_imprisoned } }

				remove_opinion = {
					name = opinion_imprisoned
					who = FROM
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_attempted_murder } }

				remove_opinion = {
					name = attempted_murder
					who = FROM
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_family_was_tortured } }

				if = {
					limit = {
						has_opinion_modifier = {
							name = opinion_tortured_family
							who = FROM
						}
					}

					remove_opinion = {
						name = opinion_tortured_family
						who = FROM
					}
				}

				if = {
					limit = {
						has_opinion_modifier = {
							name = opinion_tortured_close_kin
							who = FROM
						}
					}

					remove_opinion = {
						name = opinion_tortured_close_kin
						who = FROM
					}
				}

				if = {
					limit = {
						has_opinion_modifier = {
							name = opinion_mutilated_family
							who = FROM
						}
					}

					remove_opinion = {
						name = opinion_mutilated_family
						who = FROM
					}
				}

				if = {
					limit = {
						has_opinion_modifier = {
							who = FROM
							name = opinion_mutilated_close_kin
						}
					}

					remove_opinion = {
						name = opinion_mutilated_close_kin
						who = FROM
					}
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_child_was_executed } }

				remove_opinion = {
					name = opinion_executed_child
					who = FROM
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_spouse_attempted_murder } }

				remove_opinion = {
					name = attempted_murder_of_spouse
					who = FROM
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_family_attempted_murder } }

				if = {
					limit = {
						has_opinion_modifier = {
							name = attempted_murder_of_child
							who = FROM
						}
					}

					remove_opinion = {
						name = attempted_murder_of_child
						who = FROM
					}
				}

				if = {
					limit = {
						has_opinion_modifier = {
							name = attempted_murder_of_parent
							who = FROM
						}
					}

					remove_opinion = {
						name = attempted_murder_of_parent
						who = FROM
					}
				}

				if = {
					limit = {
						has_opinion_modifier = {
							name = attempted_murder_of_sibling
							who = FROM
						}
					}

					remove_opinion = {
						name = attempted_murder_of_sibling
						who = FROM
					}
				}
			}
		}

		FROM = {
			character_event = { id = HF.21133 }
		}

		ai_chance = {
			factor = 20

			mult_modifier = {
				factor = 1.75
				trait = trusting
			}
		}
	}
}

# Intrigue option: Swayed forgives
character_event = {
	id = HF.21129
	desc = {
		text = EVTDESCAHF21128
		trigger = {
			FROM = {
				OR = {
					has_character_flag = flag_swayed_hates_me
					has_character_flag = flag_swayed_was_mutilated
					has_character_flag = flag_swayed_was_imprisoned
					has_character_flag = flag_swayed_attempted_murder
				}
			}
		}
	}
	desc = {
		text = EVTDESCBHF21128
		trigger = {
			FROM = {
				OR = {
					has_character_flag = flag_swayed_family_was_tortured
					has_character_flag = flag_swayed_child_was_executed
					has_character_flag = flag_swayed_spouse_attempted_murder
					has_character_flag = flag_swayed_family_attempted_murder
				}
			}
		}
	}
	picture = GFX_evt_pleasing_letter


	trigger = {
		FROM = { is_alive = yes }
	}

	is_triggered_only = yes

	option = { # Paranoid character does not trust him
		name = EVTOPTAHF21129
		tooltip_info = paranoid

		trigger = { trait = paranoid }

		FROM = {
			character_event = { id = HF.21134 }
		}

		ai_chance = { factor = 50 }
	}

	option = {
		name = EVTOPTBHF21128

		tooltip = {
			if = {
				limit = { FROM = { has_character_flag = flag_swayed_hates_me } }

				remove_opinion = {
					name = opinion_hate
					who = FROM
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_was_tortured } }

				remove_opinion = {
					name = opinion_tortured_me
					who = FROM
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_was_mutilated } }

				remove_opinion = {
					name = opinion_mutilated_me
					who = FROM
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_was_imprisoned } }

				remove_opinion = {
					name = opinion_imprisoned
					who = FROM
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_attempted_murder } }

				remove_opinion = {
					name = attempted_murder
					who = FROM
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_family_was_tortured } }

				if = {
					limit = {
						has_opinion_modifier = {
							name = opinion_tortured_family
							who = FROM
						}
					}

					remove_opinion = {
						name = opinion_tortured_family
						who = FROM
					}
				}

				if = {
					limit = {
						has_opinion_modifier = {
							name = opinion_tortured_close_kin
							who = FROM
						}
					}

					remove_opinion = {
						name = opinion_tortured_close_kin
						who = FROM
					}
				}

				if = {
					limit = {
						has_opinion_modifier = {
							name = opinion_mutilated_family
							who = FROM
						}
					}

					remove_opinion = {
						name = opinion_mutilated_family
						who = FROM
					}
				}

				if = {
					limit = {
						has_opinion_modifier = {
							who = FROM
							name = opinion_mutilated_close_kin
						}
					}

					remove_opinion = {
						name = opinion_mutilated_close_kin
						who = FROM
					}
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_child_was_executed } }

				remove_opinion = {
					name = opinion_executed_child
					who = FROM
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_spouse_attempted_murder } }

				remove_opinion = {
					name = attempted_murder_of_spouse
					who = FROM
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_family_attempted_murder } }

				if = {
					limit = {
						has_opinion_modifier = {
							name = attempted_murder_of_child
							who = FROM
						}
					}

					remove_opinion = {
						name = attempted_murder_of_child
						who = FROM
					}
				}

				if = {
					limit = {
						has_opinion_modifier = {
							name = attempted_murder_of_parent
							who = FROM
						}
					}

					remove_opinion = {
						name = attempted_murder_of_parent
						who = FROM
					}
				}

				if = {
					limit = {
						has_opinion_modifier = {
							name = attempted_murder_of_sibling
							who = FROM
						}
					}

					remove_opinion = {
						name = attempted_murder_of_sibling
						who = FROM
					}
				}
			}
		}

		FROM = {
			character_event = { id = HF.21133 }
		}

		ai_chance = {
			factor = 20

			mult_modifier = {
				factor = 1.75
				trait = trusting
			}
		}
	}
}

# Kind option: Swayed forgives
character_event = {
	id = HF.21130
	picture = GFX_evt_pleasing_letter

	desc = {
		text = EVTDESCAHF21128
		trigger = {
			FROM = {
				OR = {
					has_character_flag = flag_swayed_hates_me
					has_character_flag = flag_swayed_was_mutilated
					has_character_flag = flag_swayed_was_imprisoned
					has_character_flag = flag_swayed_attempted_murder
				}
			}
		}
	}
	desc = {
		text = EVTDESCBHF21128
		trigger = {
			FROM = {
				OR = {
					has_character_flag = flag_swayed_family_was_tortured
					has_character_flag = flag_swayed_child_was_executed
					has_character_flag = flag_swayed_spouse_attempted_murder
					has_character_flag = flag_swayed_family_attempted_murder
				}
			}
		}
	}

	trigger = {
		FROM = { is_alive = yes }
	}

	is_triggered_only = yes

	option = { # Cruel character does not care
		name = EVTOPTAHF21130

		trigger = { NOT = { trait = kind } }

		FROM = {
			character_event = { id = HF.21135 }
		}

		ai_chance = { factor = 50 }
	}

	option = {
		name = EVTOPTBHF21128

		tooltip = {
			if = {
				limit = { FROM = { has_character_flag = flag_swayed_hates_me } }

				remove_opinion = {
					name = opinion_hate
					who = FROM
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_was_tortured } }

				remove_opinion = {
					name = opinion_tortured_me
					who = FROM
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_was_mutilated } }

				remove_opinion = {
					name = opinion_mutilated_me
					who = FROM
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_was_imprisoned } }

				remove_opinion = {
					name = opinion_imprisoned
					who = FROM
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_attempted_murder } }

				remove_opinion = {
					name = attempted_murder
					who = FROM
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_family_was_tortured } }

				if = {
					limit = {
						has_opinion_modifier = {
							name = opinion_tortured_family
							who = FROM
						}
					}

					remove_opinion = {
						name = opinion_tortured_family
						who = FROM
					}
				}

				if = {
					limit = {
						has_opinion_modifier = {
							name = opinion_tortured_close_kin
							who = FROM
						}
					}

					remove_opinion = {
						name = opinion_tortured_close_kin
						who = FROM
					}
				}

				if = {
					limit = {
						has_opinion_modifier = {
							name = opinion_mutilated_family
							who = FROM
						}
					}

					remove_opinion = {
						name = opinion_mutilated_family
						who = FROM
					}
				}

				if = {
					limit = {
						has_opinion_modifier = {
							who = FROM
							name = opinion_mutilated_close_kin
						}
					}

					remove_opinion = {
						name = opinion_mutilated_close_kin
						who = FROM
					}
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_child_was_executed } }

				remove_opinion = {
					name = opinion_executed_child
					who = FROM
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_spouse_attempted_murder } }

				remove_opinion = {
					name = attempted_murder_of_spouse
					who = FROM
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_family_attempted_murder } }

				if = {
					limit = {
						has_opinion_modifier = {
							name = attempted_murder_of_child
							who = FROM
						}
					}

					remove_opinion = {
						name = attempted_murder_of_child
						who = FROM
					}
				}

				if = {
					limit = {
						has_opinion_modifier = {
							name = attempted_murder_of_parent
							who = FROM
						}
					}

					remove_opinion = {
						name = attempted_murder_of_parent
						who = FROM
					}
				}

				if = {
					limit = {
						has_opinion_modifier = {
							name = attempted_murder_of_sibling
							who = FROM
						}
					}

					remove_opinion = {
						name = attempted_murder_of_sibling
						who = FROM
					}
				}
			}
		}

		FROM = {
			character_event = { id = HF.21133 }
		}

		ai_chance = {
			factor = 20

			mult_modifier = {
				factor = 1.75
				trait = trusting
			}

			mult_modifier = {
				factor = 1.5
				trait = humble
			}

			mult_modifier = {
				factor = 1.5
				trait = kind
			}

			mult_modifier = {
				factor = 0.5
				trait = wroth
			}

			mult_modifier = {
				factor = 0.5
				trait = paranoid
			}

			mult_modifier = {
				factor = 0.25
				trait = envious
			}
		}
	}
}

# Default option: Swayed decides what to do
character_event = {
	id = HF.21131
	picture = GFX_evt_upsetting_letter

	desc = {
		text = EVTDESCAHF21131
		trigger = {
			FROM = {
				OR = {
					has_character_flag = flag_swayed_hates_me
					has_character_flag = flag_swayed_was_mutilated
					has_character_flag = flag_swayed_was_imprisoned
					has_character_flag = flag_swayed_attempted_murder
				}
			}
		}
	}
	desc = {
		text = EVTDESCBHF21131
		trigger = {
			FROM = {
				OR = {
					has_character_flag = flag_swayed_family_was_tortured
					has_character_flag = flag_swayed_child_was_executed
					has_character_flag = flag_swayed_spouse_attempted_murder
					has_character_flag = flag_swayed_family_attempted_murder
				}
			}
		}
	}

	trigger = {
		FROM = { is_alive = yes }
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTBHF21128

		tooltip = {
			if = {
				limit = { FROM = { has_character_flag = flag_swayed_hates_me } }

				remove_opinion = {
					name = opinion_hate
					who = FROM
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_was_tortured } }

				remove_opinion = {
					name = opinion_tortured_me
					who = FROM
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_was_mutilated } }

				remove_opinion = {
					name = opinion_mutilated_me
					who = FROM
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_was_imprisoned } }

				remove_opinion = {
					name = opinion_imprisoned
					who = FROM
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_attempted_murder } }

				remove_opinion = {
					name = attempted_murder
					who = FROM
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_family_was_tortured } }

				if = {
					limit = {
						has_opinion_modifier = {
							name = opinion_tortured_family
							who = FROM
						}
					}

					remove_opinion = {
						name = opinion_tortured_family
						who = FROM
					}
				}

				if = {
					limit = {
						has_opinion_modifier = {
							name = opinion_tortured_close_kin
							who = FROM
						}
					}

					remove_opinion = {
						name = opinion_tortured_close_kin
						who = FROM
					}
				}

				if = {
					limit = {
						has_opinion_modifier = {
							name = opinion_mutilated_family
							who = FROM
						}
					}

					remove_opinion = {
						name = opinion_mutilated_family
						who = FROM
					}
				}

				if = {
					limit = {
						has_opinion_modifier = {
							who = FROM
							name = opinion_mutilated_close_kin
						}
					}

					remove_opinion = {
						name = opinion_mutilated_close_kin
						who = FROM
					}
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_child_was_executed } }

				remove_opinion = {
					name = opinion_executed_child
					who = FROM
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_spouse_attempted_murder } }

				remove_opinion = {
					name = attempted_murder_of_spouse
					who = FROM
				}
			}
			else_if = {
				limit = { FROM = { has_character_flag = flag_swayed_family_attempted_murder } }

				if = {
					limit = {
						has_opinion_modifier = {
							name = attempted_murder_of_child
							who = FROM
						}
					}

					remove_opinion = {
						name = attempted_murder_of_child
						who = FROM
					}
				}

				if = {
					limit = {
						has_opinion_modifier = {
							name = attempted_murder_of_parent
							who = FROM
						}
					}

					remove_opinion = {
						name = attempted_murder_of_parent
						who = FROM
					}
				}

				if = {
					limit = {
						has_opinion_modifier = {
							name = attempted_murder_of_sibling
							who = FROM
						}
					}

					remove_opinion = {
						name = attempted_murder_of_sibling
						who = FROM
					}
				}
			}
		}

		FROM = {
			character_event = { id = HF.21133 }
		}

		ai_chance = {
			factor = 60

			mult_modifier = {
				factor = 1.5
				trait = trusting
			}

			mult_modifier = {
				factor = 1.5
				trait = kind
			}

			mult_modifier = {
				factor = 1.5
				trait = humble
			}

			mult_modifier = {
				factor = 1.5
				trait = charitable
			}

			mult_modifier = {
				factor = 1.25
				FROM = { diplomacy >= 10 }
			}

			mult_modifier = {
				factor = 1.25
				FROM = { diplomacy >= 12 }
			}

			mult_modifier = {
				factor = 1.25
				FROM = { diplomacy >= 14 }
			}

			mult_modifier = {
				factor = 1.25
				FROM = { diplomacy >= 16 }
			}

			mult_modifier = {
				factor = 1.25
				FROM = { diplomacy >= 18 }
			}
		}
	}

	option = { # Swayed does not forgive
		name = EVTOPTBHF21131

		FROM = {
			character_event = { id = HF.21136 }
		}

		ai_chance = {
			factor = 20

			mult_modifier = {
				factor = 1.75
				trait = paranoid
			}

			mult_modifier = {
				factor = 1.5
				trait = proud
			}

			mult_modifier = {
				factor = 1.5
				trait = stubborn
			}

			mult_modifier = {
				factor = 1.5
				trait = wroth
			}

			mult_modifier = {
				factor = 1.5
				trait = cruel
			}

			mult_modifier = {
				factor = 1.75
				trait = envious
			}

			mult_modifier = {
				factor = 2
				FROM = { diplomacy < 2 }
			}

			mult_modifier = {
				factor = 1.75
				FROM = { diplomacy < 4 }
			}

			mult_modifier = {
				factor = 1.5
				FROM = { diplomacy < 6 }
			}

			mult_modifier = {
				factor = 1.5
				FROM = { diplomacy < 8 }
			}
		}
	}
}

# Envious Swayed rejected apology
character_event = {
	id = HF.21132
	desc = EVTDESCAHF21132
	picture = GFX_evt_upsetting_letter

	trigger = {
		FROM = { is_alive = yes }
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHFP21132

		custom_tooltip = {
			text = EVTTTHFP21132_A

			clr_character_flag = flag_character_being_swayed # Only used for AI weights
			remove_special_interest = FROM
			clear_persistent_event_target = sway_target
			clr_character_flag = flag_tired_of_gifts
		}

		reverse_opinion = {
			name = opinion_rebuked_swayer_cooldown
			who = FROM
			years = 10
		}
	}
}

# Notification: the Swayed forgave you
character_event = {
	id = HF.21133
	picture = GFX_evt_pleasing_letter

	desc = { # If there are still indignities to forgive
		text = EVTDESCAHF21133
		trigger = { has_character_flag = flag_swayed_more_indignities_to_forgive }
	}
	desc = { #If there are no longer indignities to forgive.
		text = EVTDESCBHF21133
		trigger = {
			NOT = { has_character_flag  = flag_swayed_more_indignities_to_forgive }
		}
	}

	is_triggered_only = yes

	trigger = {
		FROM = { is_alive = yes }
	}

	immediate = {
		if = {
			limit = {
				trigger_if = {
					limit = {
						reverse_has_opinion_modifier = {
							name = opinion_hate
							who = FROM
						}
					}

					NOT = { has_character_flag = flag_swayed_hates_me }
				}
				trigger_else_if = {
					limit = {
						reverse_has_opinion_modifier = {
							name = opinion_tortured_me
							who = FROM
						}
					}

					NOT = { has_character_flag = flag_swayed_was_tortured }
				}
				trigger_else_if = {
					limit = {
						reverse_has_opinion_modifier = {
							name = opinion_mutilated_me
							who = FROM
						}
					}

					NOT = { has_character_flag = flag_swayed_was_mutilated }
				}
				trigger_else_if = {
					limit = {
						reverse_has_opinion_modifier = {
							name = opinion_imprisoned
							who = FROM
						}
					}

					NOT = { has_character_flag = flag_swayed_was_imprisoned }
				}
				trigger_else_if = {
					limit = {
						reverse_has_opinion_modifier = {
							name = attempted_murder
							who = FROM
						}
					}

					NOT = { has_character_flag = flag_swayed_attempted_murder }
				}
				trigger_else_if = {
					limit = {
						OR = {
							reverse_has_opinion_modifier = {
								name = opinion_tortured_family
								who = FROM
							}

							reverse_has_opinion_modifier = {
								name = opinion_tortured_close_kin
								who = FROM
							}

							reverse_has_opinion_modifier = {
								name = opinion_mutilated_family
								who = FROM
							}

							reverse_has_opinion_modifier = {
								name = opinion_mutilated_close_kin
								who = FROM
							}
						}
					}

					NOT = { has_character_flag = flag_swayed_family_was_tortured }
				}
				trigger_else_if = {
					limit = {
						reverse_has_opinion_modifier = {
							name = opinion_executed_child
							who = FROM
						}
					}

					NOT = { has_character_flag = flag_swayed_child_was_executed }
				}
				trigger_else_if = {
					limit = {
						reverse_has_opinion_modifier = {
							name = attempted_murder_of_spouse
							who = FROM
						}
					}

					NOT = { has_character_flag = flag_swayed_spouse_attempted_murder }
				}
				trigger_else_if = {
					limit = {
						OR = {
							reverse_has_opinion_modifier = {
								name = attempted_murder_of_child
								who = FROM
							}

							reverse_has_opinion_modifier = {
								name = attempted_murder_of_parent
								who = FROM
							}

							reverse_has_opinion_modifier = {
								name = attempted_murder_of_sibling
								who = FROM
							}
						}
					}

					NOT = { has_character_flag = flag_swayed_family_attempted_murder }
				}
			}

			set_character_flag = flag_swayed_more_indignities_to_forgive
		}
	}

	option = {
		name = EVTOPTAHF21133

		if = {
			limit = { has_character_flag = flag_swayed_hates_me }

			reverse_remove_opinion = {
				name = opinion_hate
				who = FROM
			}
		}
		else_if = {
			limit = { has_character_flag = flag_swayed_was_tortured }

			reverse_remove_opinion = {
				name = opinion_tortured_me
				who = FROM
			}
		}
		else_if = {
			limit = { has_character_flag = flag_swayed_was_mutilated }

			reverse_remove_opinion = {
				name = opinion_mutilated_me
				who = FROM
			}
		}
		else_if = {
			limit = { has_character_flag = flag_swayed_was_imprisoned }

			reverse_remove_opinion = {
				name = opinion_imprisoned
				who = FROM
			}
		}
		else_if = {
			limit = { has_character_flag = flag_swayed_attempted_murder }

			reverse_remove_opinion = {
				name = attempted_murder
				who = FROM
			}
		}
		else_if = {
			limit = { has_character_flag = flag_swayed_family_was_tortured }

			if = {
				limit = {
					reverse_has_opinion_modifier = {
						name = opinion_tortured_family
						who = FROM
					}
				}

				reverse_remove_opinion = {
					name = opinion_tortured_family
					who = FROM
				}
			}

			if = {
				limit = {
					reverse_has_opinion_modifier = {
						name = opinion_tortured_close_kin
						who = FROM
					}
				}

				reverse_remove_opinion = {
					name = opinion_tortured_close_kin
					who = FROM
				}
			}

			if = {
				limit = {
					reverse_has_opinion_modifier = {
						name = opinion_mutilated_family
						who = FROM
					}
				}

				reverse_remove_opinion = {
					name = opinion_mutilated_family
					who = FROM
				}
			}

			if = {
				limit = {
					reverse_has_opinion_modifier = {
						who = FROM
						name = opinion_mutilated_close_kin
					}
				}

				reverse_remove_opinion = {
					name = opinion_mutilated_close_kin
					who = FROM
				}
			}
		}
		else_if = {
			limit = { has_character_flag = flag_swayed_child_was_executed }

			reverse_remove_opinion = {
				name = opinion_executed_child
				who = FROM
			}
		}
		else_if = {
			limit = { has_character_flag = flag_swayed_spouse_attempted_murder }

			reverse_remove_opinion = {
				name = attempted_murder_of_spouse
				who = FROM
			}
		}
		else_if = {
			limit = { has_character_flag = flag_swayed_family_attempted_murder }

			if = {
				limit = {
					reverse_has_opinion_modifier = {
						name = attempted_murder_of_child
						who = FROM
					}
				}

				reverse_remove_opinion = {
					name = attempted_murder_of_child
					who = FROM
				}
			}

			if = {
				limit = {
					reverse_has_opinion_modifier = {
						name = attempted_murder_of_parent
						who = FROM
					}
				}

				reverse_remove_opinion = {
					name = attempted_murder_of_parent
					who = FROM
				}
			}

			if = {
				limit = {
					reverse_has_opinion_modifier = {
						name = attempted_murder_of_sibling
						who = FROM
					}
				}

				reverse_remove_opinion = {
					name = attempted_murder_of_sibling
					who = FROM
				}
			}
		}

		clr_character_flag = flag_swayed_hates_me
		clr_character_flag = flag_swayed_was_tortured
		clr_character_flag = flag_swayed_was_mutilated
		clr_character_flag = flag_swayed_was_imprisoned
		clr_character_flag = flag_swayed_attempted_murder
		clr_character_flag = flag_swayed_family_was_tortured
		clr_character_flag = flag_swayed_child_was_executed
		clr_character_flag = flag_swayed_spouse_attempted_murder
		clr_character_flag = flag_swayed_family_attempted_murder
		clr_character_flag = flag_swayed_more_indignities_to_forgive
	}
}

# Paranoid Swayed rejected apology
character_event = {
	id = HF.21134
	desc = EVTDESCAHF21134
	picture = GFX_evt_lunatic

	is_triggered_only = yes

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF21134

		custom_tooltip = {
			text = EVTTTHFP21132_A

			remove_special_interest = FROM
			clear_persistent_event_target = sway_target
			clr_character_flag = flag_tired_of_gifts
		}

		reverse_opinion = {
			name = opinion_rebuked_swayer_cooldown
			who = FROM
			years = 10
		}
	}
}

# Cruel Swayed rejected apology
character_event = {
	id = HF.21135
	desc = EVTDESCAHF21135
	picture = GFX_evt_lunatic

	is_triggered_only = yes

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF21135

		custom_tooltip = {
			text = EVTTTHFP21132_A

			remove_special_interest = FROM
			clear_persistent_event_target = sway_target
			clr_character_flag = flag_tired_of_gifts
		}

		reverse_opinion = {
			name = opinion_rebuked_swayer_cooldown
			who = FROM
			years = 10
		}
	}
}

# Default Swayed rejected apology
character_event = {
	id = HF.21136
	desc = EVTDESCAHF21136
	picture = GFX_evt_lunatic

	is_triggered_only = yes

	trigger = {
		FROM = { is_alive = yes }
	}

	option = {
		name = EVTOPTAHF21136

		custom_tooltip = {
			text = EVTTTHFP21132_A

			remove_special_interest = FROM
			clear_persistent_event_target = sway_target
			clr_character_flag = flag_tired_of_gifts
		}

		reverse_opinion = {
			name = opinion_rebuked_swayer_cooldown
			who = FROM
			years = 10
		}
	}
}

############ War events ####################

# Swayer: what do you do?
character_event = {
	id = HF.21140
	desc = EVTDESCHF21140
	picture = GFX_evt_battle
	portrait = persistent_event_target:sway_target

	is_triggered_only = yes

	immediate = {
		# Safety cleanup
		clr_character_flag = flag_sway_stop_ambushes
		clr_character_flag = flag_sway_stop_war
		clr_character_flag = flag_sway_war_meeting
		clr_character_flag = flag_sway_war_compliment
	}

	option = { # Ask to act honorably (disables ambush tactic)
		name = EVTOPTAHF21140
		tooltip_info = diplomacy

		trigger = {
			diplomacy >= 14

			NOR = {
				trait = master_schemer
				trait = deceitful
				has_any_opinion_modifier = opinion_honorable_combat
			}
		}

		set_character_flag = flag_sway_stop_ambushes

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21141
				tooltip = tooltip_21140_A
			}
		}

		tooltip = {
			opinion = {
				name = opinion_honorable_combat
				who = persistent_event_target:sway_target
				years = 5
			}
		}

		ai_chance = {
			factor = 60

			trigger = {
				NOR = {
					trait = deceitful
					trait = master_schemer
					trait = paranoid
					trait = envious
					trait = cruel
					trait = impaler
					trait = arbitrary
				}
			}

			mult_modifier = {
				factor = 0.5
				trait = craven
			}

			mult_modifier = {
				factor = 1.5
				trait = trusting
			}

			mult_modifier = {
				factor = 1.75
				trait = just
			}
		}
	}

	option = { # Ask to end war
		name = EVTOPTBHF21140

		trigger = {
			trait = kind

			persistent_event_target:sway_target = {
				any_war = {
					OR = {
						attacker = { character = ROOT }
						defender = { character = ROOT }
					}

					NOR = {
						using_cb = crusade
						using_cb = new_crusade
					}
				}
			}
		}

		set_character_flag = flag_sway_stop_war

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21141
				tooltip = tooltip_21140_B
			}
		}

		ai_chance = {
			factor = 40

			trigger = { # Not if I'm winning
				persistent_event_target:sway_target = {
					any_war = {
						OR = {
							AND = {
								attacker = { character = ROOT }
								defender = { character = PREVPREV }
								war_score < 70
							}

							AND = {
								attacker = { character = PREVPREV }
								defender = { character = ROOT }
								war_score > -70
							}
						}
					}
				}
			}

			mult_modifier = { # Not if I'm winning
				factor = 0.5

				persistent_event_target:sway_target = {
					any_war = {
						OR = {
							AND = {
								attacker = { character = ROOT }
								defender = { character = PREVPREV }
								war_score >= 25
							}

							AND = {
								attacker = { character = PREVPREV }
								defender = { character = ROOT }
								war_score <= -25
							}
						}
					}
				}
			}

			mult_modifier = { # Not if I'm winning
				factor = 0.01

				persistent_event_target:sway_target = {
					any_war = {
						OR = {
							AND = {
								attacker = { character = ROOT }
								defender = { character = PREVPREV }
								war_score >= 50
							}

							AND = {
								attacker = { character = PREVPREV }
								defender = { character = ROOT }
								war_score <= -50
							}
						}
					}
				}
			}

			mult_modifier = {
				factor = 1.5

				persistent_event_target:sway_target = {
					any_war = {
						OR = {
							AND = {
								attacker = { character = ROOT }
								defender = { character = PREVPREV }
								war_score <= -25
							}

							AND = {
								attacker = { character = PREVPREV }
								defender = { character = ROOT }
								war_score >= 25
							}
						}
					}
				}
			}

			mult_modifier = {
				factor = 1.75

				persistent_event_target:sway_target = {
					any_war = {
						OR = {
							AND = {
								attacker = { character = ROOT }
								defender = { character = PREVPREV }
								war_score <= -50
							}

							AND = {
								attacker = { character = PREVPREV }
								defender = { character = ROOT }
								war_score >= 50
							}
						}
					}
				}
			}

			mult_modifier = {
				factor = 2

				persistent_event_target:sway_target = {
					any_war = {
						OR = {
							AND = {
								attacker = { character = ROOT }
								defender = { character = PREVPREV }
								war_score <= -70
							}

							AND = {
								attacker = { character = PREVPREV }
								defender = { character = ROOT }
								war_score >= 70
							}
						}
					}
				}
			}

			mult_modifier = {
				factor = 0.1
				trait = stubborn
			}

			mult_modifier = {
				factor = 0.1
				trait = proud
			}

			mult_modifier = {
				factor = 0.1
				trait = envious
			}

			mult_modifier = {
				factor = 0.1
				trait = brave
			}

			mult_modifier = {
				factor = 0.1
				trait = ambitious
			}

			mult_modifier = {
				factor = 1.5
				trait = craven
			}

			mult_modifier = {
				factor = 1.5
				trait = content
			}
		}
	}

	option = { # Meet under truce
		name = EVTOPTCHF21140

		set_character_flag = flag_sway_war_meeting

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21141
				tooltip = tooltip_21140_C
			}
		}

		ai_chance = {
			factor = 20

			mult_modifier = {
				factor = 1.5
				trait = grey_eminence
			}

			mult_modifier = {
				factor = 1.5
				trait = intricate_webweaver
			}

			mult_modifier = {
				factor = 1.75
				trait = elusive_shadow
			}

			mult_modifier = {
				factor = 1.75
				trait = deceitful
			}

			mult_modifier = {
				factor = 1.75
				trait = master_schemer
			}

			mult_modifier = {
				factor = 0.5
				trait = craven
			}

			mult_modifier = {
				factor = 0.5
				trait = stubborn
			}

			mult_modifier = {
				factor = 1.5
				trait = trusting
			}
		}
	}

	option = { # Compliment prowess
		name = EVTOPTDHF21140

		set_character_flag = flag_sway_war_compliment

		persistent_event_target:sway_target = {
			show_scope_change = no

			character_event = {
				id = HF.21141
				tooltip = tooltip_21140_D
			}
		}

		ai_chance = { factor = 20 }
	}
}

# War: Swayed receives request
character_event = {
	id = HF.21141
	picture = GFX_evt_battle

	desc = {
		text = EVTDESCHFA21141
		trigger = { FROM = { has_character_flag = flag_sway_stop_ambushes } }
	}
	desc = {
		text = EVTDESCHFB21141
		trigger = { FROM = { has_character_flag = flag_sway_stop_war } }
	}
	desc = {
		text = EVTDESCHFC21141
		trigger = { FROM = { has_character_flag = flag_sway_war_meeting } }
	}
	desc = {
		text = EVTDESCHFD21141
		trigger = { FROM = { has_character_flag = flag_sway_war_compliment } }
	}

	is_triggered_only = yes

	trigger = {
		FROM = { is_alive = yes }
	}

	option = { # Accept new tactic limitations
		name = EVTOPTAHF21141

		trigger = { FROM = { has_character_flag = flag_sway_stop_ambushes } }

		custom_tooltip = { text = tooltip_21141_A }

		tiered_prestige_reward_effect = yes

		opinion = {
			name = opinion_honorable_combat
			who = FROM
			years = 3
		}

		FROM = {
			show_scope_change = no

			clr_character_flag = flag_sway_stop_ambushes

			opinion = {
				name = opinion_honorable_combat
				who = ROOT
				years = 3
			}

			character_event = { id = HF.21142 }
		}

		ai_chance = {
			factor = 30

			mult_modifier = {
				factor = 0.5
				trait = craven
			}

			mult_modifier = {
				factor = 0.5
				trait = stubborn
			}

			mult_modifier = {
				factor = 1.75
				trait = proud
			}

			mult_modifier = {
				factor = 1.75
				trait = brave
			}
		}
	}

	option = { # Accept peace
		name = EVTOPTBHF21141

		trigger = { FROM = { has_character_flag = flag_sway_stop_war } }

		custom_tooltip = {
			text = tooltip_21141_B

			any_war = {
				limit = {
					OR = {
						AND = {
							attacker = { character = FROM }
							defender = { character = ROOT }
						}

						AND = {
							attacker = { character = ROOT }
							defender = { character = FROM }
						}
					}

					NOR = {
						using_cb = crusade
						using_cb = new_crusade
					}
				}

				end_war = whitepeace
			}
		}

		tiered_piety_reward_effect = yes

		FROM = {
			show_scope_change = no

			clr_character_flag = flag_sway_stop_war

			opinion = {
				name = opinion_swayed_2
				who = ROOT
				years = 10
			}

			character_event = { id = HF.21143 }
		}

		ai_chance = {
			factor = 20

			trigger = {
				any_war = {
					OR = {
						AND = {
							attacker = { character = ROOT }
							defender = { character = FROM }
							war_score < 70
						}

						AND = {
							attacker = { character = FROM }
							defender = { character = ROOT }
							war_score > -70
						}
					}
				}

				trigger_if = {
					limit = { trait = zealous }
					religion = FROM
				}
			}

			mult_modifier = {
				factor = 1.15

				relative_power = {
					who = FROM
					power <= 0.2
				}
			}

			mult_modifier = {
				factor = 1.25

				relative_power = {
					who = FROM
					power <= 0.1
				}
			}

			mult_modifier = {
				factor = 1.35

				relative_power = {
					who = FROM
					power <= 0.05
				}
			}

			mult_modifier = {
				factor = 1.5

				relative_power = {
					who = FROM
					power <= 0.025
				}
			}

			mult_modifier = {
				factor = 1.5

				any_war = {
					OR = {
						AND = {
							attacker = { character = ROOT }
							defender = { character = FROM }
							war_score >= -25
						}

						AND = {
							attacker = { character = FROM }
							defender = { character = ROOT }
							war_score <= 25
						}
					}
				}
			}

			mult_modifier = {
				factor = 1.75

				any_war = {
					OR = {
						AND = {
							attacker = { character = ROOT }
							defender = { character = FROM }
							war_score <= -50
						}

						AND = {
							attacker = { character = FROM }
							defender = { character = ROOT }
							war_score >= 50
						}
					}
				}
			}

			mult_modifier = {
				factor = 2

				any_war = {
					OR = {
						AND = {
							attacker = { character = ROOT }
							defender = { character = FROM }
							war_score <= -70
						}

						AND = {
							attacker = { character = FROM }
							defender = { character = ROOT }
							war_score >= 70
						}
					}
				}
			}

			# Not if I'm winning
			mult_modifier = {
				factor = 0.75

				relative_power = {
					who = FROM
					power >= 2
				}
			}

			mult_modifier = {
				factor = 0.75

				relative_power = {
					who = FROM
					power >= 5
				}
			}

			mult_modifier = {
				factor = 0.75

				relative_power = {
					who = FROM
					power >= 10
				}
			}

			mult_modifier = {
				factor = 0.75

				relative_power = {
					who = FROM
					power >= 20
				}
			}

			mult_modifier = {
				factor = 0.25

				relative_power = {
					who = FROM
					power >= 30
				}
			}

			mult_modifier = {
				factor = 0.1

				relative_power = {
					who = FROM
					power >= 60
				}
			}

			mult_modifier = {
				factor = 0.5

				any_war = {
					OR = {
						AND = {
							attacker = { character = ROOT }
							defender = { character = FROM }
							war_score >= 25
						}

						AND = {
							attacker = { character = FROM }
							defender = { character = ROOT }
							war_score <= -25
						}
					}
				}
			}

			mult_modifier = {
				factor = 0.01

				any_war = {
					OR = {
						AND = {
							attacker = { character = ROOT }
							defender = { character = FROM }
							war_score >= 50
						}

						AND = {
							attacker = { character = FROM }
							defender = { character = ROOT }
							war_score <= -50
						}
					}
				}
			}

			mult_modifier = {
				factor = 1.5
				trait = kind
			}

			mult_modifier = {
				factor = 1.5
				trait = charitable
			}

			mult_modifier = {
				factor = 0.25
				trait = stubborn
			}

			mult_modifier = {
				factor = 0.25
				trait = cruel
			}

			mult_modifier = {
				factor = 0.25
				trait = envious
			}

			mult_modifier = {
				factor = 0.25
				trait = proud
			}
		}
	}

	option = { # Accept meeting
		name = EVTOPTCHF21141

		trigger = { FROM = { has_character_flag = flag_sway_war_meeting } }

		custom_tooltip = { text = tooltip_21141_C }

		tiered_prestige_reward_effect = yes

		FROM = {
			clr_character_flag = flag_sway_stop_war
			character_event = { id = HF.21144 }
		}

		ai_chance = {
			factor = 30

			trigger = {
				NOT = { trait = paranoid }
			}

			mult_modifier = {
				factor = 0.25

				opinion = {
					who = FROM
					value < 0
				}
			}

			mult_modifier = {
				factor = 0.25
				trait = stubborn
			}

			mult_modifier = {
				factor = 0.15
				trait = craven
			}

			mult_modifier = {
				factor = 1.5
				trait = trusting
			}
		}
	}

	option = { # Refuse request
		name = EVTOPTDHF21141

		trigger = {
			FROM = {
				OR = {
					has_character_flag = flag_sway_stop_ambushes
					has_character_flag = flag_sway_stop_war
					has_character_flag = flag_sway_war_meeting
				}
			}
		}

		FROM = {
			show_scope_change = no

			character_event = {
				id = HF.21145
				tooltip = tooltip_21141_D
			}
		}

		tiered_prestige_negative_effect = yes

		ai_chance = {
			factor = 30

			mult_modifier = {
				factor = 0.95

				opinion = {
					who = FROM
					value >= 10
				}
			}

			mult_modifier = {
				factor = 0.95

				opinion = {
					who = FROM
					value >= 20
				}
			}

			mult_modifier = {
				factor = 0.85

				opinion = {
					who = FROM
					value >= 30
				}
			}

			mult_modifier = {
				factor = 0.85

				opinion = {
					who = FROM
					value >= 40
				}
			}

			mult_modifier = {
				factor = 0.75

				opinion = {
					who = FROM
					value >= 50
				}
			}

			mult_modifier = {
				factor = 0.75

				opinion = {
					who = FROM
					value >= 60
				}
			}

			mult_modifier = {
				factor = 0.75

				opinion = {
					who = FROM
					value >= 70
				}
			}

			mult_modifier = {
				factor = 0.75

				opinion = {
					who = FROM
					value >= 80
				}
			}

			mult_modifier = {
				factor = 0.5

				opinion = {
					who = FROM
					value >= 90
				}
			}

			mult_modifier = {
				factor = 1.15

				opinion = {
					who = FROM
					value < 0
				}
			}

			mult_modifier = {
				factor = 1.15

				opinion = {
					who = FROM
					value < -10
				}
			}

			mult_modifier = {
				factor = 1.25

				opinion = {
					who = FROM
					value < -20
				}
			}

			mult_modifier = {
				factor = 1.25

				opinion = {
					who = FROM
					value < -30
				}
			}

			mult_modifier = {
				factor = 1.25

				opinion = {
					who = FROM
					value < -40
				}
			}

			mult_modifier = {
				factor = 1.5

				opinion = {
					who = FROM
					value < -50
				}
			}

			mult_modifier = {
				factor = 1.75

				opinion = {
					who = FROM
					value < -60
				}
			}

			mult_modifier = {
				factor = 1.75

				opinion = {
					who = FROM
					value < -70
				}
			}

			mult_modifier = {
				factor = 2

				opinion = {
					who = FROM
					value < -80
				}
			}
		}
	}

	option = { # Reciprocate honors
		name = EVTOPTEHF21141

		trigger = { FROM = { has_character_flag = flag_sway_war_compliment } }

		custom_tooltip = { text = tooltip_21141_E }

		tiered_prestige_reward_effect = yes

		opinion = {
			name = opinion_swayed_2
			who = FROM
			years = 10
		}

		FROM = {
			clr_character_flag = flag_sway_war_compliment
			character_event = { id = HF.21146 }
		}

		ai_chance = {
			factor = 50

			mult_modifier = {
				factor = 1.15

				attribute_diff = {
					character = FROM
					attribute = martial
					value <= -2
				}
			}

			mult_modifier = {
				factor = 1.15

				attribute_diff = {
					character = FROM
					attribute = martial
					value <= -4
				}
			}

			mult_modifier = {
				factor = 1.15

				attribute_diff = {
					character = FROM
					attribute = martial
					value <= -6
				}
			}

			mult_modifier = {
				factor = 1.25

				attribute_diff = {
					character = FROM
					attribute = martial
					value <= -8
				}
			}

			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = martial
					value <= -10
				}
			}

			mult_modifier = {
				factor = 1.5
				FROM = { trait = brave }
			}

			mult_modifier = {
				factor = 1.5
				FROM = { trait = brilliant_strategist }
			}

			mult_modifier = {
				factor = 1.5
				FROM = { trait = strategist }
			}
		}
	}

	option = { # Refuse honors
		name = EVTOPTFHF21141

		trigger = { FROM = { has_character_flag = flag_sway_war_compliment } }

		custom_tooltip = { text = tooltip_21141_F }

		tiered_prestige_reward_effect = yes

		FROM = {
			clr_character_flag = flag_sway_war_compliment
			character_event = { id = HF.21147 }
		}

		ai_chance = {
			factor = 30

			mult_modifier = {
				factor = 1.15

				attribute_diff = {
					character = FROM
					attribute = martial
					value >= 2
				}
			}

			mult_modifier = {
				factor = 1.15

				attribute_diff = {
					character = FROM
					attribute = martial
					value >= 4
				}
			}

			mult_modifier = {
				factor = 1.15

				attribute_diff = {
					character = FROM
					attribute = martial
					value >= 6
				}
			}

			mult_modifier = {
				factor = 1.25

				attribute_diff = {
					character = FROM
					attribute = martial
					value >= 8
				}
			}

			mult_modifier = {
				factor = 1.5

				attribute_diff = {
					character = FROM
					attribute = martial
					value >= 10
				}
			}

			mult_modifier = {
				factor = 0.95

				opinion = {
					who = FROM
					value >= 10
				}
			}

			mult_modifier = {
				factor = 0.95

				opinion = {
					who = FROM
					value >= 20
				}
			}

			mult_modifier = {
				factor = 0.85

				opinion = {
					who = FROM
					value >= 30
				}
			}

			mult_modifier = {
				factor = 0.85

				opinion = {
					who = FROM
					value >= 40
				}
			}

			mult_modifier = {
				factor = 0.75

				opinion = {
					who = FROM
					value >= 50
				}
			}

			mult_modifier = {
				factor = 0.75

				opinion = {
					who = FROM
					value >= 60
				}
			}

			mult_modifier = {
				factor = 0.75

				opinion = {
					who = FROM
					value >= 70
				}
			}

			mult_modifier = {
				factor = 0.75

				opinion = {
					who = FROM
					value >= 80
				}
			}

			mult_modifier = {
				factor = 0.5

				opinion = {
					who = FROM
					value >= 90
				}
			}

			mult_modifier = {
				factor = 1.15

				opinion = {
					who = FROM
					value < 0
				}
			}

			mult_modifier = {
				factor = 1.15

				opinion = {
					who = FROM
					value < -10
				}
			}

			mult_modifier = {
				factor = 1.25

				opinion = {
					who = FROM
					value < -20
				}
			}

			mult_modifier = {
				factor = 1.25

				opinion = {
					who = FROM
					value < -30
				}
			}

			mult_modifier = {
				factor = 1.25

				opinion = {
					who = FROM
					value < -40
				}
			}

			mult_modifier = {
				factor = 1.5

				opinion = {
					who = FROM
					value < -50
				}
			}

			mult_modifier = {
				factor = 1.75

				opinion = {
					who = FROM
					value < -60
				}
			}

			mult_modifier = {
				factor = 1.75

				opinion = {
					who = FROM
					value < -70
				}
			}

			mult_modifier = {
				factor = 2

				opinion = {
					who = FROM
					value < -80
				}
			}
		}
	}
}

# Swayer notified ambushes are now illegal vs Swayed and viceversa
character_event = {
	id = HF.21142
	desc = EVTDESCAHF21142
	picture = GFX_evt_battle

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTAHF21142
	}
}

# Swayer notified of peace
character_event = {
	id = HF.21143
	desc = EVTDESCAHF21143
	picture = GFX_evt_battle

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTAHF21143
	}
}

# Swayer: Meeting happens
character_event = {
	id = HF.21144
	desc = EVTDESCAHF21144
	picture = GFX_evt_battle

	is_triggered_only = yes

	option = { # Ambush!
		name = EVTOPTAHF21144
		tooltip_info = intrigue

		trigger = {
			intrigue >= 15
			FROM = { prisoner = no }
		}

		add_trait_fully_silently_deceitful_effect = yes

		random_list = {
			50 = {
				mult_modifier = {
					factor = 1.25
					FROM = { trait = craven }
				}

				mult_modifier = {
					factor = 1.5
					FROM = { trait = trusting }
				}

				mult_modifier = {
					factor = 1.25
					FROM = { trait = slow }
				}

				mult_modifier = {
					factor = 1.5
					FROM = { trait = imbecile }
				}

				mult_modifier = {
					factor = 1.5
					FROM = { trait = inbred }
				}

				mult_modifier = {
					factor = 1.25
					FROM = { trait = weak }
				}

				mult_modifier = {
					factor = 0.75
					FROM = { trait = paranoid }
				}

				mult_modifier = {
					factor = 0.75
					FROM = { trait = quick }
				}

				mult_modifier = {
					factor = 0.5
					FROM = { trait = genius }
				}

				mult_modifier = {
					factor = 0.75
					FROM = { trait = shrewd }
				}

				mult_modifier = {
					factor = 0.75
					FROM = { trait = brave }
				}

				mult_modifier = {
					factor = 0.75
					FROM = { trait = strong }
				}

				mult_modifier = {
					factor = 0.75
					FROM = { trait = duelist }
				}

				mult_modifier = {
					factor = 1.5
					trait = master_schemer
				}

				mult_modifier = {
					factor = 1.25
					trait = quick
				}

				mult_modifier = {
					factor = 1.5
					trait = genius
				}

				mult_modifier = {
					factor = 1.25
					trait = shrewd
				}

				mult_modifier = {
					factor = 1.25
					trait = strong
				}

				mult_modifier = {
					factor = 1.25
					trait = duelist
				}

				mult_modifier = {
					factor = 1.25

					attribute_diff = {
						character = FROM
						attribute = intrigue
						value >= 2
					}
				}

				mult_modifier = {
					factor = 1.25

					attribute_diff = {
						character = FROM
						attribute = intrigue
						value >= 4
					}
				}

				mult_modifier = {
					factor = 1.25

					attribute_diff = {
						character = FROM
						attribute = intrigue
						value >= 6
					}
				}

				mult_modifier = {
					factor = 1.25

					attribute_diff = {
						character = FROM
						attribute = intrigue
						value >= 8
					}
				}

				mult_modifier = {
					factor = 1.25

					attribute_diff = {
						character = FROM
						attribute = intrigue
						value >= 10
					}
				}

				FROM = {
					show_scope_change = no

					character_event = {
						id = HF.21148
						tooltip = tooltip_21144_ambush_succeeds
					}
				}
			}

			50 = {
				FROM = {
					show_scope_change = no

					character_event = {
						id = HF.21150
						tooltip = tooltip_21144_ambush_fails
					}
				}
			}
		}

		tiered_prestige_negative_effect = yes
		tiered_piety_negative_effect = yes

		ai_chance = {
			factor = 20

			trigger = {
				NOR = {
					trait = honest
					trait = just
					trait = kind
				}
			}

			mult_modifier = {
				factor = 1.5
				trait = deceitful
			}

			mult_modifier = {
				factor = 1.5
				trait = master_schemer
			}

			mult_modifier = {
				factor = 1.5
				trait = cruel
			}

			mult_modifier = {
				factor = 1.5
				trait = arbitrary
			}

			mult_modifier = {
				factor = 0.5
				trait = brave
			}
		}
	}

	option = {
		name = EVTOPTBHF21144

		opinion = {
			name = opinion_swayed_3
			who = FROM
			years = 10
		}

		reverse_opinion = {
			name = opinion_swayed_3
			who = FROM
			years = 10
		}

		ai_chance = { factor = 80 }
	}
}

# Swayer notified Swayed refused request
character_event = {
	id = HF.21145
	picture = GFX_evt_battle

	desc = {
		text = EVTDESCHFA21145
		trigger = { has_character_flag = flag_sway_stop_ambushes }
	}
	desc = {
		text = EVTDESCHFB21145
		trigger = { has_character_flag = flag_sway_stop_war }
	}
	desc = {
		text = EVTDESCHFC21145
		trigger = { has_character_flag = flag_sway_war_meeting }
	}

	is_triggered_only = yes

	immediate = {
		clr_character_flag = flag_sway_stop_ambushes
		clr_character_flag = flag_sway_stop_war
		clr_character_flag = flag_sway_war_meeting
	}

	option = {
		name = EVTOPTAHF21145
	}
}

# Swayer notified Swayed reciprocate honors
character_event = {
	id = HF.21146
	desc = EVTDESCAHF21146
	picture = GFX_evt_battle

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF21146

		tiered_prestige_reward_effect = yes

		opinion = {
			name = opinion_swayed_2
			who = FROM
			years = 10
		}

		reverse_opinion = {
			name = opinion_swayed_2
			who = FROM
			years = 10
		}
	}
}

# Swayer notified Swayed does not reciprocate honors
character_event = {
	id = HF.21147
	desc = EVTDESCAHF21147
	picture = GFX_evt_battle

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTAHF21147
	}
}

# Swayed: Ambush was successful!
character_event = {
	id = HF.21148
	desc = EVTDESCAHF21148
	picture = GFX_evt_battle

	is_triggered_only = yes

	immediate = {
		FROM = {
			character_event = { id = HF.21149 }
		}
	}

	option = {
		name = EVTOPTAHF21148

		imprison = FROM
	}
}

# Swayer is notified
character_event = {
	id = HF.21149
	desc = EVTDESCAHF21149
	picture = GFX_evt_battle

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTAHF21149
	}
}

# Swayed: Ambush was unsuccessful!
character_event = {
	id = HF.21150
	desc = EVTDESCAHF21150
	picture = GFX_evt_battle

	is_triggered_only = yes

	immediate = {
		FROM = {
			character_event = { id = HF.21151 }
		}
	}

	option = {
		name = EVTOPTAHF21150

		FROM = {
			show_scope_change = no

			imprison = ROOT
		}
	}
}

# Swayer is notified
character_event = {
	id = HF.21151
	desc = EVTDESCAHF21151
	picture = GFX_evt_battle

	is_triggered_only = yes

	ai = no

	option = {
		name = PERFECT
	}
}

# on_death: Clean up event for outliner characters
character_event = {
	id = HF.21152

	is_triggered_only = yes
	hide_window = yes

	immediate = {
		if = {
			limit = { persistent_event_target:antagonize_target = { always = yes } }
			remove_special_interest = persistent_event_target:antagonize_target
		}

		if = {
			limit = { persistent_event_target:sway_target = { always = yes } }
			remove_special_interest = persistent_event_target:sway_target
			clr_character_flag = flag_tired_of_gifts
		}
	}
}