#############################################
#
# Events for Married Life
#
# Event ID 30000-30999 is reserved
#
#############################################
#
# Written by Sara Wendel-Örtqvist

# Unhappy marriage, separate bedchambers
character_event = {
	id = 30000
	desc = EVTDESC30000
	picture = GFX_evt_quarrel

	is_triggered_only = yes # on_yearly_pulse, random_events

	is_married = yes
	min_age = 20
	max_age = 100
	only_capable = yes
	prisoner = no

	trigger = {
		is_pregnant = no

		spouse = {
			opinion = {
				who = ROOT
				value < -20
			}

			at_location = ROOT
			is_pregnant = no
			is_incapable = no
			prisoner = no
			is_abroad = no
		}
	}

	weight_multiplier = {
		factor = 1

		mult_modifier = {
			factor = 1.25
			trait = stressed
		}

		mult_modifier = {
			factor = 1.25
			trait = depressed
		}

		mult_modifier = {
			factor = 1.5
			trait = lunatic
		}

		mult_modifier = {
			factor = 1.5
			trait = possessed
		}

		mult_modifier = {
			factor = 1.1
			is_ill = yes
		}

		mult_modifier = {
			factor = 1.25
			trait = pneumonic
		}

		mult_modifier = {
			factor = 1.25
			trait = great_pox
		}

		mult_modifier = {
			factor = 2.0
			trait = leper
		}

		mult_modifier = {
			factor = 1.15
			trait = wounded
		}

		mult_modifier = {
			factor = 1.25
			is_maimed_trigger = yes
		}

		mult_modifier = {
			factor = 2.0
			trait = infirm
		}

		mult_modifier = {
			factor = 1.1
			trait = drunkard
		}

		mult_modifier = {
			factor = 1.1
			trait = consumption
		}

		mult_modifier = {
			factor = 1.1
			trait = slow_fever
		}

		mult_modifier = {
			factor = 1.5
			trait = camp_fever
		}

		mult_modifier = {
			factor = 1.5
			trait = bubonic_plague
		}

		mult_modifier = {
			factor = 1.1
			trait = measles
		}

		mult_modifier = {
			factor = 1.1
			trait = smallpox
		}
	}

	option = {
		name = EVTOPTA30000 # Separate bedchambers? Sure!

		prestige = 2

		reverse_opinion = {
			name = insulted
			who = spouse
		}
	}

	option = {
		name = EVTOPTB30000 # Let us rekindle our love!

		piety = 2

		reverse_opinion = {
			name = opinion_rekindle_love
			who = spouse
			years = 5
		}
	}

	option = {
		name = EVTOPTC30000 # Whatever you say, honey

		prestige = -5
		piety = 5

		reverse_opinion = {
			name = opinion_whipped
			who = spouse
			years = 1
		}
	}
}

# Try to divorce spouse
character_event = {
	id = 30001
	desc = EVTDESC30001
	picture = GFX_evt_quarrel

	is_triggered_only = yes # on_yearly_pulse, random_events

	religion = catholic
	is_married = yes
	only_men = yes
	max_age = 60
	only_capable = yes
	prisoner = no

	trigger = {
		has_children = yes

		any_child = {
			is_primary_heir = yes
			NOT = { trait = bastard }
		}

		spouse = {
			opinion = {
				who = ROOT
				value < -50
			}

			at_location = ROOT
			has_children = no
			is_abroad = no
			is_incapable = no
			prisoner = no
		}
	}

	weight_multiplier = {
		factor = 1
	}

	option = {
		name = EVTOPTA30001 # I don't ever want to see you again!

		prestige = -5

		random_list = {
			25 = {
				spouse = {
					show_scope_change = no

					character_event = {
						id = 30002
						tooltip = EVTTOOLTIP30002
					}
				}
			}

			75 = { remove_spouse = spouse }
		}
	}

	option = {
		name = EVTOPTB30001 # Let us try this one more time

		piety = 5

		opinion = {
			name = opinion_rekindle_love
			who = spouse
			years = 2
		}
	}
}

# Protests against divorce
character_event = {
	id = 30002
	desc = EVTDESC30002
	picture = GFX_evt_quarrel

	is_triggered_only = yes

	option = {
		name = EVTOPTA30002

		FROM = {
			show_scope_change = no

			character_event = {
				id = 30003
				days = 14
				tooltip = EVTTOOLTIP30003
			}
		}
	}
}

# The head of religion interferes
character_event = {
	id = 30003
	desc = EVTDESC30003
	picture = GFX_evt_scandal

	is_triggered_only = yes

	option = {
		name = EVTOPTA30003 # If I have to..
	}

	option = {
		name = EVTOPTB30003 # Never!

		remove_spouse = spouse

		add_character_modifier = {
			name = unrighteous_spouse
			duration = -1
		}

		rightful_religious_head_scope = {
			show_scope_change = no

			opinion = {
				name = no_annulment
				who = FROM
				years = 5
			}
		}
	}
}

# Poisoning stepchildren: Marie of Brabant, Sikelgaita
character_event = {
	id = 30004
	desc = EVTDESC30004
	picture = GFX_evt_shadow

	is_triggered_only = yes # on_yearly_pulse, random_events

	only_women = yes
	only_capable = yes
	prisoner = no

	trigger = {
		trait = ambitious
		trait = envious

		any_child = {
			is_pretender = yes
		}

		NOT = {
			any_child = {
				is_primary_heir = yes
			}
		}

		spouse = {
			is_female = no
			at_location = ROOT
			lower_real_tier_than = KING
			is_incapable = no
			prisoner = no
			is_abroad = no

			any_child = {
				is_primary_heir = yes
				is_female = no
			}
		}
	}

	weight_multiplier = {
		factor = 1

		mult_modifier = {
			factor = 2
			trait = wroth
		}

		mult_modifier = {
			factor = 0.5
			trait = kind
		}
	}

	option = {
		name = EVTOPTA30004 # Poison!

		pacifists_lose_piety_effect = yes

		spouse = {
			show_scope_change = no

			random_child = {
				show_scope_change = no

				limit = {
					is_primary_heir = yes
					is_female = no
				}

				save_event_target_as = poisoned_child

				random_list = {
					33 = {
						if = {
							limit = { has_dlc = "Reapers" }

							set_character_flag = disease_not_serious
							add_trait = vomiting

							character_event = {
								id = RIP.11005
								days = 10
								random = 30
							}
						}
						else = {
							add_trait = ill
						}

						ROOT = {
							show_scope_change = no

							random_list = {
								50 = { prestige = 15 }

								25 = {
									spouse = {
										show_scope_change = no

										character_event = {
											id = 30005
											days = 14
											tooltip = EVTTOOLTIP30005
										}
									}
								}

								25 = {
									character_event = {
										id = 30006
										days = 7
										tooltip = EVTTOOLTIP30006
									}
								}
							}
						}
					}

					33 = {
						add_trait = infirm

						ROOT = {
							show_scope_change = no

							random_list = {
								20 = { prestige = 15 }

								40 = {
									spouse = {
										show_scope_change = no

										character_event = {
											id = 30005
											days = 14
											tooltip = EVTTOOLTIP30005
										}
									}
								}

								40 = {
									character_event = {
										id = 30006
										days = 7
										tooltip = EVTTOOLTIP30006
									}
								}
							}
						}
					}

					33 = {
						death = {
							death_reason = death_murder_poison
							killer = ROOT
						}

						ROOT = {
							show_scope_change = no

							random_list = {
								10 = { prestige = 15 }

								45 = {
									spouse = {
										show_scope_change = no

										character_event = { # Husband accuses spouse of heir's death
											id = 30007
											days = 14
											tooltip = EVTTOOLTIP30007
										}
									}
								}

								45 = {
									character_event = { # Courtier accuses spouse of heir's death
										id = 30008
										days = 7
										tooltip = EVTTOOLTIP30008
									}
								}
							}
						}
					}
				}
			}
		}
	}

	option = {
		name = EVTOPTB30004 # Don't do anything

		piety = 20
	}
}

# Spouse accuses woman of poisoning primary_heir
character_event = {
	id = 30005
	desc = EVTDESC30005
	picture = GFX_evt_shadow

	is_triggered_only = yes

	option = {
		name = EVTOPTA30005 # Imprison!

		opinion = {
			name = opinion_poisonous_woman
			who = spouse
			years = 5
		}

		spouse = {
			show_scope_change = no

			character_event = {
				id = 30009
				tooltip = EVTTOOLTIP30009
			}
		}
	}

	option = {
		name = EVTOPTB30005 # Execute!

		spouse = {
			show_scope_change = no

			death = {
				death_reason = death_execution_beheading
				killer = ROOT
			}
		}
	}

	option = {
		name = EVTOPTC30005 # Pardon

		opinion = {
			name = opinion_poisonous_woman
			who = spouse
			years = 5
		}

		spouse = {
			show_scope_change = no

			character_event = { # I was pardoned!
				id = 30010
				days = 10
				tooltip = EVTTOOLTIP3010
			}
		}
	}
}

# Courtier accuses woman of poisoning primary_heir
character_event = {
	id = 30006
	desc = EVTDESC30006
	picture = GFX_evt_shadow

	is_triggered_only = yes

	immediate = {
		random_courtier = {
			limit = {
				NOT = { character = event_target:poisoned_child }
			}

			preferred_limit = { is_female = no }

			save_event_target_as = target_courtier
		}
	}

	option = {
		name = EVTOPTA30006 # Snitch

		random_list = {
			50 = {
				reverse_opinion = {
					name = opinion_poisonous_woman
					who = event_target:target_courtier
					years = 5
				}
			}

			50 = {
				spouse = {
					show_scope_change = no

					character_event = {
						id = 30005
						days = 14
						tooltip = EVTTOOLTIP30005
					}
				}
			}
		}
	}

	option = {
		name = EVTOPTB30006 # Bribe courtier

		transfer_scaled_wealth = {
			to = event_target:target_courtier
			value = 0.25
		}

		random_list = {
			80 = {
				reverse_opinion = {
					name = opinion_poisonous_woman
					who = event_target:target_courtier
					years = 5
				}
			}

			20 = {
				spouse = {
					show_scope_change = no

					character_event = {
						id = 30005
						days = 14
						tooltip = EVTTOOLTIP30005
					}
				}
			}
		}
	}

	option = {
		name = EVTOPTC30006 # Poison courtier

		pacifists_lose_piety_effect = yes

		random_list = {
			50 = {
				event_target:target_courtier = {
					show_scope_change = no

					death = {
						death_reason = death_murder_unknown_poison
						killer = ROOT
					}
				}
			}

			50 = {
				event_target:target_courtier = {
					show_scope_change = no

					add_maimed_trait_effect = yes

					opinion = {
						name = opinion_poisonous_woman
						who = ROOT
						years = 5
					}
				}

				spouse = {
					show_scope_change = no

					character_event = {
						id = 30009
						days = 14
						tooltip = EVTTOOLTIP30009
					}
				}
			}
		}
	}
}

# Husband accuses spouse of poisoning and murdering primary_heir
character_event = {
	id = 30007
	desc = EVTDESC30007
	picture = GFX_evt_shadow

	is_triggered_only = yes

	option = {
		name = EVTOPTA30007 # Imprison!

		opinion = {
			name = opinion_poisonous_woman
			who = spouse
			years = 5
		}

		spouse = {
			show_scope_change = no

			character_event = {
				id = 30009
				tooltip = EVTTOOLTIP30009
			}
		}
	}

	option = {
		name = EVTOPTB30007 # Execute!

		spouse = {
			show_scope_change = no

			death = {
				death_reason = death_execution_beheading
				killer = ROOT
			}
		}
	}

	option = {
		name = EVTOPTC30007 # Pardon

		opinion = {
			name = opinion_poisonous_woman
			who = spouse
			years = 5
		}

		spouse = {
			show_scope_change = no

			character_event = { # I was pardoned!
				id = 30010
				days = 10
				tooltip = EVTTOOLTIP30010
			}
		}
	}
}

# Courtier accuses woman of poisoning and murdering primary_heir
character_event = {
	id = 30008
	desc = EVTDESC30008
	picture = GFX_evt_emissary

	is_triggered_only = yes

	immediate = {
		random_courtier = {
			preferred_limit = { is_female = no }
			save_event_target_as = target_courtier
		}
	}

	option = {
		name = EVTOPTA30006 # Snitch

		random_list = {
			50 = {
				reverse_opinion = {
					name = opinion_poisonous_woman
					who = event_target:target_courtier
					years = 5
				}
			}

			50 = {
				spouse = {
					show_scope_change = no

					character_event = {
						id = 30005
						days = 14
						tooltip = EVTTOOLTIP30005
					}
				}
			}
		}
	}

	option = {
		name = EVTOPTB30006 # Bribe courtier

		transfer_scaled_wealth = {
			to = event_target:target_courtier
			value = 0.25
		}

		random_list = {
			70 = {
				reverse_opinion = {
					name = opinion_poisonous_woman
					who = event_target:target_courtier
					years = 5
				}
			}

			30 = {
				spouse = {
					show_scope_change = no

					character_event = {
						id = 30005
						days = 14
						tooltip = EVTTOOLTIP30005
					}
				}
			}
		}
	}

	option = {
		name = EVTOPTC30006 # Poison courtier

		pacifists_lose_piety_effect = yes

		random_list = {
			50 = {
				event_target:target_courtier = {
					show_scope_change = no

					death = {
						death_reason = death_murder_unknown_poison
						killer = ROOT
					}
				}
			}

			50 = {
				event_target:target_courtier = {
					show_scope_change = no

					if = {
						limit = { has_dlc = "Reapers" }

						add_trait = abdominal_pain
						set_character_flag = disease_not_serious

						character_event = {
							id = RIP.11010
							days = 10
							random = 30
						}
					}

					else = {
						add_trait_ill_effect = yes
					}

					opinion = {
						name = opinion_poisonous_woman
						who = ROOT
						years = 5
					}
				}

				spouse = {
					show_scope_change = no

					character_event = {
						id = 30011
						days = 14
						tooltip = EVTTOOLTIP30011
					}
				}
			}
		}
	}
}

# Poisonous woman is imprisoned
character_event = {
	id = 30009
	desc = EVTDESC30009
	picture = GFX_evt_into_the_dungeon

	is_triggered_only = yes

	immediate = {
		imprison = FROM
	}

	option = {
		name = EVTOPTA30009 # This is not how it should end!
	}
}

# Poisonous woman is pardoned
character_event = {
	id = 30010
	desc = EVTDESC30010
	picture = GFX_evt_quarrel

	is_triggered_only = yes

	option = {
		name = EVTOPTA30010

		prestige = -15
		piety = -10
	}
}

# Spouse accuses woman of poisoning primary_heir and courtier
character_event = {
	id = 30011
	desc = EVTDESC30011
	picture = GFX_evt_quarrel

	is_triggered_only = yes

	option = {
		name = EVTOPTA30011 # Imprison!

		opinion = {
			name = opinion_poisonous_woman
			who = spouse
			years = 5
		}

		FROM = {
			show_scope_change = no

			character_event = {
				id = 30009
				tooltip = EVTTOOLTIP30009
			}
		}

		ai_chance = { factor = 50 }
	}

	option = {
		name = EVTOPTB30011 # Execute!

		FROM = {
			show_scope_change = no

			death = {
				death_reason = death_execution_beheading
				killer = ROOT
			}
		}

		ai_chance = { factor = 20 }
	}

	option = {
		name = EVTOPTC30011 # Pardon

		opinion = {
			name = opinion_poisonous_woman
			who = spouse
			years = 5
		}

		FROM = {
			show_scope_change = no

			character_event = { # I was pardoned!
				id = 30010
				days = 10
				tooltip = EVTTOOLTIP3010
			}
		}

		ai_chance = { factor = 30 }
	}
}

# Moved from childhood_personality_traits_events.txt

# Nobody believes me! - removed, no text and no event that triggers this
# character_event = {
#	id = 30013
#	desc = EVTDESC30013
#	picture = GFX_evt_child_bully
#
#	is_triggered_only = yes
#
#	option = {
#		name = EVTOPTA30013
#
#		prestige = -50
#	}
# }

# Spouse is kicked out and the heir takes over - removed, no text and no event that triggers this
# character_event = {
#	id = 30014
#	desc = EVTDESC30014
#	picture = GFX_evt_scandal
#
#	is_triggered_only = yes
#
#	option = {
#		name = EVTOPTA30014
#
#		banish = yes
#	}
#
#	option = {
#		name = EVTOPTB30014
#
#		prestige = -1000
#	}
# }

# Accuses spouse of poisoning primary heir (unrelated to previous events)
character_event = {
	id = 30020
	desc = EVTDESC30020
	picture = GFX_evt_quarrel

	is_triggered_only = yes # on_yearly_pulse, random_events

	only_rulers = yes
	only_men = yes
	is_married = yes
	min_age = 20
	only_capable = yes
	prisoner = no

	trigger = {
		OR = {
			trait = paranoid
			trait = cynical
			trait = wroth
		}

		any_child = {
			is_primary_heir = yes
			is_female = no
			is_adult = no

			OR = {
				is_ill = yes
				is_maimed_trigger = yes
				trait = infirm
			}
		}

		spouse = {
			OR = {
				trait = diligent
				trait = deceitful
				trait = ambitious
			}

			is_incapable = no
			is_landed = no
			prisoner = no
		}
	}

	weight_multiplier = {
		factor = 1

		mult_modifier = {
			factor = 2
			trait = paranoid
		}

		mult_modifier = {
			factor = 0.5
			trait = trusting
		}
	}

	option = {
		name = EVTOPTA30020 # Imprison!

		spouse = {
			show_scope_change = no

			character_event = {
				id = 30009
				tooltip = EVTTOOLTIP30009
			}
		}

		opinion = {
			name = opinion_poisonous_woman
			who = spouse
			years = 5
		}
	}

	option = {
		name = EVTOPTB30020 # Execute!

		spouse = {
			show_scope_change = no

			death = {
				death_reason = death_execution_beheading
				killer = ROOT
			}
		}
	}

	option = {
		name = EVTOPTC30020 # Pardon

		opinion = {
			name = opinion_poisonous_woman
			who = spouse
			years = 5
		}

		spouse = {
			show_scope_change = no

			character_event = { # I was pardoned!
				id = 30010
				days = 10
				tooltip = EVTTOOLTIP3010
			}
		}
	}
}

# Spouse accuses spouse of poisoning her/him
character_event = {
	id = 30021
	desc = EVTDESC30021
	picture = GFX_evt_quarrel

	is_triggered_only = yes # on_yearly_pulse, random_events

	only_rulers = yes
	is_married = yes
	min_age = 20
	only_capable = yes
	prisoner = no

	trigger = {
		OR = {
			is_ill = yes
			trait = infirm
			trait = great_pox
			trait = paranoid
		}

		spouse = {
			opinion = {
				who = ROOT
				value < -30
			}

			at_location = ROOT
			is_incapable = no
			is_ruler = no
			prisoner = no
			is_abroad = no
		}
	}

	weight_multiplier = {
		factor = 1

		mult_modifier = {
			factor = 2
			trait = cynical
		}

		mult_modifier = {
			factor = 0.5
			trait = trusting
		}
	}

	option = {
		name = EVTOPTA30021 # Imprison!

		spouse = {
			show_scope_change = no

			character_event = {
				id = 30009
				tooltip = EVTTOOLTIP30009
			}
		}

		opinion = {
			name = opinion_poisonous_woman
			who = spouse
			years = 5
		}
	}

	option = {
		name = EVTOPTB30021 # Execute!

		spouse = {
			show_scope_change = no

			death = {
				death_reason = death_execution_beheading
				killer = ROOT
			}
		}
	}

	option = {
		name = EVTOPTC30021 # Pardon

		opinion = {
			name = opinion_betrayed
			who = spouse
		}

		spouse = {
			show_scope_change = no

			character_event = { # I was pardoned!
				id = 30010
				days = 10
				tooltip = EVTTOOLTIP3010
			}
		}
	}
}

# Homosexual spouse
character_event = {
	id = 30025
	desc = EVTDESC30025
	picture = GFX_evt_bad_news

	is_triggered_only = yes # on_yearly_pulse, random_events

	only_women = yes
	is_married = yes
	min_age = 20
	only_capable = yes
	prisoner = no

	trigger = {
		OR = {
			trait = ambitious
			trait = diligent
			trait = elusive_shadow
			trait = intricate_webweaver
		}

		any_child = {
			OR = {
				is_primary_heir = yes
				is_pretender = yes
			}
		}

		spouse = {
			trait = homosexual
			at_location = ROOT
			is_incapable = no
			prisoner = no
			is_abroad = no
		}
	}

	weight_multiplier = {
		factor = 1

		mult_modifier = {
			factor = 2
			trait = charismatic_negotiator
		}

		mult_modifier = {
			factor = 0.5
			trait = content
		}
	}

	option = {
		name = EVTOPTA30025

		piety = 15

		ai_chance = { factor = 100 }
	}

	option = {
		name = EVTOPTB30025

		spouse = {
			show_scope_change = no

			character_event = {
				id = 30026
				days = 14
				tooltip = EVTTOOLTIP30026
			}
		}
	}

	option = {
		name = EVTOPTC30025

		spouse = {
			show_scope_change = no

			character_event = {
				id = 30027
				days = 14
				tooltip = EVTTOOLTIP30027
			}
		}
	}
}

# Spouse spreads evil rumors
character_event = {
	id = 30026
	desc = EVTDESC30026
	picture = GFX_evt_quarrel

	is_triggered_only = yes

	option = {
		name = EVTOPTA30026

		opinion = {
			name = opinion_betrayed
			who = FROM
			years = 3
		}

		FROM = {
			show_scope_change = no

			character_event = {
				id = 30029
				tooltip = EVTTOOLTIP30029
			}
		}
	}
}

# Spouse asks husband/wife to spend more time
character_event = {
	id = 30027
	desc = EVTDESC30027
	picture = GFX_evt_quarrel

	is_triggered_only = yes

	option = {
		name = EVTOPTA30027 # Yes

		FROM = {
			show_scope_change = no

			custom_tooltip = { text = EVTTOOLTIPA30028 }
			set_character_flag = spouse_said_yes
		}

		ai_chance = {
			factor = 60

			mult_modifier = {
				factor = 1.5

				opinion = {
					who = FROM
					value >= 20
				}
			}
		}
	}

	option = {
		name = EVTOPTB30027 # No

		FROM = {
			show_scope_change = no

			custom_tooltip = { text = EVTTOOLTIPB30028 }
			set_character_flag = spouse_said_no
		}

		ai_chance = {
			factor = 40

			mult_modifier = {
				factor = 2

				opinion = {
					who = FROM
					value < 20
				}
			}
		}
	}

	after = {
		FROM = {
			character_event = {
				id = 30028
				days = 14
			}
		}
	}
}

# Spouse gets answer
character_event = {
	id = 30028
	desc = EVTDESC30028
	picture = GFX_evt_bad_news

	is_triggered_only = yes

	option = {
		name = EVTOPTA30028

		trigger = { has_character_flag = spouse_said_yes }

		opinion = {
			name = opinion_delighted
			who = FROM
			years = 2
		}
	}

	option = {
		name = EVTOPTB30028

		trigger = { has_character_flag = spouse_said_no }

		opinion = {
			name = opinion_disappointed
			who = FROM
			years = 2
		}
	}
}

# Spouse chastises spouse about rumors
character_event = {
	id = 30029
	desc = EVTDESC30029
	picture = GFX_evt_bad_news

	is_triggered_only = yes

	ai = no

	option = {
		name = EVTOPTA30029

		tooltip = {
			reverse_opinion = {
				name = opinion_betrayed
				who = FROM
				years = 3
			}
		}
	}
}

# Spouse in prison: spouse is trying to free her/him
character_event = {
	id = 30030
	desc = EVTDESC30030
	picture = GFX_evt_into_the_dungeon

	is_triggered_only = yes # on_yearly_pulse, random_events

	prisoner = yes
	is_married = yes
	min_age = 20
	only_capable = yes

	trigger = {
		any_spouse = {
			at_location = ROOT # TODO: Event not firing. This condition might be why

			reverse_opinion = {
				who = ROOT
				value >= 20
			}

			opinion = {
				who = ROOT
				value >= 20
			}

			prisoner = no
			is_abroad = no
			is_incapable = no

			ROOT = {
				host = {
					NOT = { character = PREVPREV }
				}
			}
		}

		NOT = { has_character_flag = prisoner_spouse }
	}

	weight_multiplier = {
		factor = 20
	}

	immediate = {
		set_character_flag = prisoner_spouse # see if we can remove this
		save_event_target_as = prisoner_spouse

		random_spouse = {
			limit = {
				at_location = ROOT # TODO: Event not firing. This condition might be why

				reverse_opinion = {
					who = ROOT
					value >= 20
				}

				opinion = {
					who = ROOT
					value >= 20
				}

				prisoner = no
				is_abroad = no
				is_incapable = no

				ROOT = {
					host = {
						NOT = { character = PREVPREV }
					}
				}
			}

			save_event_target_as = outside_spouse
		}

		host = {
			save_event_target_as = prisoner_host
		}
	}

	option = {
		name = EVTOPTA30030

		event_target:prisoner_host = {
			show_scope_change = no

			character_event = {
				id = 30031
				days = 5
				tooltip = EVTTOOLTIP30031
			}
		}
	}

	option = {
		name = EVTOPTB30030

		event_target:outside_spouse = {
			show_scope_change = no

			character_event = {
				id = 30032
				days = 4
				tooltip = EVTTOOLTIP30032
			}
		}
	}

	option = {
		name = EVTOPTC30030

		add_trait_silently_depressed_effect = yes
	}
}

# Spouse in prison: host is contacted
character_event = {
	id = 30031
	desc = EVTDESC30031
	picture = GFX_evt_into_the_dungeon

	is_triggered_only = yes

	option = {
		name = EVTOPTA30031

		prestige = 10

		custom_tooltip = {
			text = EVTTOOLTIP30033

			event_target:outside_spouse = {
				character_event = {
					id = 30033
					days = 5
				}
			}

			event_target:prisoner_spouse = {
				death = {
					death_reason = death_execution_beheading
					killer = ROOT
				}
			}
		}
	}

	option = {
		name = EVTOPTB30031 # Release her/him

		scaled_wealth = 1.0 # TODO: transfer_scaled_wealth?

		event_target:prisoner_spouse = {
			show_scope_change = no

			imprison = no

			character_event = {
				id = 30034
				days = 1
				tooltip = EVTTOOLTIP30034
			}
		}

		ai_chance = { factor = 10 }
	}

	option = {
		name = EVTOPTC30031 # Throw her/him into the dungeon

		event_target:outside_spouse = {
			show_scope_change = no

			character_event = {
				id = 30035
				days = 1
				tooltip = EVTTOOLTIP30035
			}
		}

		ai_chance = { factor = 80 }
	}

	option = {
		name = EVTOPTD30031 # Warn spouse about freeing prisoner spouse

		event_target:outside_spouse = {
			show_scope_change = no

			letter_event = {
				id = 30036
				days = 1
				tooltip = EVTTOOLTIP30036
			}
		}

		ai_chance = { factor = 10 }
	}
}

# Spouse to spouse prisoner: Save me!
character_event = {
	id = 30032
	desc = EVTDESC30032
	picture = GFX_evt_into_the_dungeon

	is_triggered_only = yes

	option = {
		name = EVTOPTA30032

		add_trait_fully_craven_effect = yes
	}

	option = {
		name = EVTOPTB30032

		event_target:prisoner_host = {
			show_scope_change = no

			character_event = {
				id = 30037
				days = 2
				tooltip = EVTTOOLTIPA30037
			}
		}
	}
}

# Spouse is dead!
character_event = {
	id = 30033
	desc = EVTDESC30033
	picture = GFX_evt_bad_news

	is_triggered_only = yes

	option = {
		name = EVTOPTA30033

		add_trait_silently_depressed_effect = yes
	}

	option = {
		name = EVTOPTB30033

		add_trait_fully_silently_wroth_effect = yes
	}

	option = {
		name = EVTOPTC30033

		add_trait_fully_silently_envious_effect = yes
	}

	after = {
		opinion = {
			name = opinion_dishonorable_scum
			who = event_target:prisoner_host
		}
	}
}

# Spouse is free!
character_event = {
	id = 30034
	desc = EVTDESC30034
	picture = GFX_evt_lovers

	is_triggered_only = yes

	option = {
		name = EVTOPTA30034

		opinion = {
			name = opinion_grateful
			who = event_target:prisoner_host
			years = 5
		}
	}
}

# Spouse is thrown into dungeon!
character_event = {
	id = 30035
	desc = EVTDESC30035
	picture = GFX_evt_into_the_dungeon

	is_triggered_only = yes

	option = {
		name = EVTOPTA30035

		add_character_modifier = {
			name = the_dungeon
			years = 1
		}
	}
}

# Spouse is warned about consequences of freeing prisoner spouse
letter_event = {
	id = 30036
	desc = EVTDESC30036

	is_triggered_only = yes

	option = {
		name = EVTOPTA30036

		prestige = -10

		add_trait_fully_silently_craven_effect = yes
	}

	option = {
		name = EVTOPTB30036

		event_target:prisoner_host = {
			show_scope_change = no

			character_event = {
				id = 30037
				days = 1
				tooltip = EVTTOOLTIPB30037
			}
		}
	}
}

# Host: is asked to release prisoner spouse
character_event = {
	id = 30037
	desc = EVTDESC30037
	picture = GFX_evt_into_the_dungeon

	is_triggered_only = yes

	option = {
		name = EVTOPTA30037 # Fine!

		event_target:prisoner_spouse = {
			show_scope_change = no

			imprison = no

			character_event = {
				id = 30034
				tooltip = EVTTOOLTIP30034
			}
		}
	}

	option = {
		name = EVTOPTB30037

		event_target:prisoner_spouse = {
			show_scope_change = no

			character_event = {
				id = 30035
				tooltip = EVTTOOLTIP30035
			}
		}
	}

	option = {
		name = EVTOPTC30037

		event_target:prisoner_spouse = {
			show_scope_change = no

			death = {
				death_reason = death_execution_hanging
				killer = ROOT
			}
		}

		event_target:outside_spouse = {
			show_scope_change = no

			character_event = {
				id = 30033
				tooltip = EVTTOOLTIP30033
			}
		}
	}
}

# Annoying courtier - start
character_event = {
	id = 30039

	is_triggered_only = yes # on_yearly_pulse, random_events
	hide_window = yes

	only_playable = yes
	only_men = yes
	is_married = yes
	only_capable = yes
	prisoner = no

	trigger = {
		is_landed = no
		is_councillor = no
		is_abroad = no
		NOT = { has_character_flag = had_annoying_event }

		spouse = {
			at_location = ROOT
			is_landed = no
			is_incapable = no
			prisoner = no

			NOR = {
				trait = humble
				trait = kind
			}

			ROOT = {
				any_voter = {
					opinion = {
						who = PREVPREV
						value < 30
					}

					OR = {
						trait = envious
						trait = wroth
						trait = paranoid
						trait = deceitful
						trait = arbitrary
						trait = ambitious
					}

					NOT = { character = PREVPREV }
				}
			}
		}
	}

	weight_multiplier = {
		factor = 1

		mult_modifier = {
			factor = 2
			spouse = { trait = wroth }
		}

		mult_modifier = {
			factor = 1.5
			spouse = { trait = ambitious }
		}

		mult_modifier = {
			factor = 1.25
			spouse = { trait = cruel }
		}
	}

	immediate = {
		set_character_flag = had_annoying_event

		spouse = {
			ROOT = {
				random_voter = {
					limit = {
						opinion = {
							who = PREVPREV
							value < 30
						}

						OR = {
							trait = envious
							trait = wroth
							trait = paranoid
							trait = deceitful
							trait = arbitrary
							trait = ambitious
						}

						NOT = { character = PREVPREV }
					}

					save_event_target_as = annoying_courtier
				}
			}

			character_event = { id = 30040 }
		}
	}
}

# Annoying courtier
character_event = {
	id = 30040
	desc = EVTDESC30040
	picture = GFX_evt_council
	border = GFX_event_normal_frame_intrigue

	is_triggered_only = yes # on_yearly_pulse, random_events

	option = {
		name = EVTOPTA30040

		trigger = { personality_traits < 5 }

		add_trait_fully_silently_humble_effect = yes
	}

	option = {
		name = EVTOPTB30040

		spouse = {
			show_scope_change = no

			character_event = {
				id = 30041
				tooltip = EVTTOOLTIP30040
			}
		}

		ai_chance = {
			factor = 1

			mult_modifier = {
				factor = 5
				trait = ambitious
			}
		}
	}

	option = {
		name = EVTOPTC30040

		reverse_opinion = {
			name = opinion_mocked
			who = event_target:annoying_courtier
			years = 5
		}

		spouse = {
			show_scope_change = no

			character_event = {
				id = 30042
				days = 5
				tooltip = EVTTOOLTIP30042
			}
		}
	}
}

# Spouse might fire chancellor, etc
character_event = {
	id = 30041
	desc = EVTDESC30041
	picture = GFX_evt_quarrel
	border = GFX_event_normal_frame_intrigue

	is_triggered_only = yes

	option = {
		name = EVTOPTA30041

		event_target:annoying_courtier = {
			show_scope_change = no

			opinion = {
				name = opinion_fired_from_council
				who = ROOT
				years = 5
			}

			remove_title = job_treasurer
			remove_title = job_chancellor
			remove_title = job_marshal
			remove_title = job_spymaster
			remove_title = job_spiritual
		}

		reverse_opinion = {
			name = opinion_grateful
			who = FROM
			years = 2
		}
	}

	option = {
		name = EVTOPTB30041

		reverse_opinion = {
			name = opinion_disappointed
			who = FROM
			years = 2
		}
	}
}

# Spouse hears about punishment
character_event = {
	id = 30042
	desc = EVTDESC30042
	picture = GFX_evt_quarrel
	border = GFX_event_normal_frame_intrigue

	is_triggered_only = yes

	option = {
		name = EVTOPTA30042

		reverse_opinion = {
			name = opinion_grateful
			who = event_target:annoying_courtier
			years = 2
		}

		reverse_opinion = {
			name = opinion_disappointed
			who = spouse
			years = 2
		}
	}

	option = {
		name = EVTOPTB30042

		reverse_opinion = {
			name = opinion_grateful
			who = spouse
			years = 2
		}

		reverse_opinion = {
			name = opinion_disappointed
			who = event_target:annoying_courtier
			years = 2
		}
	}
}

# Push courtier into river?
character_event = {
	id = 30045
	desc = EVTDESC30045
	picture = GFX_evt_quarrel

	is_triggered_only = yes # on_yearly_pulse, random_events

	only_women = yes
	is_married = yes
	only_capable = yes
	prisoner = no

	trigger = {
		OR = {
			trait = wroth
			trait = envious
			trait = arbitrary
		}

		is_inaccessible_trigger = no

		spouse = {
			is_incapable = no
			prisoner = no

			any_courtier = {
				is_councillor = yes
				is_female = no

				OR = {
					trait = gregarious
					trait = paranoid
					trait = cynical
					trait = zealous
				}
			}
		}
	}

	immediate = {
		spouse = {
			random_courtier = {
				limit = {
					is_councillor = yes
					is_female = no

					OR = {
						trait = gregarious
						trait = paranoid
						trait = cynical
						trait = zealous
					}
				}

				save_event_target_as = chosen_courtier
			}
		}
	}

	weight_multiplier = {
		factor = 1

		mult_modifier = {
			factor = 2
			trait = shy
		}

		mult_modifier = {
			factor = 0.5
			trait = gregarious
		}
	}

	option = {
		name = EVTOPTA30045

		random_list = {
			20 = {
				character_event = {
					id = 30046
					tooltip = EVTTOOLTIP30046
				}
			}

			80 = {
				character_event = {
					id = 30047
					tooltip = EVTTOOLTIP30047
				}
			}
		}
	}

	option = {
		name = EVTOPTB30045

		reverse_opinion = {
			name = opinion_disappointed
			who = event_target:chosen_courtier
			years = 2
		}
	}

	option = {
		name = EVTOPTC30045

		piety = 10
	}
}

# Courtier drowns
character_event = {
	id = 30046
	desc = EVTDESC30046
	picture = GFX_evt_quarrel

	is_triggered_only = yes

	option = {
		name = EVTOPTA30046

		event_target:chosen_courtier = {
			show_scope_change = no

			death = {
				death_reason = death_murder_unknown_drowning
				killer = ROOT
			}
		}

		reverse_opinion = {
			name = opinion_shocked
			who = spouse
			years = 2
		}

		add_character_modifier = {
			name = the_apologetic
			years = 1
		}
	}

	option = {
		name = EVTOPTB30046

		event_target:chosen_courtier = {
			show_scope_change = no

			death = {
				death_reason = death_murder_unknown_drowning
				killer = ROOT
			}
		}

		reverse_opinion = {
			name = opinion_shocked
			who = spouse
			years = 2
		}

		add_character_modifier = {
			name = the_sincere
			years = 1
		}
	}

	option = {
		name = EVTOPTC30046

		event_target:chosen_courtier = {
			show_scope_change = no

			death = {
				death_reason = death_murder_unknown_drowning
				killer = ROOT
			}
		}

		reverse_opinion = {
			name = opinion_shocked
			who = spouse
			years = 2
		}

		add_character_modifier = {
			name = the_regretful
			years = 1
		}
	}

	option = {
		name = EVTOPTD30046

		event_target:chosen_courtier = {
			show_scope_change = no

			death = {
				death_reason = death_murder_unknown_drowning
				killer = ROOT
			}
		}

		reverse_opinion = {
			name = opinion_shocked
			who = spouse
			years = 2
		}

		add_character_modifier = {
			name = the_cruel
			years = 1
		}
	}
}

# Courtier survives
character_event = {
	id = 30047
	desc = EVTDESC30047
	picture = GFX_evt_quarrel

	is_triggered_only = yes

	option = {
		name = EVTOPTA30047

		piety = -10
	}
}

# Give spouse a gift: jewellery
character_event = {
	id = 30050
	desc = EVTDESC30050
	picture = GFX_evt_quarrel

	is_triggered_only = yes # on_yearly_pulse, random_events

	only_men = yes
	is_married = yes
	min_age = 20
	only_capable = yes
	prisoner = no

	trigger = {
		wealth >= 50
		NOT = { has_plot = plot_kill_spouse }

		any_spouse = {
			opinion = {
				who = ROOT
				value < 50
			}

			at_location = ROOT
			is_incapable = no
			is_abroad = no
			prisoner = no
		}
	}

	weight_multiplier = {
		factor = 1

		mult_modifier = {
			factor = 2
			trait = kind
		}

		mult_modifier = {
			factor = 0.5
			trait = greedy
		}

		mult_modifier = {
			factor = 0.5
			trait = wroth
		}
	}

	immediate = {
		random_spouse = {
			limit = {
				opinion = {
					who = ROOT
					value < 50
				}

				at_location = ROOT
				is_incapable = no
				prisoner = no
				is_abroad = no
			}

			save_event_target_as = my_spouse
		}
	}

	option = {
		name = EVTOPTA30050

		wealth = -5

		reverse_opinion = {
			name = opinion_grateful
			who = event_target:my_spouse
			years = 1
		}
	}

	option = {
		name = EVTOPTB30050

		wealth = -10

		reverse_opinion = {
			name = opinion_infatuated
			who = event_target:my_spouse
			years = 1
		}
	}

	option = {
		name = EVTOPTC30050

		trigger = {
			has_lover = no
			event_target:my_spouse = { has_lover = no }
		}

		wealth = -15
		add_lover = event_target:my_spouse
	}

	option = {
		name = EVTOPTD30050

		prestige = -5

		reverse_opinion = {
			name = opinion_disappointed
			who = event_target:my_spouse
			years = 1
		}
	}
}

# Give spouse a gift: horse
character_event = {
	id = 30051
	desc = EVTDESC30051
	picture = GFX_evt_quarrel
	portrait = event_target:my_spouse

	is_triggered_only = yes # on_yearly_pulse, random_events

	is_married = yes
	min_age = 20
	only_capable = yes
	prisoner = no
	war = no
	in_command = no

	trigger = {
		wealth >= 50
		NOT = { has_plot = plot_kill_spouse }

		any_spouse = {
			opinion = {
				who = ROOT
				value < 50
			}

			at_location = ROOT
			is_incapable = no
			prisoner = no
			is_abroad = no
		}
	}

	weight_multiplier = {
		factor = 1

		mult_modifier = {
			factor = 2
			trait = lustful
		}

		mult_modifier = {
			factor = 0.5
			trait = slothful
		}
	}

	immediate = {
		random_spouse = {
			limit = {
				opinion = {
					who = ROOT
					value < 50
				}

				at_location = ROOT
				is_incapable = no
				prisoner = no
				is_abroad = no
			}

			save_event_target_as = my_spouse
		}
	}

	option = {
		name = EVTOPTA30051

		wealth = -10

		reverse_opinion = {
			name = opinion_delighted
			who = event_target:my_spouse
			years = 1
		}
	}

	option = {
		name = EVTOPTB30051

		wealth = -15

		reverse_opinion = {
			name = opinion_budding_romance
			who = event_target:my_spouse
			years = 3
		}
	}

	option = {
		name = EVTOPTC30051

		trigger = {
			has_lover = no
			event_target:my_spouse = { has_lover = no }
		}

		wealth = -20

		event_target:my_spouse = {
			show_scope_change = no

			if = { # if they already like you, you'll likely become lovers...
				limit = {
					OR = {
						has_opinion_modifier = {
							name = opinion_budding_romance
							who = ROOT
						}

						has_opinion_modifier = {
							name = opinion_infatuated
							who = ROOT
						}

						has_character_flag = carried_torch_for@ROOT
						has_character_flag = carrying_torch_for@ROOT
					}
				}

				add_lover = ROOT
			}
			else = {
				opinion = {
					name = opinion_infatuated
					who = ROOT
					years = 10
				}
			}
		}
	}

	option = {
		name = EVTOPTE30051
		tooltip_info_custom = REASON_IS_A_HORSE

		trigger = {
			graphical_culture = horsegfx
			has_lover = no
			event_target:my_spouse = { has_lover = no }
		}

		add_lover = event_target:my_spouse
	}

	option = {
		name = EVTOPTD30051

		reverse_opinion = {
			name = opinion_disappointed
			who = event_target:my_spouse
			years = 3
		}
	}
}

# Give spouse a gift: falcon
character_event = {
	id = 30052
	picture = GFX_evt_falconing
	portrait = event_target:my_spouse

	desc = {
		text = EVTDESC30052
		trigger = {
			event_target:my_spouse = {
				is_dumb_trigger = no
				NOT = { trait = lunatic }
			}
		}
	}
	desc = {
		text = EVTDESC30052_B
		trigger = {
			event_target:my_spouse = {
				OR = {
					is_dumb_trigger = yes
					trait = lunatic
				}
			}
		}
	}

	is_triggered_only = yes # on_yearly_pulse, random_events

	is_married = yes
	min_age = 20
	prisoner = no
	only_capable = yes

	trigger = {
		wealth >= 70

		NOR = {
			religion = jain
			has_plot = plot_kill_spouse
		}

		any_spouse = {
			opinion = {
				who = ROOT
				value < 50
			}

			NOR = {
				religion = jain
				trait = craven
			}

			at_location = ROOT
			is_incapable = no
			prisoner = no
			is_abroad = no
		}
	}

	weight_multiplier = {
		factor = 1

		mult_modifier = {
			factor = 2
			trait = charitable
		}

		mult_modifier = {
			factor = 0.5
			trait = wroth
		}
	}

	immediate = {
		random_spouse = {
			limit = {
				opinion = {
					who = ROOT
					value < 50
				}

				NOR = {
					religion = jain
					trait = craven
				}

				at_location = ROOT
				is_incapable = no
				prisoner = no
				is_alive = yes
				is_abroad = no
			}

			save_event_target_as = my_spouse
		}
	}

	option = {
		name = EVTOPTA30052

		wealth = -10

		reverse_opinion = {
			name = opinion_delighted
			who = event_target:my_spouse
			years = 1
		}
	}

	option = {
		name = EVTOPTB30052

		wealth = -25

		event_target:my_spouse = {
			show_scope_change = no

			opinion = {
				name = opinion_infatuated
				who = ROOT
				years = 2
			}

			add_character_modifier = {
				name = aspiring_falconer
				years = 10
			}
		}
	}

	option = {
		name = EVTOPTC30052

		reverse_opinion = {
			name = opinion_disappointed
			who = event_target:my_spouse
			years = 1
		}
	}
}

# Wife offers advice: Diplomacy
character_event = {
	id = 30055
	desc = EVTDESC30055
	picture = GFX_evt_council

	is_triggered_only = yes # on_yearly_pulse, random_events

	only_playable = yes
	only_men = yes
	is_married = yes
	min_age = 20
	prisoner = no
	only_capable = yes

	trigger = {
		diplomacy < 8
		is_councillor = no

		job_chancellor = { always = yes }

		capital_scope = {
			NOT = { has_province_modifier = diplomacy_advice }
		}

		spouse = {
			diplomacy >= 10
			at_location = ROOT

			NOR = {
				has_job_title = job_chancellor

				has_opinion_modifier = {
					name = opinion_denied_advice
					who = ROOT
				}
			}

			is_incapable = no
			prisoner = no
			is_abroad = no
			is_dumb_trigger = no
		}
	}

	weight_multiplier = {
		factor = 1

		mult_modifier = {
			factor = 2
			spouse = { trait = diligent }
		}

		mult_modifier = {
			factor = 0.5
			spouse = { trait = content }
		}
	}

	option = {
		name = EVTOPTA30055

		capital_scope = {
			show_scope_change = no

			add_province_modifier = {
				name = diplomacy_advice
				years = 5
			}
		}

		random_list = {
			20 = { change_diplomacy = 1 }
			80 = { add_trait_fully_content_effect = yes }
		}
	}

	option = {
		name = EVTOPTB30055

		prestige = 10

		reverse_opinion = {
			name = opinion_denied_advice
			who = spouse
			years = 2
		}
	}
}

# Wife offers advice: Martial
character_event = {
	id = 30056
	desc = EVTDESC30056
	picture = GFX_evt_council

	is_triggered_only = yes # on_yearly_pulse, random_events

	only_playable = yes
	only_men = yes
	is_married = yes
	min_age = 20
	prisoner = no
	only_capable = yes

	trigger = {
		martial < 8
		is_councillor = no

		job_marshal = { always = yes }

		capital_scope = {
			NOT = { has_province_modifier = martial_advice }
		}

		spouse = {
			martial >= 10
			at_location = ROOT

			NOR = {
				has_job_title = job_marshal

				has_opinion_modifier = {
					name = opinion_denied_advice
					who = ROOT
				}
			}

			is_incapable = no
			prisoner = no
			is_abroad = no
			is_dumb_trigger = no
		}
	}

	weight_multiplier = {
		factor = 1

		mult_modifier = {
			factor = 2
			spouse = { trait = diligent }
		}

		mult_modifier = {
			factor = 0.5
			spouse = { trait = content }
		}
	}

	option = {
		name = EVTOPTA30056

		capital_scope = {
			show_scope_change = no

			add_province_modifier = {
				name = martial_advice
				years = 5
			}
		}

		random_list = {
			20 = { change_martial = 1 }
			80 = { add_trait_fully_content_effect = yes }
		}
	}

	option = {
		name = EVTOPTB30056

		prestige = 10

		reverse_opinion = {
			name = opinion_denied_advice
			who = spouse
			years = 2
		}
	}
}

# Wife offers advice: Stewardship
character_event = {
	id = 30057
	desc = EVTDESC30057
	picture = GFX_evt_council

	is_triggered_only = yes # on_yearly_pulse, random_events

	only_playable = yes
	only_men = yes
	is_married = yes
	min_age = 20
	prisoner = no
	only_capable = yes

	trigger = {
		stewardship < 8
		is_councillor = no

		job_treasurer = { always = yes }

		capital_scope = {
			NOT = { has_province_modifier = stewardship_advice }
		}

		spouse = {
			stewardship >= 10
			at_location = ROOT

			NOR = {
				has_job_title = job_treasurer

				has_opinion_modifier = {
					name = opinion_denied_advice
					who = ROOT
				}
			}

			is_incapable = no
			prisoner = no
			is_abroad = no
			is_dumb_trigger = no
		}
	}

	weight_multiplier = {
		factor = 1

		mult_modifier = {
			factor = 2
			spouse = { trait = diligent }
		}

		mult_modifier = {
			factor = 0.5
			spouse = { trait = content }
		}
	}

	option = {
		name = EVTOPTA30057

		capital_scope = {
			show_scope_change = no

			add_province_modifier = {
				name = stewardship_advice
				years = 5
			}
		}

		random_list = {
			20 = { change_stewardship = 1 }
			80 = { add_trait_fully_content_effect = yes }
		}
	}

	option = {
		name = EVTOPTB30057

		prestige = 10

		reverse_opinion = {
			name = opinion_denied_advice
			who = spouse
			years = 2
		}
	}
}

# Wife offers advice: Intrigue
character_event = {
	id = 30058
	desc = EVTDESC30058
	picture = GFX_evt_council

	is_triggered_only = yes # on_yearly_pulse, random_events

	only_playable = yes
	only_men = yes
	is_married = yes
	min_age = 20
	prisoner = no
	only_capable = yes

	trigger = {
		intrigue < 8
		is_councillor = no

		job_spymaster = { always = yes }

		NOT = { has_character_modifier = intrigue_advice }

		spouse = {
			intrigue >= 10
			at_location = ROOT

			NOR = {
				has_job_title = job_spymaster

				has_opinion_modifier = {
					name = opinion_denied_advice
					who = ROOT
				}
			}

			is_incapable = no
			prisoner = no
			is_abroad = no
			is_dumb_trigger = no
		}
	}

	weight_multiplier = {
		factor = 1

		mult_modifier = {
			factor = 1.5
			spouse = { trait = diligent }
		}

		mult_modifier = {
			factor = 0.5
			spouse = { trait = content }
		}

		mult_modifier = {
			factor = 2
			trait = paranoid
		}

		mult_modifier = {
			factor = 0.5
			trait = trusting
		}
	}

	option = {
		name = EVTOPTA30058

		add_character_modifier = {
			name = intrigue_advice
			years = 5
		}

		random_list = {
			20 = { change_intrigue = 1 }
			80 = { add_trait_fully_ambitious_effect = yes }
		}
	}

	option = {
		name = EVTOPTB30058

		prestige = 10

		reverse_opinion = {
			name = opinion_denied_advice
			who = spouse
			years = 2
		}
	}
}

### Wife offers advice: Learning ###
# CleanSlate: Merged with event 30110
character_event = {
	id = 30059
	desc = EVTDESC30059
	picture = GFX_evt_council

	is_triggered_only = yes # on_yearly_pulse, random_events

	only_playable = yes
	only_men = yes
	is_married = yes
	min_age = 20
	prisoner = no
	only_capable = yes

	trigger = {
		learning < 8
		is_councillor = no
		NOT = { has_character_modifier = learning_advice }

		job_spiritual = { always = yes }

		spouse = {
			learning >= 10
			at_location = ROOT

			NOR = {
				has_job_title = job_spiritual

				has_opinion_modifier = {
					name = opinion_denied_advice
					who = ROOT
				}
			}

			is_incapable = no
			prisoner = no
			is_abroad = no
			is_dumb_trigger = no
		}
	}

	weight_multiplier = {
		factor = 1

		mult_modifier = {
			factor = 2
			spouse = { trait = diligent }
		}

		mult_modifier = {
			factor = 0.5
			spouse = { trait = content }
		}
	}

	option = {
		name = EVTOPTA30059

		add_character_modifier = {
			name = learning_advice
			years = 5
		}

		random_list = {
			20 = { change_learning = 1 }
			80 = { add_trait_fully_content_effect = yes }
		}
	}

	option = {
		name = EVTOPTB30059

		prestige = 10

		reverse_opinion = {
			name = opinion_denied_advice
			who = spouse
			years = 2
		}
	}
}

### Wife suggests new councillors ###

# Wife suggests new Chancellor: Start - Husband decides
character_event = {
	id = 30061
	desc = EVTDESC30061
	picture = GFX_evt_council
	portrait = spouse

	is_triggered_only = yes # on_yearly_pulse, random_events

	only_playable = yes
	only_men = yes
	is_married = yes
	min_age = 20
	prisoner = no
	only_capable = yes

	trigger = {
		is_abroad = no
		job_chancellor = { always = yes }

		spouse = {
			is_ruler = no
			at_location = ROOT
			is_incapable = no
			prisoner = no
			NOT = { has_job_title = job_chancellor }

			OR = {
				trait = ambitious
				trait = diligent
				trait = charitable
			}

			any_courtier = {
				diplomacy >= 10
				can_hold_title = job_chancellor
				is_councillor = no

				NOR = {
					character = PREV
					is_married = PREV
				}

				OR = {
					is_lover = PREV

					reverse_opinion = {
						who = PREV
						value >= 40
					}
				}
			}
		}
	}

	weight_multiplier = {
		factor = 1

		mult_modifier = {
			factor = 0.5
			trait = wroth
		}

		mult_modifier = {
			factor = 2
			trait = trusting
		}
	}

	immediate = {
		spouse = {
			random_courtier = {
				limit = {
					diplomacy >= 10
					can_hold_title = job_chancellor
					is_councillor = no

					NOR = {
						character = PREV
						is_married = PREV
					}

					OR = {
						is_lover = PREV

						reverse_opinion = {
							who = PREV
							value >= 40
						}
					}
				}

				save_event_target_as = new_chancellor
			}
		}
	}

	option = {
		name = EVTOPTA30061

		reverse_opinion = {
			name = opinion_revoked_chancellor_title
			who = job_chancellor
			years = 5
		}

		event_target:new_chancellor = {
			show_scope_change = no

			give_job_title = job_chancellor
		}

		custom_tooltip = {
			text = EVTTOOLTIPA30062

			reverse_opinion = {
				name = opinion_grateful
				who = spouse
				years = 5
			}
		}
	}

	option = {
		name = EVTOPTB30061

		custom_tooltip = {
			text = EVTTOOLTIPB30062

			reverse_opinion = {
				name = opinion_denied_advice
				who = spouse
				years = 5
			}
		}
	}
}

# Wife suggests new Marshal: Start - Husband decides
character_event = {
	id = 30064
	desc = EVTDESC30064
	picture = GFX_evt_council
	portrait = spouse

	is_triggered_only = yes # on_yearly_pulse, random_events

	only_playable = yes
	only_men = yes
	is_married = yes
	min_age = 20
	prisoner = no
	only_capable = yes

	trigger = {
		is_abroad = no
		job_marshal = { always = yes }

		spouse = {
			is_ruler = no
			at_location = ROOT
			is_incapable = no
			prisoner = no
			NOT = { has_job_title = job_marshal }

			OR = {
				trait = ambitious
				trait = diligent
				trait = charitable
			}

			any_courtier = {
				martial >= 10
				can_hold_title = job_marshal
				is_councillor = no

				NOR = {
					character = PREV
					is_married = PREV
				}

				OR = {
					is_lover = PREV

					reverse_opinion = {
						who = PREV
						value >= 40
					}
				}
			}
		}
	}

	weight_multiplier = {
		factor = 1

		mult_modifier = {
			factor = 0.5
			trait = wroth
		}

		mult_modifier = {
			factor = 2
			trait = trusting
		}
	}

	immediate = {
		spouse = {
			random_courtier = {
				limit = {
					martial >= 10
					can_hold_title = job_marshal
					is_councillor = no

					NOR = {
						character = PREV
						is_married = PREV
					}

					OR = {
						is_lover = PREV

						reverse_opinion = {
							who = PREV
							value >= 40
						}
					}
				}

				save_event_target_as = new_marshal
			}
		}
	}

	option = {
		name = EVTOPTA30064

		reverse_opinion = {
			name = opinion_revoked_marshal_title
			who = job_marshal
			years = 5
		}

		event_target:new_marshal = {
			show_scope_change = no

			give_job_title = job_marshal
		}

		custom_tooltip = {
			text = EVTTOOLTIPA30065

			reverse_opinion = {
				name = opinion_grateful
				who = spouse
				years = 5
			}
		}
	}

	option = {
		name = EVTOPTB30064

		custom_tooltip = {
			text = EVTTOOLTIPB30065

			reverse_opinion = {
				name = opinion_denied_advice
				who = spouse
				years = 5
			}
		}
	}
}

# Wife suggests new Steward: Start - Husband decides
character_event = {
	id = 30067
	desc = EVTDESC30067
	picture = GFX_evt_council
	portrait = spouse

	is_triggered_only = yes # on_yearly_pulse, random_events

	only_playable = yes
	only_men = yes
	is_married = yes
	min_age = 20
	prisoner = no
	only_capable = yes

	trigger = {
		is_abroad = no
		job_treasurer = { always = yes }

		spouse = {
			is_ruler = no
			at_location = ROOT
			is_incapable = no
			prisoner = no
			NOT = { has_job_title = job_treasurer }

			OR = {
				trait = ambitious
				trait = diligent
				trait = charitable
			}

			any_courtier = {
				stewardship >= 10
				can_hold_title = job_treasurer
				is_councillor = no
				is_female = no

				NOR = {
					character = PREV
					is_married = PREV
				}

				OR = {
					is_lover = PREV

					reverse_opinion = {
						who = PREV
						value >= 40
					}
				}
			}
		}
	}

	weight_multiplier = {
		factor = 1

		mult_modifier = {
			factor = 0.5
			trait = wroth
		}

		mult_modifier = {
			factor = 2
			trait = trusting
		}
	}

	immediate = {
		spouse = {
			random_courtier = {
				limit = {
					stewardship >= 10
					can_hold_title = job_treasurer
					is_councillor = no
					is_female = no

					NOR = {
						character = PREV
						is_married = PREV
					}

					OR = {
						is_lover = PREV

						reverse_opinion = {
							who = PREV
							value >= 40
						}
					}
				}

				save_event_target_as = new_steward
			}
		}
	}

	option = {
		name = EVTOPTA30067

		reverse_opinion = {
			name = opinion_revoked_steward_title
			who = job_treasurer
			years = 5
		}

		event_target:new_steward = {
			show_scope_change = no

			give_job_title = job_treasurer
		}

		custom_tooltip = {
			text = EVTTOOLTIPA30067

			reverse_opinion = {
				name = opinion_grateful
				who = spouse
				years = 5
			}
		}
	}

	option = {
		name = EVTOPTB30067

		custom_tooltip = {
			text = EVTTOOLTIPB30067

			reverse_opinion = {
				name = opinion_denied_advice
				who = spouse
				years = 5
			}
		}
	}
}

# Wife suggests new Spymaster: Start - Husband decides
character_event = {
	id = 30070
	desc = EVTDESC30070
	picture = GFX_evt_council
	portrait = spouse

	is_triggered_only = yes # on_yearly_pulse, random_events

	only_playable = yes
	only_men = yes
	is_married = yes
	min_age = 20
	prisoner = no
	only_capable = yes

	trigger = {
		is_abroad = no
		job_spymaster = { always = yes }

		spouse = {
			is_ruler = no
			at_location = ROOT
			is_incapable = no
			prisoner = no
			NOT = { has_job_title = job_spymaster }

			OR = {
				trait = ambitious
				trait = diligent
				trait = charitable
			}

			any_courtier = {
				intrigue >= 10
				can_hold_title = job_spymaster
				is_councillor = no

				NOR = {
					character = PREV
					is_married = PREV
				}

				OR = {
					is_lover = PREV

					reverse_opinion = {
						who = PREV
						value >= 40
					}
				}
			}
		}
	}

	weight_multiplier = {
		factor = 1

		mult_modifier = {
			factor = 0.5
			trait = wroth
		}

		mult_modifier = {
			factor = 2
			trait = trusting
		}
	}

	immediate = {
		spouse = {
			random_courtier = {
				limit = {
					intrigue >= 10
					can_hold_title = job_spymaster
					is_councillor = no

					NOR = {
						character = PREV
						is_married = PREV
					}

					OR = {
						is_lover = PREV

						reverse_opinion = {
							who = PREV
							value >= 40
						}
					}
				}

				save_event_target_as = new_spymaster
			}
		}
	}

	option = {
		name = EVTOPTA30070

		reverse_opinion = {
			name = opinion_revoked_spymaster_title
			who = job_spymaster
			years = 5
		}

		event_target:new_spymaster = {
			show_scope_change = no

			give_job_title = job_spymaster
		}

		custom_tooltip = {
			text = EVTTOOLTIPA30071

			reverse_opinion = {
				name = opinion_grateful
				who = spouse
				years = 5
			}
		}
	}

	option = {
		name = EVTOPTB30070

		custom_tooltip = {
			text = EVTTOOLTIPB30071

			reverse_opinion = {
				name = opinion_denied_advice
				who = spouse
				years = 5
			}
		}
	}
}

# Wife suggests new Lord Spiritual: Start - Husband decides
character_event = {
	id = 30073
	desc = EVTDESC30073
	picture = GFX_evt_council
	portrait = spouse

	is_triggered_only = yes # on_yearly_pulse, random_events

	only_playable = yes
	only_men = yes
	is_married = yes
	min_age = 20
	prisoner = no
	only_capable = yes

	trigger = {
		is_abroad = no
		job_spiritual = { always = yes }
		NOT = { religion_group = muslim }

		spouse = {
			is_ruler = no
			at_location = ROOT
			is_incapable = no
			prisoner = no

			NOR = {
				religion_group = muslim
				has_job_title = job_spiritual
			}

			OR = {
				trait = ambitious
				trait = diligent
				trait = charitable
			}

			any_courtier = {
				learning >= 10
				can_hold_title = job_spiritual
				is_councillor = no
				is_female = no

				NOR = {
					character = PREV
					is_married = PREV
				}

				OR = {
					is_lover = PREV

					reverse_opinion = {
						who = PREV
						value >= 40
					}
				}
			}
		}
	}

	weight_multiplier = {
		factor = 1

		mult_modifier = {
			factor = 0.5
			trait = wroth
		}

		mult_modifier = {
			factor = 2
			trait = trusting
		}
	}

	immediate = {
		spouse = {
			random_courtier = {
				limit = {
					learning >= 10
					can_hold_title = job_spiritual
					is_councillor = no
					is_female = no

					NOR = {
						character = PREV
						is_married = PREV
					}

					OR = {
						is_lover = PREV

						reverse_opinion = {
							who = PREV
							value >= 40
						}
					}
				}

				save_event_target_as = new_lord_spiritual
			}
		}
	}

	option = {
		name = EVTOPTA30073

		reverse_opinion = {
			name = opinion_revoked_lord_spiritual_title
			who = job_spiritual
			years = 5
		}

		event_target:new_lord_spiritual = {
			show_scope_change = no

			give_job_title = job_spiritual
		}

		custom_tooltip = {
			text = EVTTOOLTIPA30074

			reverse_opinion = {
				name = opinion_grateful
				who = spouse
				years = 5
			}
		}
	}

	option = {
		name = EVTOPTB30073

		custom_tooltip = {
			text = EVTTOOLTIPB30074

			reverse_opinion = {
				name = opinion_denied_advice
				who = spouse
				years = 5
			}
		}
	}
}

# Pregnant with courtier: Start
character_event = {
	id = 30075
	desc = EVTDESC30075
	picture = GFX_evt_pregnancy

	is_triggered_only = yes # on_yearly_pulse, random_events

	only_women = yes
	is_married = yes
	min_age = 16
	max_age = 25
	only_capable = yes
	prisoner = no

	trigger = {
		is_ruler = no
		fertility >= 0.6
		is_pregnant = no
		has_children = no

		spouse = {
			practical_age >= 40
			fertility < 0.50
			is_incapable = no
			prisoner = no
		}

		any_courtier = {
			OR = {
				is_lover = ROOT

				reverse_opinion = {
					who = ROOT
					value >= 40
				}
			}

			is_female = no
			age >= 20
			practical_age < 65
			is_ascetic_trigger = no
			fertility >= 0.3

			NOR = {
				trait = chaste
				trait = celibate
				trait = homosexual
				trait = eunuch
				is_close_relative = ROOT
				dynasty = ROOT
			}
		}
	}

	weight_multiplier = {
		factor = 1

		mult_modifier = {
			factor = 2
			trait = lustful
		}

		mult_modifier = {
			factor = 0.5
			trait = chaste
		}

		mult_modifier = {
			factor = 2
			fertility >= 0.75
		}

		mult_modifier = {
			factor = 3
			spouse = { has_children = no }
		}
	}

	option = {
		name = EVTOPTA30075

		random_courtier = {
			limit = {
				OR = {
					is_lover = ROOT

					reverse_opinion = {
						who = ROOT
						value >= 40
					}
				}

				is_female = no
				age >= 20
				practical_age < 65
				is_ascetic_trigger = no
				fertility >= 0.3

				NOR = {
					trait = chaste
					trait = celibate
					trait = homosexual
					trait = eunuch
					is_close_relative = ROOT
					dynasty = ROOT
				}
			}

			impregnate_cuckoo = ROOT
			save_event_target_as = sire_bastard
		}

		character_event = {
			months = 3
			id = 30076
		}
	}
}

# Pregnant with courtier: What to do?
character_event = {
	id = 30076
	desc = EVTDESC30076
	picture = GFX_evt_pregnancy

	is_triggered_only = yes

	option = {
		name = EVTOPTA30076 # Deny

		spouse = {
			show_scope_change = no

			character_event = {
				id = 30077
				months = 1
				tooltip = EVTTOOLTIP30077
			}
		}
	}

	option = {
		name = EVTOPTB30076 # Tell

		spouse = {
			show_scope_change = no

			character_event = {
				id = 30078
				months = 1
				tooltip = EVTTOOLTIP30078
			}
		}

		ai_chance = { factor = 10 }
	}

	option = {
		name = EVTOPTC30076 # Blame

		spouse = {
			show_scope_change = no

			character_event = {
				id = 30079
				months = 1
				tooltip = EVTTOOLTIP30079
			}
		}

		ai_chance = { factor = 10 }
	}
}

# Pregnant with courtier: Deny
character_event = {
	id = 30077
	desc = EVTDESC30077
	picture = GFX_evt_pregnancy

	is_triggered_only = yes

	option = {
		name = EVTOPTA30077

		opinion = {
			name = opinion_happy
			who = FROM
			years = 2
		}

		random = {
			chance = 10
			character_event = { id = 404 }
		}
	}
}

# Pregnant with courtier: Tell
character_event = {
	id = 30078
	desc = EVTDESC30078
	picture = GFX_evt_pregnancy

	is_triggered_only = yes

	option = {
		name = EVTOPTA30078 # Raise the child as my own

		prestige = -10

		reverse_opinion = {
			name = opinion_grateful
			who = FROM
			years = 10
		}
	}

	option = {
		name = EVTOPTB30078 # Raise the child as my own and punish courtier

		reverse_opinion = {
			name = opinion_grateful
			who = FROM
			years = 10
		}

		character_event = {
			id = 30080
			tooltip = EVTTOOLTIP30080
		}
	}

	option = {
		name = EVTOPTC30078 # Punish courtier and spouse

		character_event = {
			id = 30081
			tooltip = EVTTOOLTIP30081
		}
	}
}

# Pregnant with courtier: Blame
character_event = {
	id = 30079
	desc = EVTDESC30079
	picture = GFX_evt_pregnancy

	is_triggered_only = yes

	option = {
		name = EVTOPTA30078 # Raise the child as my own

		prestige = -10

		reverse_opinion = {
			name = opinion_grateful
			who = FROM
			years = 10
		}
	}

	option = {
		name = EVTOPTB30078 # Raise the child as my own and punish courtier

		reverse_opinion = {
			name = opinion_grateful
			who = FROM
			years = 10
		}

		character_event = {
			id = 30080
			tooltip = EVTTOOLTIP30080
		}
	}

	option = {
		name = EVTOPTC30078 # Punish courtier and spouse

		character_event = {
			id = 30081
			tooltip = EVTTOOLTIP30081
		}
	}
}

# Pregnant with courtier: Husband punish courtier
character_event = {
	id = 30080
	desc = EVTDESC30080
	picture = GFX_evt_pregnancy

	is_triggered_only = yes

	option = {
		name = EVTOPTA30080 # Imprison courtier

		reverse_imprison = event_target:sire_bastard
	}

	option = {
		name = EVTOPTB30080 # Execute courtier

		pacifists_lose_piety_effect = yes

		event_target:sire_bastard = {
			show_scope_change = no

			death = {
				death_reason = death_execution_hanging
				killer = ROOT
			}
		}
	}

	option = {
		name = EVTOPTC30080 # Banish

		event_target:sire_bastard = {
			show_scope_change = no

			banish = yes
		}

		ai_chance = { factor = 1000 }
	}

	option = {
		name = EVTOPTD30080 # Does nothing

		reverse_opinion = {
			name = opinion_relieved
			who = event_target:sire_bastard
			years = 5
		}

		reverse_opinion = {
			name = opinion_grateful
			who = FROMFROM
			years = 5
		}
	}
}

# Pregnant with courtier: Husband punish both
character_event = {
	id = 30081
	desc = EVTDESC30081
	picture = GFX_evt_pregnancy

	is_triggered_only = yes

	option = {
		name = EVTOPTA30081 # Imprison

		reverse_imprison = event_target:sire_bastard
		reverse_imprison = FROMFROM
	}

	option = {
		name = EVTOPTB30081 # Execute

		pacifists_lose_piety_effect = yes

		event_target:sire_bastard = {
			show_scope_change = no

			death = {
				death_reason = death_execution_hanging
				killer = ROOT
			}
		}

		FROMFROM = {
			show_scope_change = no

			death = {
				death_reason = death_execution_hanging
				killer = ROOT
			}
		}
	}

	option = {
		name = EVTOPTC30081 # Banish

		event_target:sire_bastard = {
			show_scope_change = no

			banish = yes
		}

		FROMFROM = {
			show_scope_change = no

			banish = yes
		}

		ai_chance = { factor = 1000 }
	}

	option = {
		name = EVTOPTD30081 # Does nothing

		reverse_opinion = {
			name = opinion_relieved
			who = FROMFROM
			years = 5
		}

		character_event = {
			id = 30080
			tooltip = EVTTOOLTIP30080
		}
	}
}

# Bored wife
character_event = {
	id = 30085
	desc = EVTDESC30085
	picture = GFX_evt_quarrel

	is_triggered_only = yes # on_yearly_pulse, random_events
	hide_from = yes

	only_men = yes
	is_married = yes
	min_age = 40
	only_capable = yes
	prisoner = no
	war = no
	in_command = no

	trigger = {
		NOR = {
			has_character_modifier = for_the_sake_of_love
			has_character_flag = best_friends_forever
		}

		spouse = {
			at_location = ROOT
			practical_age < 30
			is_abroad = no
			is_smart_trigger = no
			is_inaccessible_or_incapable_trigger = no

			any_courtier = {
				is_adult = yes
				is_councillor = no
				ai = yes

				spouse = {
					prisoner = no # CleanSlate: Why this condition?
					NOT = { character = PREVPREV }
				}
			}
		}
	}

	weight_multiplier = {
		factor = 1

		mult_modifier = {
			factor = 1.5

			spouse = {
				OR = {
					trait = slow
					trait = dull
				}
			}
		}

		mult_modifier = {
			factor = 3
			spouse = { trait = imbecile }
		}
	}

	immediate = {
		spouse = {
			random_courtier = {
				limit = {
					is_adult = yes
					is_councillor = no
					ai = yes

					spouse = {
						prisoner = no
						NOT = { character = PREVPREV }
					}
				}

				save_event_target_as = target_courtier
			}
		}
	}

	option = {
		name = EVTOPTA30085 # Fine, I'll humor you

		add_character_modifier = {
			name = for_the_sake_of_love
			years = 1
		}

		reverse_opinion = {
			name = opinion_happy
			who = spouse
			years = 1
		}
	}

	option = {
		name = EVTOPTB30085 # Befriend others! I have a *insert kingdom, duchy, county etc* to rule!

		set_character_flag = best_friends_forever

		spouse = {
			show_scope_change = no

			character_event = {
				id = 30086
				tooltip = EVTTOOLTIP30086
			}
		}
	}
}

# Spouse befriends courtier
character_event = {
	id = 30086
	desc = EVTDESC30086
	picture = GFX_evt_courtiers_talking

	is_triggered_only = yes

	option = {
		name = EVTOPTA30086

		opinion = {
			name = opinion_acquaintance
			who = event_target:target_courtier
			years = 5
		}

		reverse_opinion = {
			name = opinion_acquaintance
			who = event_target:target_courtier
			years = 5
		}

		character_event = { id = 30088 }
	}
}

# Courtier - New Friend (ping event 30087 - eliminated)

# Bored wife: Choose an activity
character_event = {
	id = 30088
	desc = EVTDESC30088
	picture = GFX_evt_courtiers_talking

	is_triggered_only = yes

	option = {
		name = EVTOPTA30088

		trigger = {
			NOR = {
				has_character_flag = failed_lake
				has_character_flag = perfect_lake
			}
		}

		character_event = {
			id = 30089
			tooltip = EVTTOOLTIP30089
		}
	}

	option = {
		name = EVTOPTB30088

		trigger = {
			NOR = {
				has_character_flag = failed_picnic
				has_character_flag = perfect_picnic
			}
		}

		character_event = {
			id = 30090
			tooltip = EVTTOOLTIP30090
		}
	}

	option = {
		name = EVTOPTC30088

		trigger = {
			NOR = {
				religion = jain
				has_character_flag = failed_hunt
				has_character_flag = perfect_hunt
			}
		}

		character_event = {
			id = 30091
			tooltip = EVTTOOLTIP30091
		}
	}

	option = {
		name = EVTOPTD30088

		trigger = {
			NOR = {
				has_character_flag = failed_dinner
				has_character_flag = perfect_dinner
			}
		}

		character_event = {
			id = 30092
			tooltip = EVTTOOLTIP30092
		}
	}

	option = {
		name = EVTOPTE30088

		trigger = {
			event_target:target_courtier = { always = yes }

			OR = {
				has_character_flag = failed_dinner
				has_character_flag = perfect_dinner
				has_character_flag = failed_hunt
				has_character_flag = perfect_hunt
				has_character_flag = failed_picnic
				has_character_flag = perfect_picnic
				has_character_flag = failed_lake
				has_character_flag = perfect_lake
			}
		}

		event_target:target_courtier = {
			show_scope_change = no

			add_friend = ROOT
		}

		clr_character_flag = best_friends_forever
		clr_character_flag = perfect_activity
		clr_character_flag = failed_activity
		clr_character_flag = perfect_lake
		clr_character_flag = perfect_picnic
		clr_character_flag = perfect_hunt
		clr_character_flag = perfect_dinner
		clr_character_flag = failed_lake
		clr_character_flag = failed_picnic
		clr_character_flag = failed_hunt
		clr_character_flag = failed_dinner
	}
}

# Bored wife: Lake
character_event = {
	id = 30089
	desc = EVTDESC30089
	picture = GFX_evt_courtiers_talking

	is_triggered_only = yes

	immediate = {
		random_list = {
			60 = { set_character_flag = failed_lake }
			40 = { set_character_flag = perfect_lake }
		}
	}

	option = {
		name = EVTOPTA30089

		trigger = { has_character_flag = failed_lake }

		event_target:target_courtier = {
			show_scope_change = no

			character_event = {
				id = 30094
				days = 5
				tooltip = EVTTOOLTIPA30094
			}
		}
	}

	option = {
		name = EVTOPTB30089

		trigger = { has_character_flag = perfect_lake }

		event_target:target_courtier = {
			show_scope_change = no

			character_event = {
				id = 30093
				days = 5
				tooltip = EVTTOOLTIPA30093
			}
		}
	}

	option = {
		name = EVTOPTC30089

		clr_character_flag = best_friends_forever
		clr_character_flag = perfect_activity
		clr_character_flag = failed_activity
		clr_character_flag = perfect_lake
		clr_character_flag = perfect_picnic
		clr_character_flag = perfect_hunt
		clr_character_flag = perfect_dinner
		clr_character_flag = failed_lake
		clr_character_flag = failed_picnic
		clr_character_flag = failed_hunt
		clr_character_flag = failed_dinner
	}
}

# Bored wife: Picnic
character_event = {
	id = 30090
	desc = EVTDESC30090
	picture = GFX_evt_courtiers_talking

	is_triggered_only = yes

	immediate = {
		random_list = {
			60 = { set_character_flag = perfect_picnic }
			40 = { set_character_flag = failed_picnic }
		}
	}

	option = {
		name = EVTOPTA30090

		trigger = { has_character_flag = failed_picnic }

		event_target:target_courtier = {
			show_scope_change = no

			character_event = {
				id = 30094
				days = 5
				tooltip = EVTTOOLTIPB30094
			}
		}
	}

	option = {
		name = EVTOPTB30090

		trigger = { has_character_flag = perfect_picnic }

		event_target:target_courtier = {
			show_scope_change = no

			character_event = {
				id = 30093
				days = 5
				tooltip = EVTTOOLTIPB30093
			}
		}
	}

	option = {
		name = EVTOPTC30089

		clr_character_flag = best_friends_forever
		clr_character_flag = perfect_lake
		clr_character_flag = perfect_picnic
		clr_character_flag = perfect_hunt
		clr_character_flag = perfect_dinner
		clr_character_flag = failed_lake
		clr_character_flag = failed_picnic
		clr_character_flag = failed_hunt
		clr_character_flag = failed_dinner
	}
}

# Bored wife: Hunt
character_event = {
	id = 30091
	desc = EVTDESC30091
	picture = GFX_evt_courtiers_talking

	is_triggered_only = yes

	immediate = {
		random_list = {
			60 = { set_character_flag = failed_hunt }
			40 = { set_character_flag = perfect_hunt }
		}
	}

	option = {
		name = EVTOPTA30091

		trigger = { has_character_flag = perfect_hunt }

		event_target:target_courtier = {
			show_scope_change = no

			character_event = {
				id = 30093
				days = 5
				tooltip = EVTTOOLTIPC30093
			}
		}
	}

	option = {
		name = EVTOPTB30091

		trigger = { has_character_flag = failed_hunt }

		event_target:target_courtier = {
			show_scope_change = no

			character_event = {
				id = 30094
				days = 5
				tooltip = EVTTOOLTIPC30094
			}
		}
	}

	option = {
		name = EVTOPTC30089

		clr_character_flag = best_friends_forever
		clr_character_flag = perfect_lake
		clr_character_flag = perfect_picnic
		clr_character_flag = perfect_hunt
		clr_character_flag = perfect_dinner
		clr_character_flag = failed_lake
		clr_character_flag = failed_picnic
		clr_character_flag = failed_hunt
		clr_character_flag = failed_dinner
	}
}

# Bored wife: Dinner
character_event = {
	id = 30092
	desc = EVTDESC30092
	picture = GFX_evt_courtiers_talking

	is_triggered_only = yes

	immediate = {
		random_list = {
			60 = { set_character_flag = perfect_dinner }
			40 = { set_character_flag = failed_dinner }
		}
	}

	option = {
		name = EVTOPTA30092

		trigger = { has_character_flag = perfect_dinner }

		event_target:target_courtier = {
			show_scope_change = no

			character_event = {
				id = 30093
				days = 5
				tooltip = EVTTOOLTIPD30093
			}
		}
	}

	option = {
		name = EVTOPTB30092

		trigger = { has_character_flag = failed_dinner }

		event_target:target_courtier = {
			show_scope_change = no

			character_event = {
				id = 30094
				days = 5
				tooltip = EVTTOOLTIPD30094
			}
		}
	}

	option = {
		name = EVTOPTC30089

		clr_character_flag = best_friends_forever
		clr_character_flag = perfect_lake
		clr_character_flag = perfect_picnic
		clr_character_flag = perfect_hunt
		clr_character_flag = perfect_dinner
		clr_character_flag = failed_lake
		clr_character_flag = failed_picnic
		clr_character_flag = failed_hunt
		clr_character_flag = failed_dinner
	}
}

# Courtier: Perfect activity
character_event = {
	id = 30093

	hide_window = yes
	is_triggered_only = yes

	immediate = {
		random_list = {
			10 = { # Friends forever!
				mult_modifier = {
					factor = 2
					has_character_flag = perfect_lake
				}

				mult_modifier = {
					factor = 2
					has_character_flag = perfect_picnic
				}

				mult_modifier = {
					factor = 2
					has_character_flag = perfect_hunt
				}

				mult_modifier = {
					factor = 2
					has_character_flag = perfect_dinner
				}

				clr_character_flag = best_friends_forever

				FROM = {
					character_event = { id = 30096 }
				}
			}

			90 = { # Let's try again!
				FROM = {
					character_event = { id = 30088 }
				}
			}
		}
	}
}

# Courtier: Failed Activity
character_event = {
	id = 30094

	hide_window = yes
	is_triggered_only = yes

	immediate = {
		random_list = {
			10 = { # Too bad!
				mult_modifier = {
					factor = 2
					has_character_flag = failed_lake
				}

				mult_modifier = {
					factor = 2
					has_character_flag = failed_picnic
				}

				mult_modifier = {
					factor = 2
					has_character_flag = failed_hunt
				}

				mult_modifier = {
					factor = 2
					has_character_flag = failed_dinner
				}

				FROM = {
					character_event = { id = 30095 }
				}
			}

			90 = { # Let's try again!

				FROM = {
					character_event = { id = 30088 }
				}
			}
		}
	}
}

# Bored Wife: Courtier Dislike
character_event = {
	id = 30095
	desc = EVTDESC30095
	picture = GFX_evt_courtiers_talking

	is_triggered_only = yes

	option = {
		name = EVTOPTA30095

		opinion = {
			name = opinion_dislike
			who = FROM
			years = 5
		}

		reverse_opinion = {
			name = opinion_dislike
			who = FROM
			years = 5
		}

		clr_character_flag = best_friends_forever
		clr_character_flag = perfect_lake
		clr_character_flag = perfect_picnic
		clr_character_flag = perfect_hunt
		clr_character_flag = perfect_dinner
		clr_character_flag = failed_lake
		clr_character_flag = failed_picnic
		clr_character_flag = failed_hunt
		clr_character_flag = failed_dinner
	}
}

# Bored Wife: Friend
character_event = {
	id = 30096
	desc = EVTDESC30096
	picture = GFX_evt_courtiers_talking

	is_triggered_only = yes

	option = {
		name = EVTOPTA30096

		add_friend = FROM
		clr_character_flag = best_friends_forever
		clr_character_flag = perfect_lake
		clr_character_flag = perfect_picnic
		clr_character_flag = perfect_hunt
		clr_character_flag = perfect_dinner
		clr_character_flag = failed_lake
		clr_character_flag = failed_picnic
		clr_character_flag = failed_hunt
		clr_character_flag = failed_dinner
	}
}

# Active sexlife
character_event = {
	id = 30100
	desc = EVTDESC30100
	picture = GFX_evt_lovers

	is_triggered_only = yes # on_yearly_pulse, random_events

	only_women = yes
	min_age = 16
	only_capable = yes
	prisoner = no

	trigger = {
		fertility >= 0.65
		is_ascetic_trigger = no

		NOR = {
			trait = celibate
			has_character_modifier = spouse_active_timer
		}

		spouse = {
			age >= 40
			at_location = ROOT
			is_incapable = no
			war = no
			in_command = no
			is_abroad = no
			prisoner = no
			is_ascetic_trigger = no

			NOR = {
				trait = celibate
				trait = eunuch
			}
		}
	}

	weight_multiplier = {
		factor = 1

		mult_modifier = {
			factor = 4
			practical_age < 25
		}

		mult_modifier = {
			factor = 0.5
			trait = chaste
		}

		mult_modifier = {
			factor = 1.5
			trait = lustful
		}

		mult_modifier = {
			factor = 2
			spouse = { has_character_modifier = for_the_sake_of_love }
		}
	}

	immediate = {
		add_character_modifier = {
			name = spouse_active_timer
			years = 1
			hidden = yes
		}
	}

	option = {
		name = EVTOPTA30100 # Take him on a wild ride

		spouse = {
			show_scope_change = no

			set_character_flag = wild_ride

			character_event = {
				id = 30101
				tooltip = EVTTOOLTIPA30101
			}
		}
	}

	option = {
		name = EVTOPTD30100 # Make sure he knows who is the boss in the bedchamber

		spouse = {
			show_scope_change = no

			set_character_flag = boss_in_bedchamber

			character_event = {
				id = 30101
				tooltip = EVTTOOLTIPB30101
			}
		}
	}

	option = {
		name = EVTOPTB30100 # Be gentle to him

		spouse = {
			show_scope_change = no

			set_character_flag = gentle_loving

			character_event = {
				id = 30102
				tooltip = EVTTOOLTIPA30102
			}
		}
	}

	option = {
		name = EVTOPTC30100 # Make sweet, sweet love

		spouse = {
			show_scope_change = no

			set_character_flag = sweet_love

			character_event = {
				id = 30102
				tooltip = EVTTOOLTIPB30102
			}
		}
	}
}

# Active sexlife: Wild ride and Boss in Bed
character_event = {
	id = 30101
	desc = EVTDESC30101
	picture = GFX_evt_lovers

	is_triggered_only = yes

	option = {
		name = EVTOPTA30101

		trigger = {
			has_character_flag = wild_ride
			practical_age < 55
		}

		clr_character_flag = wild_ride
		prestige = 20

		random = {
			chance = 40
			add_trait_fully_lustful_effect = yes
		}

		if = {
			limit = { immortal = no }

			random = {
				chance = 10

				death = { death_reason = death_accident }

				spouse = {
					show_scope_change = no

					character_event = {
						id = 30103
						tooltip = EVTTOOLTIP30103
					}
				}
			}
		}
	}

	option = {
		name = EVTOPTB30101

		trigger = {
			has_character_flag = wild_ride
			practical_age >= 55
		}

		clr_character_flag = wild_ride
		prestige = 20

		random = {
			chance = 40
			add_trait_fully_lustful_effect = yes
		}

		if = {
			limit = { immortal = no }

			random = {
				chance = 30

				death = { death_reason = death_accident }

				spouse = {
					show_scope_change = no

					character_event = {
						id = 30103
						tooltip = EVTTOOLTIP30103
					}
				}
			}
		}
	}

	option = {
		name = EVTOPTC30101

		trigger = {
			has_character_flag = boss_in_bedchamber
			practical_age < 55
		}

		clr_character_flag = boss_in_bedchamber
		prestige = 20

		random = {
			chance = 40
			add_trait_fully_lustful_effect = yes
		}

		if = {
			limit = { immortal = no }

			random = {
				chance = 10

				death = { death_reason = death_accident }

				spouse = {
					show_scope_change = no

					character_event = {
						id = 30103
						tooltip = EVTTOOLTIP30103
					}
				}
			}
		}
	}

	option = {
		name = EVTOPTD30101

		trigger = {
			has_character_flag = boss_in_bedchamber
			practical_age >= 55
		}

		clr_character_flag = boss_in_bedchamber
		prestige = 20

		random = {
			chance = 40
			add_trait_fully_lustful_effect = yes
		}

		if = {
			limit = { immortal = no }

			random = {
				chance = 10

				death = { death_reason = death_accident }

				spouse = {
					show_scope_change = no

					character_event = {
						id = 30103
						tooltip = EVTTOOLTIP30103
					}
				}
			}
		}
	}
}

# Active sexlife: Gentle and Sweet Love
character_event = {
	id = 30102
	desc = EVTDESC30102
	picture = GFX_evt_lovers

	is_triggered_only = yes

	option = {
		name = EVTOPTA30102

		trigger = {
			has_character_flag = gentle_loving
			practical_age < 55
		}

		clr_character_flag = gentle_loving

		random = {
			chance = 60
			add_trait_fully_lustful_effect = yes
		}

		if = {
			limit = { immortal = no }

			random = {
				chance = 10

				death = { death_reason = death_accident }

				spouse = {
					show_scope_change = no

					character_event = {
						id = 30104
						tooltip = EVTTOOLTIP30104
					}
				}
			}
		}
	}
	option = {
		name = EVTOPTB30102

		trigger = {
			has_character_flag = gentle_loving
			practical_age >= 55
		}

		clr_character_flag = gentle_loving

		random = {
			chance = 40
			add_trait_fully_lustful_effect = yes
		}

		if = {
			limit = { immortal = no }

			random = {
				chance = 20

				death = { death_reason = death_accident }

				spouse = {
					show_scope_change = no

					character_event = {
						id = 30104
						tooltip = EVTTOOLTIP30104
					}
				}
			}
		}
	}

	option = {
		name = EVTOPTC30102

		trigger = {
			has_character_flag = sweet_love
			practical_age < 55
		}

		clr_character_flag = sweet_love

		random = {
			chance = 30
			add_trait_fully_lustful_effect = yes
		}

		if = {
			limit = { immortal = no }

			random = {
				chance = 20

				death = { death_reason = death_accident }

				spouse = {
					show_scope_change = no

					character_event = {
						id = 30104
						tooltip = EVTTOOLTIP30104
					}
				}
			}
		}
	}

	option = {
		name = EVTOPTD30102

		trigger = {
			has_character_flag = sweet_love
			practical_age >= 55
		}

		clr_character_flag = sweet_love

		random = {
			chance = 20
			add_trait_fully_lustful_effect = yes
		}

		if = {
			limit = { immortal = no }

			random = {
				chance = 40

				death = { death_reason = death_accident }

				spouse = {
					show_scope_change = no

					character_event = {
						id = 30104
						tooltip = EVTTOOLTIP30104
					}
				}
			}
		}
	}
}

# Active sexlife: Killed Spouse by loving him too fiercely
character_event = {
	id = 30103
	desc = EVTDESC30103
	picture = GFX_evt_lovers

	is_triggered_only = yes

	option = {
		name = EVTOPTA30103

		add_trait_silently_depressed_effect = yes
		remove_trait_silently_lustful_effect = yes
	}
}

# Active sexlife: Killed Spouse by loving him too much
character_event = {
	id = 30104
	desc = EVTDESC30104
	picture = GFX_evt_lovers

	is_triggered_only = yes

	option = {
		name = EVTOPTA30104

		add_trait_silently_depressed_effect = yes
		remove_trait_silently_lustful_effect = yes
	}
}

# Wife, suspecting husband is infertile, tries to produce an heir with someone else
character_event = {
	id = 30105
	desc = EVTDESC30105
	picture = GFX_evt_pregnancy

	is_triggered_only = yes

	only_women = yes
	is_married = yes
	min_age = 20
	max_age = 40
	only_capable = yes
	prisoner = no

	trigger = {
		has_children = no
		has_lover = no
		is_pregnant = no
		fertility >= 0.3
		NOT = { has_character_modifier = suitable_father_timer }

		spouse = {
			has_children = no
			fertility < 0.50
			at_location = ROOT
			is_incapable = no
			war = no
			in_command = no
			is_abroad = no
			prisoner = no
		}

		any_courtier = {
			reverse_opinion = {
				who = ROOT
				value >= 40
			}

			is_female = no
			age >= 20
			practical_age < 35
			fertility >= 0.5
			has_lover = no

			is_ascetic_trigger = no

			NOR = {
				trait = eunuch
				trait = chaste
				trait = celibate
				dynasty = ROOT
				is_close_relative = ROOT
			}
		}
	}

	weight_multiplier = {
		factor = 1

		mult_modifier = {
			factor = 3
			has_ambition = obj_have_a_daughter
		}

		mult_modifier = {
			factor = 0.5
			trait = chaste
		}

		mult_modifier = {
			factor = 3
			has_ambition = obj_have_a_son
		}
	}

	immediate = {
		add_character_modifier = {
			name = suitable_father_timer
			years = 1
			hidden = yes
		}
	}

	option = {
		name = EVTOPTA30105

		piety = -15

		random_courtier = {
			show_scope_change = no

			limit = {
				reverse_opinion = {
					who = ROOT
					value >= 40
				}

				is_female = no
				age >= 20
				practical_age < 35
				fertility >= 0.50
				has_lover = no
				is_ascetic_trigger = no

				NOR = {
					trait = eunuch
					trait = chaste
					trait = celibate
					dynasty = ROOT
					is_close_relative = ROOT
				}
			}

			add_lover = ROOT
			save_event_target_as = sex_partner
		}

		hidden_effect = {
			unprotected_sex_effect_event_target = yes
		}

		ai_chance = { factor = 80 }
	}

	option = {
		name = EVTOPTB30105

		piety = 10
	}
}

### Wife offers advice - Muslim: Learning ###
# CleanSlate: Event id 30110 merged with event 30059