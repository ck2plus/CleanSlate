# This file contains all scripted effects that need to be edited for a mod added religion to work with the secret religious society secret religious community mechanics.
# see also 00_secret_religious_communities_triggers.txt

# flip_secret_religious_community_provinces (Unused)
# flip_all_realm_secret_religious_community_provinces
# root_secret_religion_provinces_convert_effect
# flip_this_owned_secret_religious_community_provinces
# display_provinces_flipping_setup_effect
# display_provinces_flipping_effect
# add_secret_religious_community_to_event_target


# TODO: Rework with persistent_event_target (religion scope). Currently unused
flip_secret_religious_community_provinces = {
	trigger_switch = {
		on_trigger = society_member_of

		secret_religious_society_catholic = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_catholic_community
						owned_by = PREV
					}

					religion = catholic
					remove_province_modifier = secret_catholic_community
				}
			}
		}

		secret_religious_society_cathar = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_cathar_community
						owned_by = PREV
					}

					religion = cathar
					remove_province_modifier = secret_cathar_community
				}
			}
		}

		secret_religious_society_fraticelli = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_fraticelli_community
						owned_by = PREV
					}

					religion = fraticelli
					remove_province_modifier = secret_fraticelli_community
				}
			}
		}

		secret_religious_society_waldensian = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_waldensian_community
						owned_by = PREV
					}

					religion = waldensian
					remove_province_modifier = secret_waldensian_community
				}
			}
		}

		secret_religious_society_lollard = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_lollard_community
						owned_by = PREV
					}

					religion = lollard
					remove_province_modifier = secret_lollard_community
				}
			}
		}

		secret_religious_society_orthodox = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_orthodox_community
						owned_by = PREV
					}

					religion = orthodox
					remove_province_modifier = secret_orthodox_community
				}
			}
		}

		secret_religious_society_miaphysite = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_miaphysite_community
						owned_by = PREV
					}

					religion = miaphysite
					remove_province_modifier = secret_miaphysite_community
				}
			}
		}

		secret_religious_society_monophysite = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_monophysite_community
						owned_by = PREV
					}

					religion = monophysite
					remove_province_modifier = secret_monophysite_community
				}
			}
		}

		secret_religious_society_bogomilist = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_bogomilist_community
						owned_by = PREV
					}

					religion = bogomilist
					remove_province_modifier = secret_bogomilist_community
				}
			}
		}

		secret_religious_society_monothelite = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_monothelite_community
						owned_by = PREV
					}

					religion = monothelite
					remove_province_modifier = secret_monothelite_community
				}
			}
		}

		secret_religious_society_iconoclast = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_iconoclast_community
						owned_by = PREV
					}

					religion = iconoclast
					remove_province_modifier = secret_iconoclast_community
				}
			}
		}

		secret_religious_society_paulician = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_paulician_community
						owned_by = PREV
					}

					religion = paulician
					remove_province_modifier = secret_paulician_community
				}
			}
		}

		secret_religious_society_nestorian = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_nestorian_community
						owned_by = PREV
					}

					religion = nestorian
					remove_province_modifier = secret_nestorian_community
				}
			}
		}

		secret_religious_society_messalian = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_messalian_community
						owned_by = PREV
					}

					religion = messalian
					remove_province_modifier = secret_messalian_community
				}
			}
		}

		secret_religious_society_sunni = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_sunni_community
						owned_by = PREV
					}

					religion = sunni
					remove_province_modifier = secret_sunni_community
				}
			}
		}

		secret_religious_society_zikri = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_zikri_community
						owned_by = PREV
					}

					religion = zikri
					remove_province_modifier = secret_zikri_community
				}
			}
		}

		secret_religious_society_yazidi = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_yazidi_community
						owned_by = PREV
					}

					religion = yazidi
					remove_province_modifier = secret_yazidi_community
				}
			}
		}

		secret_religious_society_ibadi = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_ibadi_community
						owned_by = PREV
					}

					religion = ibadi
					remove_province_modifier = secret_ibadi_community
				}
			}
		}

		secret_religious_society_kharijite = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_kharijite_community
						owned_by = PREV
					}

					religion = kharijite
					remove_province_modifier = secret_kharijite_community
				}
			}
		}

		secret_religious_society_shiite = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_shiite_community
						owned_by = PREV
					}

					religion = shiite
					remove_province_modifier = secret_shiite_community
				}
			}
		}

		secret_religious_society_druze = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_druze_community
						owned_by = PREV
					}

					religion = druze
					remove_province_modifier = secret_druze_community
				}
			}
		}

		secret_religious_society_hurufi = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_hurufi_community
						owned_by = PREV
					}

					religion = hurufi
					remove_province_modifier = secret_hurufi_community
				}
			}
		}

		secret_religious_society_qarmatian = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_qarmatian_community
						owned_by = PREV
					}

					religion = qarmatian
					remove_province_modifier = secret_qarmatian_community
				}
			}
		}

		secret_religious_society_jewish = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_jewish_community
						owned_by = PREV
					}

					religion = jewish
					remove_province_modifier = secret_jewish_community
				}
			}
		}

		secret_religious_society_karaite = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_karaite_community
						owned_by = PREV
					}

					religion = karaite
					remove_province_modifier = secret_karaite_community
				}
			}
		}

		secret_religious_society_samaritan = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_samaritan_community
						owned_by = PREV
					}

					religion = samaritan
					remove_province_modifier = secret_samaritan_community
				}
			}
		}

		secret_religious_society_zoroastrian = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_zoroastrian_community
						owned_by = PREV
					}

					religion = zoroastrian
					remove_province_modifier = secret_zoroastrian_community
				}
			}
		}

		secret_religious_society_mazdaki = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_mazdaki_community
						owned_by = PREV
					}

					religion = mazdaki
					remove_province_modifier = secret_mazdaki_community
				}
			}
		}

		secret_religious_society_manichaean = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_manichaean_community
						owned_by = PREV
					}

					religion = manichaean
					remove_province_modifier = secret_manichaean_community
				}
			}
		}

		secret_religious_society_khurmazta = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_khurmazta_community
						owned_by = PREV
					}

					religion = khurmazta
					remove_province_modifier = secret_khurmazta_community
				}
			}
		}

		secret_religious_society_bon_pagan = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_bon_pagan_community
						owned_by = PREV
					}

					religion = bon_pagan
					remove_province_modifier = secret_bon_pagan_community
				}
			}
		}

		secret_religious_society_bon_pagan_reformed = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_bon_pagan_reformed_community
						owned_by = PREV
					}

					religion = bon_pagan_reformed
					remove_province_modifier = secret_bon_pagan_reformed_community
				}
			}
		}

		secret_religious_society_hellenic_pagan = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_hellenic_pagan_community
						owned_by = PREV
					}

					religion = hellenic_pagan
					remove_province_modifier = secret_hellenic_pagan_community
				}
			}
		}

		secret_religious_society_hellenic_pagan_reformed = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_hellenic_pagan_reformed_community
						owned_by = PREV
					}

					religion = hellenic_pagan_reformed
					remove_province_modifier = secret_hellenic_pagan_reformed_community
				}
			}
		}

		secret_religious_society_taoist = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_taoist_community
						owned_by = PREV
					}

					religion = taoist
					remove_province_modifier = secret_taoist_community
				}
			}
		}

		secret_religious_society_hindu = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_hindu_community
						owned_by = PREV
					}

					religion = hindu
					remove_province_modifier = secret_hindu_community
				}
			}
		}

		secret_religious_society_buddhist = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_buddhist_community
						owned_by = PREV
					}

					religion = buddhist
					remove_province_modifier = secret_buddhist_community
				}
			}
		}

		secret_religious_society_jain = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_jain_community
						owned_by = PREV
					}

					religion = jain
					remove_province_modifier = secret_jain_community
				}
			}
		}

		secret_religious_society_norse_pagan_reformed = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_norse_pagan_reformed_community
						owned_by = PREV
					}

					religion = norse_pagan_reformed
					remove_province_modifier = secret_norse_pagan_reformed_community
				}
			}
		}

		secret_religious_society_norse_pagan = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_norse_pagan_community
						owned_by = PREV
					}

					religion = norse_pagan
					remove_province_modifier = secret_norse_pagan_community
				}
			}
		}

		secret_religious_society_slavic_pagan_reformed = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_slavic_pagan_reformed_community
						owned_by = PREV
					}

					religion = slavic_pagan_reformed
					remove_province_modifier = secret_slavic_pagan_reformed_community
				}
			}
		}

		secret_religious_society_slavic_pagan = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_slavic_pagan_community
						owned_by = PREV
					}

					religion = slavic_pagan
					remove_province_modifier = secret_slavic_pagan_community
				}
			}
		}

		secret_religious_society_tengri_pagan_reformed = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_tengri_pagan_reformed_community
						owned_by = PREV
					}

					religion = tengri_pagan_reformed
					remove_province_modifier = secret_tengri_pagan_reformed_community
				}
			}
		}

		secret_religious_society_tengri_pagan = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_tengri_pagan_community
						owned_by = PREV
					}

					religion = tengri_pagan
					remove_province_modifier = secret_tengri_pagan_community
				}
			}
		}

		secret_religious_society_baltic_pagan_reformed = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_baltic_pagan_reformed_community
						owned_by = PREV
					}

					religion = baltic_pagan_reformed
					remove_province_modifier = secret_baltic_pagan_reformed_community
				}
			}
		}

		secret_religious_society_baltic_pagan = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_baltic_pagan_community
						owned_by = PREV
					}

					religion = baltic_pagan
					remove_province_modifier = secret_baltic_pagan_community
				}
			}
		}

		secret_religious_society_finnish_pagan_reformed = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_finnish_pagan_reformed_community
						owned_by = PREV
					}

					religion = finnish_pagan_reformed
					remove_province_modifier = secret_finnish_pagan_reformed_community
				}
			}
		}

		secret_religious_society_finnish_pagan = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_finnish_pagan_community
						owned_by = PREV
					}

					religion = finnish_pagan
					remove_province_modifier = secret_finnish_pagan_community
				}
			}
		}

		secret_religious_society_west_african_pagan_reformed = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_west_african_pagan_reformed_community
						owned_by = PREV
					}

					religion = west_african_pagan_reformed
					remove_province_modifier = secret_west_african_pagan_reformed_community
				}
			}
		}

		secret_religious_society_west_african_pagan = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_west_african_pagan_community
						owned_by = PREV
					}

					religion = west_african_pagan
					remove_province_modifier = secret_west_african_pagan_community
				}
			}
		}

		secret_religious_society_zun_pagan_reformed = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_zun_pagan_reformed_community
						owned_by = PREV
					}

					religion = zun_pagan_reformed
					remove_province_modifier = secret_zun_pagan_reformed_community
				}
			}
		}

		secret_religious_society_zun_pagan = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_zun_pagan_community
						owned_by = PREV
					}

					religion = zun_pagan
					remove_province_modifier = secret_zun_pagan_community
				}
			}
		}

		secret_religious_society_aztec_pagan = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_aztec_pagan_community
						owned_by = PREV
					}

					religion = aztec_pagan
					remove_province_modifier = secret_aztec_pagan_community
				}
			}
		}

		secret_religious_society_aztec_pagan_reformed = {
			ROOT = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_aztec_pagan_reformed_community
						owned_by = PREV
					}

					religion = aztec_pagan_reformed
					remove_province_modifier = secret_aztec_pagan_reformed_community
				}
			}
		}
	}
}

flip_all_realm_secret_religious_community_provinces = {
	trigger_switch = {
		on_trigger = society_member_of

		secret_religious_society_catholic = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_catholic_community
						held_under_PREV = yes
					}

					religion = catholic
					remove_province_modifier = secret_catholic_community
				}
			}
		}

		secret_religious_society_cathar = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_cathar_community
						held_under_PREV = yes
					}

					religion = cathar
					remove_province_modifier = secret_cathar_community
				}
			}
		}

		secret_religious_society_fraticelli = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_fraticelli_community
						held_under_PREV = yes
					}

					religion = fraticelli
					remove_province_modifier = secret_fraticelli_community
				}
			}
		}

		secret_religious_society_waldensian = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_waldensian_community
						held_under_PREV = yes
					}

					religion = waldensian
					remove_province_modifier = secret_waldensian_community
				}
			}
		}

		secret_religious_society_lollard = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_lollard_community
						held_under_PREV = yes
					}

					religion = lollard
					remove_province_modifier = secret_lollard_community
				}
			}
		}

		secret_religious_society_orthodox = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_orthodox_community
						held_under_PREV = yes
					}

					religion = orthodox
					remove_province_modifier = secret_orthodox_community
				}
			}
		}

		secret_religious_society_miaphysite = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_miaphysite_community
						held_under_PREV = yes
					}

					religion = miaphysite
					remove_province_modifier = secret_miaphysite_community
				}
			}
		}

		secret_religious_society_monophysite = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_monophysite_community
						held_under_PREV = yes
					}

					religion = monophysite
					remove_province_modifier = secret_monophysite_community
				}
			}
		}

		secret_religious_society_bogomilist = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_bogomilist_community
						held_under_PREV = yes
					}

					religion = bogomilist
					remove_province_modifier = secret_bogomilist_community
				}
			}
		}

		secret_religious_society_monothelite = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_monothelite_community
						held_under_PREV = yes
					}

					religion = monothelite
					remove_province_modifier = secret_monothelite_community
				}
			}
		}

		secret_religious_society_iconoclast = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_iconoclast_community
						held_under_PREV = yes
					}

					religion = iconoclast
					remove_province_modifier = secret_iconoclast_community
				}
			}
		}

		secret_religious_society_paulician = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_paulician_community
						held_under_PREV = yes
					}

					religion = paulician
					remove_province_modifier = secret_paulician_community
				}
			}
		}

		secret_religious_society_nestorian = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_nestorian_community
						held_under_PREV = yes
					}

					religion = nestorian
					remove_province_modifier = secret_nestorian_community
				}
			}
		}

		secret_religious_society_messalian = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_messalian_community
						held_under_PREV = yes
					}

					religion = messalian
					remove_province_modifier = secret_messalian_community
				}
			}
		}

		secret_religious_society_sunni = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_sunni_community
						held_under_PREV = yes
					}

					religion = sunni
					remove_province_modifier = secret_sunni_community
				}
			}
		}

		secret_religious_society_zikri = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_zikri_community
						held_under_PREV = yes
					}

					religion = zikri
					remove_province_modifier = secret_zikri_community
				}
			}
		}

		secret_religious_society_yazidi = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_yazidi_community
						held_under_PREV = yes
					}

					religion = yazidi
					remove_province_modifier = secret_yazidi_community
				}
			}
		}

		secret_religious_society_ibadi = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_ibadi_community
						held_under_PREV = yes
					}

					religion = ibadi
					remove_province_modifier = secret_ibadi_community
				}
			}
		}

		secret_religious_society_kharijite = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_kharijite_community
						held_under_PREV = yes
					}

					religion = kharijite
					remove_province_modifier = secret_kharijite_community
				}
			}
		}

		secret_religious_society_shiite = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_shiite_community
						held_under_PREV = yes
					}

					religion = shiite
					remove_province_modifier = secret_shiite_community
				}
			}
		}

		secret_religious_society_druze = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_druze_community
						held_under_PREV = yes
					}

					religion = druze
					remove_province_modifier = secret_druze_community
				}
			}
		}

		secret_religious_society_hurufi = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_hurufi_community
						held_under_PREV = yes
					}

					religion = hurufi
					remove_province_modifier = secret_hurufi_community
				}
			}
		}

		secret_religious_society_qarmatian = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_qarmatian_community
						held_under_PREV = yes
					}

					religion = qarmatian
					remove_province_modifier = secret_qarmatian_community
				}
			}
		}

		secret_religious_society_jewish = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_jewish_community
						held_under_PREV = yes
					}

					religion = jewish
					remove_province_modifier = secret_jewish_community
				}
			}
		}

		secret_religious_society_karaite = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_karaite_community
						held_under_PREV = yes
					}

					religion = karaite
					remove_province_modifier = secret_karaite_community
				}
			}
		}

		secret_religious_society_samaritan = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_samaritan_community
						held_under_PREV = yes
					}

					religion = samaritan
					remove_province_modifier = secret_samaritan_community
				}
			}
		}

		secret_religious_society_zoroastrian = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_zoroastrian_community
						held_under_PREV = yes
					}

					religion = zoroastrian
					remove_province_modifier = secret_zoroastrian_community
				}
			}
		}

		secret_religious_society_mazdaki = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_mazdaki_community
						held_under_PREV = yes
					}

					religion = mazdaki
					remove_province_modifier = secret_mazdaki_community
				}
			}
		}

		secret_religious_society_manichaean = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_manichaean_community
						held_under_PREV = yes
					}

					religion = manichaean
					remove_province_modifier = secret_manichaean_community
				}
			}
		}

		secret_religious_society_khurmazta = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_khurmazta_community
						held_under_PREV = yes
					}

					religion = khurmazta
					remove_province_modifier = secret_khurmazta_community
				}
			}
		}

		secret_religious_society_bon_pagan = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_bon_pagan_community
						held_under_PREV = yes
					}

					religion = bon_pagan
					remove_province_modifier = secret_bon_pagan_community
				}
			}
		}

		secret_religious_society_bon_pagan_reformed = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_bon_pagan_reformed_community
						held_under_PREV = yes
					}

					religion = bon_pagan_reformed
					remove_province_modifier = secret_bon_pagan_reformed_community
				}
			}
		}

		secret_religious_society_hellenic_pagan = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_hellenic_pagan_community
						held_under_PREV = yes
					}

					religion = hellenic_pagan
					remove_province_modifier = secret_hellenic_pagan_community
				}
			}
		}

		secret_religious_society_hellenic_pagan_reformed = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_hellenic_pagan_reformed_community
						held_under_PREV = yes
					}

					religion = hellenic_pagan_reformed
					remove_province_modifier = secret_hellenic_pagan_reformed_community
				}
			}
		}

		secret_religious_society_taoist = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_taoist_community
						held_under_PREV = yes
					}

					religion = taoist
					remove_province_modifier = secret_taoist_community
				}
			}
		}

		secret_religious_society_hindu = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_hindu_community
						held_under_PREV = yes
					}

					religion = hindu
					remove_province_modifier = secret_hindu_community
				}
			}
		}

		secret_religious_society_buddhist = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_buddhist_community
						held_under_PREV = yes
					}

					religion = buddhist
					remove_province_modifier = secret_buddhist_community
				}
			}
		}

		secret_religious_society_jain = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_jain_community
						held_under_PREV = yes
					}

					religion = jain
					remove_province_modifier = secret_jain_community
				}
			}
		}

		secret_religious_society_norse_pagan_reformed = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_norse_pagan_reformed_community
						held_under_PREV = yes
					}

					religion = norse_pagan_reformed
					remove_province_modifier = secret_norse_pagan_reformed_community
				}
			}
		}

		secret_religious_society_norse_pagan = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_norse_pagan_community
						held_under_PREV = yes
					}

					religion = norse_pagan
					remove_province_modifier = secret_norse_pagan_community
				}
			}
		}

		secret_religious_society_slavic_pagan_reformed = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_slavic_pagan_reformed_community
						held_under_PREV = yes
					}

					religion = slavic_pagan_reformed
					remove_province_modifier = secret_slavic_pagan_reformed_community
				}
			}
		}

		secret_religious_society_slavic_pagan = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_slavic_pagan_community
						held_under_PREV = yes
					}

					religion = slavic_pagan
					remove_province_modifier = secret_slavic_pagan_community
				}
			}
		}

		secret_religious_society_tengri_pagan_reformed = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_tengri_pagan_reformed_community
						held_under_PREV = yes
					}

					religion = tengri_pagan_reformed
					remove_province_modifier = secret_tengri_pagan_reformed_community
				}
			}
		}

		secret_religious_society_tengri_pagan = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_tengri_pagan_community
						held_under_PREV = yes
					}

					religion = tengri_pagan
					remove_province_modifier = secret_tengri_pagan_community
				}
			}
		}

		secret_religious_society_baltic_pagan_reformed = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_baltic_pagan_reformed_community
						held_under_PREV = yes
					}

					religion = baltic_pagan_reformed
					remove_province_modifier = secret_baltic_pagan_reformed_community
				}
			}
		}

		secret_religious_society_baltic_pagan = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_baltic_pagan_community
						held_under_PREV = yes
					}

					religion = baltic_pagan
					remove_province_modifier = secret_baltic_pagan_community
				}
			}
		}

		secret_religious_society_finnish_pagan_reformed = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_finnish_pagan_reformed_community
						held_under_PREV = yes
					}

					religion = finnish_pagan_reformed
					remove_province_modifier = secret_finnish_pagan_reformed_community
				}
			}
		}

		secret_religious_society_finnish_pagan = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_finnish_pagan_community
						held_under_PREV = yes
					}

					religion = finnish_pagan
					remove_province_modifier = secret_finnish_pagan_community
				}
			}
		}

		secret_religious_society_west_african_pagan_reformed = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_west_african_pagan_reformed_community
						held_under_PREV = yes
					}

					religion = west_african_pagan_reformed
					remove_province_modifier = secret_west_african_pagan_reformed_community
				}
			}
		}

		secret_religious_society_west_african_pagan = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_west_african_pagan_community
						held_under_PREV = yes
					}

					religion = west_african_pagan
					remove_province_modifier = secret_west_african_pagan_community
				}
			}
		}

		secret_religious_society_zun_pagan_reformed = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_zun_pagan_reformed_community
						held_under_PREV = yes
					}

					religion = zun_pagan_reformed
					remove_province_modifier = secret_zun_pagan_reformed_community
				}
			}
		}

		secret_religious_society_zun_pagan = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_zun_pagan_community
						held_under_PREV = yes
					}

					religion = zun_pagan
					remove_province_modifier = secret_zun_pagan_community
				}
			}
		}

		secret_religious_society_aztec_pagan = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_aztec_pagan_community
						held_under_PREV = yes
					}

					religion = aztec_pagan
					remove_province_modifier = secret_aztec_pagan_community
				}
			}
		}

		secret_religious_society_aztec_pagan_reformed = {
			top_liege = {
				any_realm_province = {
					limit = {
						has_province_modifier = secret_aztec_pagan_reformed_community
						held_under_PREV = yes
					}

					religion = aztec_pagan_reformed
					remove_province_modifier = secret_aztec_pagan_reformed_community
				}
			}
		}
	}
}

# TODO: Rework with persistent_event_target (religion scope)
root_secret_religion_provinces_convert_effect = {
	ROOT = {
		trigger_switch = {
			on_trigger = society_member_of

			secret_religious_society_catholic = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_catholic_community
							owned_by = PREV
						}

						religion = catholic
						remove_province_modifier = secret_catholic_community
					}
				}
			}

			secret_religious_society_cathar = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_cathar_community
							owned_by = PREV
						}

						religion = cathar
						remove_province_modifier = secret_cathar_community
					}
				}
			}

			secret_religious_society_fraticelli = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_fraticelli_community
							owned_by = PREV
						}

						religion = fraticelli
						remove_province_modifier = secret_fraticelli_community
					}
				}
			}

			secret_religious_society_waldensian = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_waldensian_community
							owned_by = PREV
						}

						religion = waldensian
						remove_province_modifier = secret_waldensian_community
					}
				}
			}

			secret_religious_society_lollard = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_lollard_community
							owned_by = PREV
						}

						religion = lollard
						remove_province_modifier = secret_lollard_community
					}
				}
			}

			secret_religious_society_orthodox = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_orthodox_community
							owned_by = PREV
						}

						religion = orthodox
						remove_province_modifier = secret_orthodox_community
					}
				}
			}

			secret_religious_society_miaphysite = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_miaphysite_community
							owned_by = PREV
						}

						religion = miaphysite
						remove_province_modifier = secret_miaphysite_community
					}
				}
			}

			secret_religious_society_monophysite = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_monophysite_community
							owned_by = PREV
						}

						religion = monophysite
						remove_province_modifier = secret_monophysite_community
					}
				}
			}

			secret_religious_society_bogomilist = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_bogomilist_community
							owned_by = PREV
						}

						religion = bogomilist
						remove_province_modifier = secret_bogomilist_community
					}
				}
			}

			secret_religious_society_monothelite = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_monothelite_community
							owned_by = PREV
						}

						religion = monothelite
						remove_province_modifier = secret_monothelite_community
					}
				}
			}

			secret_religious_society_iconoclast = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_iconoclast_community
							owned_by = PREV
						}

						religion = iconoclast
						remove_province_modifier = secret_iconoclast_community
					}
				}
			}

			secret_religious_society_paulician = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_paulician_community
							owned_by = PREV
						}

						religion = paulician
						remove_province_modifier = secret_paulician_community
					}
				}
			}

			secret_religious_society_nestorian = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_nestorian_community
							owned_by = PREV
						}

						religion = nestorian
						remove_province_modifier = secret_nestorian_community
					}
				}
			}

			secret_religious_society_messalian = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_messalian_community
							owned_by = PREV
						}

						religion = messalian
						remove_province_modifier = secret_messalian_community
					}
				}
			}

			secret_religious_society_sunni = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_sunni_community
							owned_by = PREV
						}

						religion = sunni
						remove_province_modifier = secret_sunni_community
					}
				}
			}

			secret_religious_society_zikri = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_zikri_community
							owned_by = PREV
						}

						religion = zikri
						remove_province_modifier = secret_zikri_community
					}
				}
			}

			secret_religious_society_yazidi = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_yazidi_community
							owned_by = PREV
						}

						religion = yazidi
						remove_province_modifier = secret_yazidi_community
					}
				}
			}

			secret_religious_society_ibadi = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_ibadi_community
							owned_by = PREV
						}

						religion = ibadi
						remove_province_modifier = secret_ibadi_community
					}
				}
			}

			secret_religious_society_kharijite = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_kharijite_community
							owned_by = PREV
						}

						religion = kharijite
						remove_province_modifier = secret_kharijite_community
					}
				}
			}

			secret_religious_society_shiite = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_shiite_community
							owned_by = PREV
						}

						religion = shiite
						remove_province_modifier = secret_shiite_community
					}
				}
			}

			secret_religious_society_druze = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_druze_community
							owned_by = PREV
						}

						religion = druze
						remove_province_modifier = secret_druze_community
					}
				}
			}

			secret_religious_society_hurufi = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_hurufi_community
							owned_by = PREV
						}

						religion = hurufi
						remove_province_modifier = secret_hurufi_community
					}
				}
			}

			secret_religious_society_qarmatian = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_qarmatian_community
							owned_by = PREV
						}

						religion = qarmatian
						remove_province_modifier = secret_qarmatian_community
					}
				}
			}

			secret_religious_society_aztec_pagan = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_aztec_pagan_community
							owned_by = PREV
						}

						religion = aztec_pagan
						remove_province_modifier = secret_aztec_pagan_community
					}
				}
			}

			secret_religious_society_aztec_pagan_reformed = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_aztec_pagan_reformed_community
							owned_by = PREV
						}

						religion = aztec_pagan_reformed
						remove_province_modifier = secret_aztec_pagan_reformed_community
					}
				}
			}

			secret_religious_society_jewish = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_jewish_community
							owned_by = PREV
						}

						religion = jewish
						remove_province_modifier = secret_jewish_community
					}
				}
			}

			secret_religious_society_samaritan = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_samaritan_community
							owned_by = PREV
						}

						religion = samaritan
						remove_province_modifier = secret_samaritan_community
					}
				}
			}

			secret_religious_society_karaite = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_karaite_community
							owned_by = PREV
						}

						religion = karaite
						remove_province_modifier = secret_karaite_community
					}
				}
			}

			secret_religious_society_zoroastrian = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_zoroastrian_community
							owned_by = PREV
						}

						religion = zoroastrian
						remove_province_modifier = secret_zoroastrian_community
					}
				}
			}

			secret_religious_society_mazdaki = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_mazdaki_community
							owned_by = PREV
						}

						religion = mazdaki
						remove_province_modifier = secret_mazdaki_community
					}
				}
			}

			secret_religious_society_manichaean = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_manichaean_community
							owned_by = PREV
						}

						religion = manichaean
						remove_province_modifier = secret_manichaean_community
					}
				}
			}

			secret_religious_society_khurmazta = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_khurmazta_community
							owned_by = PREV
						}

						religion = khurmazta
						remove_province_modifier = secret_khurmazta_community
					}
				}
			}

			secret_religious_society_bon_pagan = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_bon_pagan_community
							owned_by = PREV
						}

						religion = bon_pagan
						remove_province_modifier = secret_bon_pagan_community
					}
				}
			}

			secret_religious_society_bon_pagan_reformed = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_bon_pagan_reformed_community
							owned_by = PREV
						}

						religion = bon_pagan_reformed
						remove_province_modifier = secret_bon_pagan_reformed_community
					}
				}
			}

			secret_religious_society_hellenic_pagan = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_hellenic_pagan_community
							owned_by = PREV
						}

						religion = hellenic_pagan
						remove_province_modifier = secret_hellenic_pagan_community
					}
				}
			}

			secret_religious_society_hellenic_pagan_reformed = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_hellenic_pagan_reformed_community
							owned_by = PREV
						}

						religion = hellenic_pagan_reformed
						remove_province_modifier = secret_hellenic_pagan_reformed_community
					}
				}
			}

			secret_religious_society_taoist = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_taoist_community
							owned_by = PREV
						}

						religion = taoist
						remove_province_modifier = secret_taoist_community
					}
				}
			}

			secret_religious_society_hindu = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_hindu_community
							owned_by = PREV
						}

						religion = hindu
						remove_province_modifier = secret_hindu_community
					}
				}
			}

			secret_religious_society_buddhist = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_buddhist_community
							owned_by = PREV
						}

						religion = buddhist
						remove_province_modifier = secret_buddhist_community
					}
				}
			}

			secret_religious_society_jain = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_jain_community
							owned_by = PREV
						}

						religion = jain
						remove_province_modifier = secret_jain_community
					}
				}
			}

			secret_religious_society_norse_pagan_reformed = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_norse_pagan_reformed_community
							owned_by = PREV
						}

						religion = norse_pagan_reformed
						remove_province_modifier = secret_norse_pagan_reformed_community
					}
				}
			}

			secret_religious_society_norse_pagan = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_norse_pagan_community
							owned_by = PREV
						}

						religion = norse_pagan
						remove_province_modifier = secret_norse_pagan_community
					}
				}
			}

			secret_religious_society_slavic_pagan_reformed = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_slavic_pagan_reformed_community
							owned_by = PREV
						}

						religion = slavic_pagan_reformed
						remove_province_modifier = secret_slavic_pagan_reformed_community
					}
				}
			}

			secret_religious_society_slavic_pagan = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_slavic_pagan_community
							owned_by = PREV
						}

						religion = slavic_pagan
						remove_province_modifier = secret_slavic_pagan_community
					}
				}
			}

			secret_religious_society_tengri_pagan_reformed = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_tengri_pagan_reformed_community
							owned_by = PREV
						}

						religion = tengri_pagan_reformed
						remove_province_modifier = secret_tengri_pagan_reformed_community
					}
				}
			}

			secret_religious_society_tengri_pagan = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_tengri_pagan_community
							owned_by = PREV
						}

						religion = tengri_pagan
						remove_province_modifier = secret_tengri_pagan_community
					}
				}
			}

			secret_religious_society_baltic_pagan_reformed = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_baltic_pagan_reformed_community
							owned_by = PREV
						}

						religion = baltic_pagan_reformed
						remove_province_modifier = secret_baltic_pagan_reformed_community
					}
				}
			}

			secret_religious_society_baltic_pagan = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_baltic_pagan_community
							owned_by = PREV
						}

						religion = baltic_pagan
						remove_province_modifier = secret_baltic_pagan_community
					}
				}
			}

			secret_religious_society_finnish_pagan_reformed = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_finnish_pagan_reformed_community
							owned_by = PREV
						}

						religion = finnish_pagan_reformed
						remove_province_modifier = secret_finnish_pagan_reformed_community
					}
				}
			}

			secret_religious_society_finnish_pagan = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_finnish_pagan_community
							owned_by = PREV
						}

						religion = finnish_pagan
						remove_province_modifier = secret_finnish_pagan_community
					}
				}
			}

			secret_religious_society_west_african_pagan_reformed = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_west_african_pagan_reformed_community
							owned_by = PREV
						}

						religion = west_african_pagan_reformed
						remove_province_modifier = secret_west_african_pagan_reformed_community
					}
				}
			}

			secret_religious_society_west_african_pagan = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_west_african_pagan_community
							owned_by = PREV
						}

						religion = west_african_pagan
						remove_province_modifier = secret_west_african_pagan_community
					}
				}
			}

			secret_religious_society_zun_pagan_reformed = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_zun_pagan_reformed_community
							owned_by = PREV
						}

						religion = zun_pagan_reformed
						remove_province_modifier = secret_zun_pagan_reformed_community
					}
				}
			}

			secret_religious_society_zun_pagan = {
				PREV = {
					any_demesne_province = {
						limit = {
							has_province_modifier = secret_zun_pagan_community
							owned_by = PREV
						}

						religion = zun_pagan
						remove_province_modifier = secret_zun_pagan_community
					}
				}
			}
		}
	}
}

flip_this_owned_secret_religious_community_provinces = {
	trigger_switch = {
		on_trigger = religion

		catholic = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_catholic_community
					owned_by = PREV
				}

				religion = catholic
				remove_province_modifier = secret_catholic_community
			}
		}

		cathar = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_cathar_community
					owned_by = PREV
				}

				religion = cathar
				remove_province_modifier = secret_cathar_community
			}
		}

		fraticelli = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_fraticelli_community
					owned_by = PREV
				}

				religion = fraticelli
				remove_province_modifier = secret_fraticelli_community
			}
		}

		waldensian = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_waldensian_community
					owned_by = PREV
				}

				religion = waldensian
				remove_province_modifier = secret_waldensian_community
			}
		}

		lollard = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_lollard_community
					owned_by = PREV
				}

				religion = lollard
				remove_province_modifier = secret_lollard_community
			}
		}

		orthodox = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_orthodox_community
					owned_by = PREV
				}

				religion = orthodox
				remove_province_modifier = secret_orthodox_community
			}
		}

		miaphysite = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_miaphysite_community
					owned_by = PREV
				}

				religion = miaphysite

				remove_province_modifier = secret_miaphysite_community
			}
		}

		monophysite = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_monophysite_community
					owned_by = PREV
				}

				religion = monophysite
				remove_province_modifier = secret_monophysite_community
			}
		}

		bogomilist = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_bogomilist_community
					owned_by = PREV
				}

				religion = bogomilist
				remove_province_modifier = secret_bogomilist_community
			}
		}

		monothelite = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_monothelite_community
					owned_by = PREV
				}

				religion = monothelite
				remove_province_modifier = secret_monothelite_community
			}
		}

		iconoclast = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_iconoclast_community
					owned_by = PREV
				}

				religion = iconoclast
				remove_province_modifier = secret_iconoclast_community
			}
		}

		paulician = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_paulician_community
					owned_by = PREV
				}

				religion = paulician
				remove_province_modifier = secret_paulician_community
			}
		}

		nestorian = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_nestorian_community
					owned_by = PREV
				}

				religion = nestorian
				remove_province_modifier = secret_nestorian_community
			}
		}

		messalian = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_messalian_community
					owned_by = PREV
				}

				religion = messalian
				remove_province_modifier = secret_messalian_community
			}
		}

		sunni = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_sunni_community
					owned_by = PREV
				}

				religion = sunni
				remove_province_modifier = secret_sunni_community
			}
		}

		zikri = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_zikri_community
					owned_by = PREV
				}

				religion = zikri
				remove_province_modifier = secret_zikri_community
			}
		}

		yazidi = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_yazidi_community
					owned_by = PREV
				}

				religion = yazidi
				remove_province_modifier = secret_yazidi_community
			}
		}

		ibadi = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_ibadi_community
					owned_by = PREV
				}

				religion = ibadi
				remove_province_modifier = secret_ibadi_community
			}
		}

		kharijite = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_kharijite_community
					owned_by = PREV
				}

				religion = kharijite
				remove_province_modifier = secret_kharijite_community
			}
		}

		shiite = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_shiite_community
					owned_by = PREV
				}

				religion = shiite
				remove_province_modifier = secret_shiite_community
			}
		}

		druze = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_druze_community
					owned_by = PREV
				}

				religion = druze
				remove_province_modifier = secret_druze_community
			}
		}

		hurufi = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_hurufi_community
					owned_by = PREV
				}

				religion = hurufi
				remove_province_modifier = secret_hurufi_community
			}
		}

		qarmatian = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_qarmatian_community
					owned_by = PREV
				}

				religion = qarmatian
				remove_province_modifier = secret_qarmatian_community
			}
		}

		aztec_pagan = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_aztec_pagan_community
					owned_by = PREV
				}

				religion = aztec_pagan
				remove_province_modifier = secret_aztec_pagan_community
			}
		}

		aztec_pagan_reformed = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_aztec_pagan_reformed_community
					owned_by = PREV
				}

				religion = aztec_pagan_reformed
				remove_province_modifier = secret_aztec_pagan_reformed_community
			}
		}

		jewish = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_jewish_community
					owned_by = PREV
				}

				religion = jewish
				remove_province_modifier = secret_jewish_community
			}
		}

		samaritan = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_samaritan_community
					owned_by = PREV
				}

				religion = samaritan
				remove_province_modifier = secret_samaritan_community
			}
		}

		karaite = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_karaite_community
					owned_by = PREV
				}

				religion = karaite
				remove_province_modifier = secret_karaite_community
			}
		}

		zoroastrian = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_zoroastrian_community
					owned_by = PREV
				}

				religion = zoroastrian
				remove_province_modifier = secret_zoroastrian_community
			}
		}

		mazdaki = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_mazdaki_community
					owned_by = PREV
				}

				religion = mazdaki
				remove_province_modifier = secret_mazdaki_community
			}
		}

		manichaean = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_manichaean_community
					owned_by = PREV
				}

				religion = manichaean
				remove_province_modifier = secret_manichaean_community
			}
		}

		khurmazta = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_khurmazta_community
					owned_by = PREV
				}

				religion = khurmazta
				remove_province_modifier = secret_khurmazta_community
			}
		}

		bon_pagan = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_bon_pagan_community
					owned_by = PREV
				}

				religion = bon_pagan
				remove_province_modifier = secret_bon_pagan_community
			}
		}

		bon_pagan_reformed = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_bon_pagan_reformed_community
					owned_by = PREV
				}

				religion = bon_pagan_reformed
				remove_province_modifier = secret_bon_pagan_reformed_community
			}
		}

		hellenic_pagan = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_hellenic_pagan_community
					owned_by = PREV
				}

				religion = hellenic_pagan
				remove_province_modifier = secret_hellenic_pagan_community
			}
		}

		hellenic_pagan_reformed = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_hellenic_pagan_reformed_community
					owned_by = PREV
				}

				religion = hellenic_pagan_reformed
				remove_province_modifier = secret_hellenic_pagan_reformed_community
			}
		}

		taoist = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_taoist_community
					owned_by = PREV
				}

				religion = taoist
				remove_province_modifier = secret_taoist_community
			}
		}

		hindu = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_hindu_community
					owned_by = PREV
				}

				religion = hindu
				remove_province_modifier = secret_hindu_community
			}
		}

		buddhist = {
			any_demesne_province = {
				show_scope_change = no
				limit = {
					has_province_modifier = secret_buddhist_community
					owned_by = PREV
				}

				religion = buddhist
				remove_province_modifier = secret_buddhist_community
			}
		}

		jain = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_jain_community
					owned_by = PREV
				}

				religion = jain
				remove_province_modifier = secret_jain_community
			}
		}

		norse_pagan_reformed = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_norse_pagan_reformed_community
					owned_by = PREV
				}

				religion = norse_pagan_reformed
				remove_province_modifier = secret_norse_pagan_reformed_community
			}
		}

		norse_pagan = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_norse_pagan_community
					owned_by = PREV
				}

				religion = norse_pagan
				remove_province_modifier = secret_norse_pagan_community
			}
		}

		baltic_pagan_reformed = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_baltic_pagan_reformed_community
					owned_by = PREV
				}

				religion = baltic_pagan_reformed
				remove_province_modifier = secret_baltic_pagan_reformed_community
			}
		}

		baltic_pagan = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_baltic_pagan_community
					owned_by = PREV
				}

				religion = baltic_pagan
				remove_province_modifier = secret_baltic_pagan_community
			}
		}

		finnish_pagan_reformed = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_finnish_pagan_reformed_community
					owned_by = PREV
				}

				religion = finnish_pagan_reformed
				remove_province_modifier = secret_finnish_pagan_reformed_community
			}
		}

		finnish_pagan = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_finnish_pagan_community
					owned_by = PREV
				}

				religion = finnish_pagan
				remove_province_modifier = secret_finnish_pagan_community
			}
		}

		slavic_pagan_reformed = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_slavic_pagan_reformed_community
					owned_by = PREV
				}

				religion = slavic_pagan_reformed
				remove_province_modifier = secret_slavic_pagan_reformed_community
			}
		}

		slavic_pagan = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_slavic_pagan_community
					owned_by = PREV
				}

				religion = slavic_pagan
				remove_province_modifier = secret_slavic_pagan_community
			}
		}

		tengri_pagan_reformed = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_tengri_pagan_reformed_community
					owned_by = PREV
				}

				religion = tengri_pagan_reformed
				remove_province_modifier = secret_tengri_pagan_reformed_community
			}
		}

		tengri_pagan = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_tengri_pagan_community
					owned_by = PREV
				}

				religion = tengri_pagan
				remove_province_modifier = secret_tengri_pagan_community
			}
		}

		west_african_pagan_reformed = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_west_african_pagan_reformed_community
					owned_by = PREV
				}

				religion = west_african_pagan_reformed
				remove_province_modifier = secret_west_african_pagan_reformed_community
			}
		}

		west_african_pagan = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_west_african_pagan_community
					owned_by = PREV
				}

				religion = west_african_pagan
				remove_province_modifier = secret_west_african_pagan_community
			}
		}

		zun_pagan_reformed = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_zun_pagan_reformed_community
					owned_by = PREV
				}

				religion = zun_pagan_reformed
				remove_province_modifier = secret_zun_pagan_reformed_community
			}
		}

		zun_pagan = {
			any_demesne_province = {
				show_scope_change = no

				limit = {
					has_province_modifier = secret_zun_pagan_community
					owned_by = PREV
				}

				religion = zun_pagan
				remove_province_modifier = secret_zun_pagan_community
			}
		}
	}
}

display_provinces_flipping_setup_effect = {
	FROM = {
		trigger_switch = {
			on_trigger = society_member_of

			secret_religious_society_catholic = {
				ROOT = { set_character_flag = sr_catholic_prov_flip }
			}
			secret_religious_society_cathar = {
				ROOT = { set_character_flag = sr_cathar_prov_flip }
			}
			secret_religious_society_fraticelli = {
				ROOT = { set_character_flag = sr_fraticelli_prov_flip }
			}
			secret_religious_society_waldensian = {
				ROOT = { set_character_flag = sr_waldensian_prov_flip }
			}
			secret_religious_society_lollard = {
				ROOT = { set_character_flag = sr_lollard_prov_flip }
			}
			secret_religious_society_orthodox = {
				ROOT = { set_character_flag = sr_orthodox_prov_flip }
			}
			secret_religious_society_miaphysite = {
				ROOT = { set_character_flag = sr_miaphysite_prov_flip }
			}
			secret_religious_society_monophysite = {
				ROOT = { set_character_flag = sr_monophysite_prov_flip }
			}
			secret_religious_society_bogomilist = {
				ROOT = { set_character_flag = sr_bogomilist_prov_flip }
			}
			secret_religious_society_monothelite = {
				ROOT = { set_character_flag = sr_monothelite_prov_flip }
			}
			secret_religious_society_iconoclast = {
				ROOT = { set_character_flag = sr_iconoclast_prov_flip }
			}
			secret_religious_society_paulician = {
				ROOT = { set_character_flag = sr_paulician_prov_flip }
			}
			secret_religious_society_nestorian = {
				ROOT = { set_character_flag = sr_nestorian_prov_flip }
			}
			secret_religious_society_messalian = {
				ROOT = { set_character_flag = sr_messalian_prov_flip }
			}
			secret_religious_society_sunni = {
				ROOT = { set_character_flag = sr_sunni_prov_flip }
			}
			secret_religious_society_zikri = {
				ROOT = { set_character_flag = sr_zikri_prov_flip }
			}
			secret_religious_society_yazidi = {
				ROOT = { set_character_flag = sr_yazidi_prov_flip }
			}
			secret_religious_society_ibadi = {
				ROOT = { set_character_flag = sr_ibadi_prov_flip }
			}
			secret_religious_society_kharijite = {
				ROOT = { set_character_flag = sr_kharijite_prov_flip }
			}
			secret_religious_society_shiite = {
				ROOT = { set_character_flag = sr_shiite_prov_flip }
			}
			secret_religious_society_druze = {
				ROOT = { set_character_flag = sr_druze_prov_flip }
			}
			secret_religious_society_hurufi = {
				ROOT = { set_character_flag = sr_hurufi_prov_flip }
			}
			secret_religious_society_qarmatian = {
				ROOT = { set_character_flag = sr_qarmatian_prov_flip }
			}
			secret_religious_society_jewish = {
				ROOT = { set_character_flag = sr_jewish_prov_flip }
			}
			secret_religious_society_karaite = {
				ROOT = { set_character_flag = sr_karaite_prov_flip }
			}
			secret_religious_society_samaritan = {
				ROOT = { set_character_flag = sr_samaritan_prov_flip }
			}
			secret_religious_society_zoroastrian = {
				ROOT = { set_character_flag = sr_zoroastrian_prov_flip }
			}
			secret_religious_society_mazdaki = {
				ROOT = { set_character_flag = sr_mazdaki_prov_flip }
			}
			secret_religious_society_manichaean = {
				ROOT = { set_character_flag = sr_manichaean_prov_flip }
			}
			secret_religious_society_khurmazta = {
				ROOT = { set_character_flag = sr_khurmazta_prov_flip }
			}
			secret_religious_society_bon_pagan = {
				ROOT = { set_character_flag = sr_bon_pagan_prov_flip }
			}
			secret_religious_society_bon_pagan_reformed = {
				ROOT = { set_character_flag = sr_bon_pagan_reformed_prov_flip }
			}
			secret_religious_society_hellenic_pagan = {
				ROOT = { set_character_flag = sr_hellenic_pagan_prov_flip }
			}
			secret_religious_society_hellenic_pagan_reformed = {
				ROOT = { set_character_flag = sr_hellenic_pagan_reformed_prov_flip }
			}
			secret_religious_society_taoist = {
				ROOT = { set_character_flag = sr_taoist_prov_flip }
			}
			secret_religious_society_hindu = {
				ROOT = { set_character_flag = sr_hindu_prov_flip }
			}
			secret_religious_society_buddhist = {
				ROOT = { set_character_flag = sr_buddhist_prov_flip }
			}
			secret_religious_society_jain = {
				ROOT = { set_character_flag = sr_jain_prov_flip }
			}
			secret_religious_society_norse_pagan_reformed = {
				ROOT = { set_character_flag = sr_norse_pagan_reformed_prov_flip }
			}
			secret_religious_society_slavic_pagan_reformed = {
				ROOT = { set_character_flag = sr_slavic_pagan_reformed_prov_flip }
			}
			secret_religious_society_tengri_pagan_reformed = {
				ROOT = { set_character_flag = sr_tengri_pagan_reformed_prov_flip }
			}
			secret_religious_society_baltic_pagan_reformed = {
				ROOT = { set_character_flag = sr_baltic_pagan_reformed_prov_flip }
			}
			secret_religious_society_finnish_pagan_reformed = {
				ROOT = { set_character_flag = sr_finnish_pagan_reformed_prov_flip }
			}
			secret_religious_society_west_african_pagan_reformed = {
				ROOT = { set_character_flag = sr_west_african_pagan_reformed_prov_flip }
			}
			secret_religious_society_zun_pagan_reformed = {
				ROOT = { set_character_flag = sr_zun_pagan_reformed_prov_flip }
			}
			secret_religious_society_norse_pagan = {
				ROOT = { set_character_flag = sr_norse_pagan_prov_flip }
			}
			secret_religious_society_slavic_pagan = {
				ROOT = { set_character_flag = sr_slavic_pagan_prov_flip }
			}
			secret_religious_society_tengri_pagan = {
				ROOT = { set_character_flag = sr_tengri_pagan_prov_flip }
			}
			secret_religious_society_baltic_pagan = {
				ROOT = { set_character_flag = sr_baltic_pagan_prov_flip }
			}
			secret_religious_society_finnish_pagan = {
				ROOT = { set_character_flag = sr_finnish_pagan_prov_flip }
			}
			secret_religious_society_west_african_pagan = {
				ROOT = { set_character_flag = sr_west_african_pagan_prov_flip }
			}
			secret_religious_society_zun_pagan = {
				ROOT = { set_character_flag = sr_zun_pagan_prov_flip }
			}
			secret_religious_society_aztec_pagan = {
				ROOT = { set_character_flag = sr_aztec_pagan_prov_flip }
			}
			secret_religious_society_aztec_pagan_reformed = {
				ROOT = { set_character_flag = sr_aztec_pagan_reformed_prov_flip }
			}
		}
	}
}

display_provinces_flipping_effect = {
	tooltip = {
		trigger_switch = {
			on_trigger = has_character_flag

			sr_catholic_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_catholic_community
						owned_by = PREV
					}

					religion = catholic
					remove_province_modifier = secret_catholic_community
				}
			}
			sr_cathar_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_cathar_community
						owned_by = PREV
					}

					religion = cathar
					remove_province_modifier = secret_cathar_community
				}
			}
			sr_fraticelli_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_fraticelli_community
						owned_by = PREV
					}

					religion = fraticelli
					remove_province_modifier = secret_fraticelli_community
				}
			}
			sr_waldensian_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_waldensian_community
						owned_by = PREV
					}

					religion = waldensian
					remove_province_modifier = secret_waldensian_community
				}
			}
			sr_lollard_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_lollard_community
						owned_by = PREV
					}

					religion = lollard
					remove_province_modifier = secret_lollard_community
				}
			}
			sr_orthodox_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_orthodox_community
						owned_by = PREV
					}

					religion = orthodox
					remove_province_modifier = secret_orthodox_community
				}
			}
			sr_miaphysite_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_miaphysite_community
						owned_by = PREV
					}

					religion = miaphysite
					remove_province_modifier = secret_miaphysite_community
				}
			}
			sr_monophysite_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_monophysite_community
						owned_by = PREV
					}

					religion = monophysite
					remove_province_modifier = secret_monophysite_community
				}
			}
			sr_bogomilist_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_bogomilist_community
						owned_by = PREV
					}

					religion = bogomilist
					remove_province_modifier = secret_bogomilist_community
				}
			}
			sr_monothelite_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_monothelite_community
						owned_by = PREV
					}

					religion = monothelite
					remove_province_modifier = secret_monothelite_community
				}
			}
			sr_iconoclast_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_iconoclast_community
						owned_by = PREV
					}

					religion = iconoclast
					remove_province_modifier = secret_iconoclast_community
				}
			}
			sr_paulician_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_paulician_community
						owned_by = PREV
					}

					religion = paulician
					remove_province_modifier = secret_paulician_community
				}
			}
			sr_nestorian_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_nestorian_community
						owned_by = PREV
					}

					religion = nestorian
					remove_province_modifier = secret_nestorian_community
				}
			}
			sr_messalian_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_messalian_community
						owned_by = PREV
					}

					religion = messalian
					remove_province_modifier = secret_messalian_community
				}
			}
			sr_sunni_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_sunni_community
						owned_by = PREV
					}

					religion = sunni
					remove_province_modifier = secret_sunni_community
				}
			}
			sr_zikri_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_zikri_community
						owned_by = PREV
					}

					religion = zikri
					remove_province_modifier = secret_zikri_community
				}
			}
			sr_yazidi_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_yazidi_community
						owned_by = PREV
					}

					religion = yazidi
					remove_province_modifier = secret_yazidi_community
				}
			}
			sr_ibadi_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_ibadi_community
						owned_by = PREV
					}

					religion = ibadi
					remove_province_modifier = secret_ibadi_community
				}
			}
			sr_kharijite_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_kharijite_community
						owned_by = PREV
					}

					religion = kharijite
					remove_province_modifier = secret_kharijite_community
				}
			}
			sr_shiite_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_shiite_community
						owned_by = PREV
					}

					religion = shiite
					remove_province_modifier = secret_shiite_community
				}
			}
			sr_druze_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_druze_community
						owned_by = PREV
					}

					religion = druze
					remove_province_modifier = secret_druze_community
				}
			}
			sr_hurufi_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_hurufi_community
						owned_by = PREV
					}

					religion = hurufi
					remove_province_modifier = secret_hurufi_community
				}
			}
			sr_qarmatian_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_qarmatian_community
						owned_by = PREV
					}

					religion = qarmatian
					remove_province_modifier = secret_qarmatian_community
				}
			}
			sr_jewish_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_jewish_community
						owned_by = PREV
					}

					religion = jewish
					remove_province_modifier = secret_jewish_community
				}
			}
			sr_karaite_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_karaite_community
						owned_by = PREV
					}

					religion = karaite
					remove_province_modifier = secret_karaite_community
				}
			}
			sr_samaritan_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_samaritan_community
						owned_by = PREV
					}

					religion = samaritan
					remove_province_modifier = secret_samaritan_community
				}
			}
			sr_zoroastrian_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_zoroastrian_community
						owned_by = PREV
					}

					religion = zoroastrian
					remove_province_modifier = secret_zoroastrian_community
				}
			}
			sr_mazdaki_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_mazdaki_community
						owned_by = PREV
					}

					religion = mazdaki
					remove_province_modifier = secret_mazdaki_community
				}
			}
			sr_manichaean_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_manichaean_community
						owned_by = PREV
					}

					religion = manichaean
					remove_province_modifier = secret_manichaean_community
				}
			}
			sr_khurmazta_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_khurmazta_community
						owned_by = PREV
					}

					religion = khurmazta
					remove_province_modifier = secret_khurmazta_community
				}
			}
			sr_bon_pagan_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_bon_pagan_community
						owned_by = PREV
					}

					religion = bon_pagan
					remove_province_modifier = secret_bon_pagan_community
				}
			}
			sr_bon_pagan_reformed_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_bon_pagan_reformed_community
						owned_by = PREV
					}

					religion = bon_pagan_reformed
					remove_province_modifier = secret_bon_pagan_reformed_community
				}
			}
			sr_hellenic_pagan_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_hellenic_pagan_community
						owned_by = PREV
					}

					religion = hellenic_pagan
					remove_province_modifier = secret_hellenic_pagan_community
				}
			}
			sr_hellenic_pagan_reformed_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_hellenic_pagan_reformed_community
						owned_by = PREV
					}

					religion = hellenic_pagan_reformed
					remove_province_modifier = secret_hellenic_pagan_reformed_community
				}
			}
			sr_taoist_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_taoist_community
						owned_by = PREV
					}

					religion = taoist
					remove_province_modifier = secret_taoist_community
				}
			}
			sr_hindu_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_hindu_community
						owned_by = PREV
					}

					religion = hindu
					remove_province_modifier = secret_hindu_community
				}
			}
			sr_buddhist_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_buddhist_community
						owned_by = PREV
					}

					religion = buddhist
					remove_province_modifier = secret_buddhist_community
				}
			}
			sr_jain_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_jain_community
						owned_by = PREV
					}

					religion = jain
					remove_province_modifier = secret_jain_community
				}
			}
			sr_norse_pagan_reformed_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_norse_pagan_reformed_community
						owned_by = PREV
					}

					religion = norse_pagan_reformed
					remove_province_modifier = secret_norse_pagan_reformed_community
				}
			}
			sr_slavic_pagan_reformed_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_slavic_pagan_reformed_community
						owned_by = PREV
					}

					religion = slavic_pagan_reformed
					remove_province_modifier = secret_slavic_pagan_reformed_community
				}
			}
			sr_tengri_pagan_reformed_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_tengri_pagan_reformed_community
						owned_by = PREV
					}

					religion = tengri_pagan_reformed
					remove_province_modifier = secret_tengri_pagan_reformed_community
				}
			}
			sr_baltic_pagan_reformed_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_baltic_pagan_reformed_community
						owned_by = PREV
					}

					religion = baltic_pagan_reformed
					remove_province_modifier = secret_baltic_pagan_reformed_community
				}
			}
			sr_finnish_pagan_reformed_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_finnish_pagan_reformed_community
						owned_by = PREV
					}

					religion = finnish_pagan_reformed
					remove_province_modifier = secret_finnish_pagan_reformed_community
				}
			}
			sr_west_african_pagan_reformed_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_west_african_pagan_reformed_community
						owned_by = PREV
					}

					religion = west_african_pagan_reformed
					remove_province_modifier = secret_west_african_pagan_reformed_community
				}
			}
			sr_zun_pagan_reformed_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_zun_pagan_reformed_community
						owned_by = PREV
					}

					religion = zun_pagan_reformed
					remove_province_modifier = secret_zun_pagan_reformed_community
				}
			}
			sr_norse_pagan_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_norse_pagan_community
						owned_by = PREV
					}

					religion = norse_pagan
					remove_province_modifier = secret_norse_pagan_community
				}
			}
			sr_slavic_pagan_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_slavic_pagan_community
						owned_by = PREV
					}

					religion = slavic_pagan
					remove_province_modifier = secret_slavic_pagan_community
				}
			}
			sr_tengri_pagan_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_tengri_pagan_community
						owned_by = PREV
					}

					religion = tengri_pagan
					remove_province_modifier = secret_tengri_pagan_community
				}
			}
			sr_baltic_pagan_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_baltic_pagan_community
						owned_by = PREV
					}

					religion = baltic_pagan
					remove_province_modifier = secret_baltic_pagan_community
				}
			}
			sr_finnish_pagan_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_finnish_pagan_community
						owned_by = PREV
					}

					religion = finnish_pagan
					remove_province_modifier = secret_finnish_pagan_community
				}
			}
			sr_west_african_pagan_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_west_african_pagan_community
						owned_by = PREV
					}

					religion = west_african_pagan
					remove_province_modifier = secret_west_african_pagan_community
				}
			}
			sr_zun_pagan_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_zun_pagan_community
						owned_by = PREV
					}

					religion = zun_pagan
					remove_province_modifier = secret_zun_pagan_community
				}
			}
			sr_aztec_pagan_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_aztec_pagan_community
						owned_by = PREV
					}

					religion = aztec_pagan
					remove_province_modifier = secret_aztec_pagan_community
				}
			}
			sr_aztec_pagan_reformed_prov_flip = {
				any_demesne_province = {
					limit = {
						has_province_modifier = secret_aztec_pagan_reformed_community
						owned_by = PREV
					}

					religion = aztec_pagan_reformed
					remove_province_modifier = secret_aztec_pagan_reformed_community
				}
			}
		}
	}

	clr_character_flag = sr_catholic_prov_flip
	clr_character_flag = sr_cathar_prov_flip
	clr_character_flag = sr_fraticelli_prov_flip
	clr_character_flag = sr_waldensian_prov_flip
	clr_character_flag = sr_lollard_prov_flip
	clr_character_flag = sr_orthodox_prov_flip
	clr_character_flag = sr_miaphysite_prov_flip
	clr_character_flag = sr_monophysite_prov_flip
	clr_character_flag = sr_bogomilist_prov_flip
	clr_character_flag = sr_monothelite_prov_flip
	clr_character_flag = sr_iconoclast_prov_flip
	clr_character_flag = sr_paulician_prov_flip
	clr_character_flag = sr_nestorian_prov_flip
	clr_character_flag = sr_messalian_prov_flip
	clr_character_flag = sr_sunni_prov_flip
	clr_character_flag = sr_zikri_prov_flip
	clr_character_flag = sr_yazidi_prov_flip
	clr_character_flag = sr_ibadi_prov_flip
	clr_character_flag = sr_kharijite_prov_flip
	clr_character_flag = sr_shiite_prov_flip
	clr_character_flag = sr_druze_prov_flip
	clr_character_flag = sr_hurufi_prov_flip
	clr_character_flag = sr_qarmatian_prov_flip
	clr_character_flag = sr_jewish_prov_flip
	clr_character_flag = sr_karaite_prov_flip
	clr_character_flag = sr_samaritan_prov_flip
	clr_character_flag = sr_zoroastrian_prov_flip
	clr_character_flag = sr_mazdaki_prov_flip
	clr_character_flag = sr_manichaean_prov_flip
	clr_character_flag = sr_khurmazta_prov_flip
	clr_character_flag = sr_bon_pagan_prov_flip
	clr_character_flag = sr_bon_pagan_reformed_prov_flip
	clr_character_flag = sr_hellenic_pagan_prov_flip
	clr_character_flag = sr_hellenic_pagan_reformed_prov_flip
	clr_character_flag = sr_taoist_prov_flip
	clr_character_flag = sr_hindu_prov_flip
	clr_character_flag = sr_buddhist_prov_flip
	clr_character_flag = sr_jain_prov_flip
	clr_character_flag = sr_norse_pagan_reformed_prov_flip
	clr_character_flag = sr_slavic_pagan_reformed_prov_flip
	clr_character_flag = sr_tengri_pagan_reformed_prov_flip
	clr_character_flag = sr_baltic_pagan_reformed_prov_flip
	clr_character_flag = sr_finnish_pagan_reformed_prov_flip
	clr_character_flag = sr_west_african_pagan_reformed_prov_flip
	clr_character_flag = sr_zun_pagan_reformed_prov_flip
	clr_character_flag = sr_norse_pagan_prov_flip
	clr_character_flag = sr_slavic_pagan_prov_flip
	clr_character_flag = sr_tengri_pagan_prov_flip
	clr_character_flag = sr_baltic_pagan_prov_flip
	clr_character_flag = sr_finnish_pagan_prov_flip
	clr_character_flag = sr_west_african_pagan_prov_flip
	clr_character_flag = sr_zun_pagan_prov_flip
	clr_character_flag = sr_aztec_pagan_prov_flip
	clr_character_flag = sr_aztec_pagan_reformed_prov_flip
}

add_secret_religious_community_to_event_target = {
	trigger_switch = {
		on_trigger = secret_religion

		catholic = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_catholic_community
					duration = -1
				}
			}
		}
		cathar = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_cathar_community
					duration = -1
				}
			}
		}
		fraticelli = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_fraticelli_community
					duration = -1
				}
			}
		}
		waldensian = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_waldensian_community
					duration = -1
				}
			}
		}
		lollard = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_lollard_community
					duration = -1
				}
			}
		}
		orthodox = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_orthodox_community
					duration = -1
				}
			}
		}
		miaphysite = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_miaphysite_community
					duration = -1
				}
			}
		}
		monophysite = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_monophysite_community
					duration = -1
				}
			}
		}
		bogomilist = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_bogomilist_community
					duration = -1
				}
			}
		}
		monothelite = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_monothelite_community
					duration = -1
				}
			}
		}
		iconoclast = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_iconoclast_community
					duration = -1
				}
			}
		}
		paulician = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_paulician_community
					duration = -1
				}
			}
		}
		nestorian = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_nestorian_community
					duration = -1
				}
			}
		}
		messalian = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_messalian_community
					duration = -1
				}
			}
		}
		sunni = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_sunni_community
					duration = -1
				}
			}
		}
		zikri = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_zikri_community
					duration = -1
				}
			}
		}
		yazidi = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_yazidi_community
					duration = -1
				}
			}
		}
		ibadi = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_ibadi_community
					duration = -1
				}
			}
		}
		kharijite = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_kharijite_community
					duration = -1
				}
			}
		}
		shiite = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_shiite_community
					duration = -1
				}
			}
		}
		druze = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_druze_community
					duration = -1
				}
			}
		}
		hurufi = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_hurufi_community
					duration = -1
				}
			}
		}
		qarmatian = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_qarmatian_community
					duration = -1
				}
			}
		}
		jewish = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_jewish_community
					duration = -1
				}
			}
		}
		karaite = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_karaite_community
					duration = -1
				}
			}
		}
		samaritan = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_samaritan_community
					duration = -1
				}
			}
		}
		zoroastrian = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_zoroastrian_community
					duration = -1
				}
			}
		}
		mazdaki = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_mazdaki_community
					duration = -1
				}
			}
		}
		manichaean = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_manichaean_community
					duration = -1
				}
			}
		}
		khurmazta = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_khurmazta_community
					duration = -1
				}
			}
		}
		bon_pagan = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_bon_pagan_community
					duration = -1
				}
			}
		}
		bon_pagan_reformed = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_bon_pagan_reformed_community
					duration = -1
				}
			}
		}
		hellenic_pagan = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_hellenic_pagan_community
					duration = -1
				}
			}
		}
		hellenic_pagan_reformed = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_hellenic_pagan_reformed_community
					duration = -1
				}
			}
		}
		taoist = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_taoist_community
					duration = -1
				}
			}
		}
		hindu = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_hindu_community
					duration = -1
				}
			}
		}
		buddhist = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_buddhist_community
					duration = -1
				}
			}
		}
		jain = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_jain_community
					duration = -1
				}
			}
		}
		norse_pagan_reformed = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_norse_pagan_reformed_community
					duration = -1
				}
			}
		}
		baltic_pagan_reformed = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_baltic_pagan_reformed_community
					duration = -1
				}
			}
		}
		finnish_pagan_reformed = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_finnish_pagan_reformed_community
					duration = -1
				}
			}
		}
		slavic_pagan_reformed = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_slavic_pagan_reformed_community
					duration = -1
				}
			}
		}
		tengri_pagan_reformed = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_tengri_pagan_reformed_community
					duration = -1
				}
			}
		}
		west_african_pagan_reformed = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_west_african_pagan_reformed_community
					duration = -1
				}
			}
		}
		zun_pagan_reformed = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_zun_pagan_reformed_community
					duration = -1
				}
			}
		}
		norse_pagan = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_norse_pagan_community
					duration = -1
				}
			}
		}
		baltic_pagan = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_baltic_pagan_community
					duration = -1
				}
			}
		}
		finnish_pagan = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_finnish_pagan_community
					duration = -1
				}
			}
		}
		slavic_pagan = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_slavic_pagan_community
					duration = -1
				}
			}
		}
		tengri_pagan = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_tengri_pagan_community
					duration = -1
				}
			}
		}
		west_african_pagan = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_west_african_pagan_community
					duration = -1
				}
			}
		}
		zun_pagan = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_zun_pagan_community
					duration = -1
				}
			}
		}
		aztec_pagan = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_aztec_pagan_community
					duration = -1
				}
			}
		}
		aztec_pagan_reformed = {
			event_target:target_province = {
				show_scope_change = no

				add_province_modifier = {
					name = secret_aztec_pagan_reformed_community
					duration = -1
				}
			}
		}
	}
}

